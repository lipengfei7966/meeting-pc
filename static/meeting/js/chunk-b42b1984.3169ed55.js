(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b42b1984"],{"13af":function(t,e,n){"use strict";n("4a0b")},"4a0b":function(t,e,n){},"909e":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"event_detail box"},[e("div",{staticClass:"event_process mar_b20 pad_tb10"},[e("div",{staticClass:"event_process_title flex_row justify_between align_center pad_lr20",staticStyle:{padding:"0 18px !important"}},[e("div",{staticClass:"flex_row align_center"},[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$router.replace("/EventList")}}},[t._v("会议列表")]),e("span",{staticClass:"mar_lr10",staticStyle:{color:"#7c7f82"}},[t._v(">")]),e("span",{staticStyle:{color:"#7c7f82"}},[t._v("会议详情（"+t._s(t.eventName)+"）")])],1)])]),e("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[e("div",{staticClass:"flex_row justify_between",staticStyle:{"font-size":"16px","font-family":"PingFang SC-特粗, PingFang SC","font-weight":"normal",color:"#333333"}},[e("p",{staticStyle:{"padding-left":"15px"}},[t._v(t._s(t.eventName))]),e("el-dropdown",{on:{command:t.handleCommand}},[e("span",{staticClass:"el-dropdown-link",staticStyle:{"font-size":"13px","font-family":"PingFang SC-粗体, PingFang SC","font-weight":"normal",color:"#409eff",cursor:"pointer"}},[t._v(" 更多"),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"1"}},[t._v("高级设置")]),t.isShowCancelBtn?e("el-dropdown-item",{attrs:{command:"2"}},[t._v("取消会议")]):t._e()],1)],1)],1),e("div",{staticClass:"steps"},[e("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{active:t.eventStatu,"finish-status":"finish","process-status":"process","align-center":""}},[e("el-step",{attrs:{title:"创建会议",description:"已完成"}}),e("el-step",{class:1==t.eventStatu?"processing":"",attrs:{title:"确定采购需求",description:t.eventStatu>=2?"已完成":"进行中"}}),e("el-step",{class:2==t.eventStatu?"processing":"",attrs:{title:"找供应商询价、议价",description:t.eventStatu>=3?"已完成":2==t.eventStatu?"进行中":"未开始"}}),e("el-step",{class:3==t.eventStatu?"processing":"",attrs:{title:"确认中标，生成订单",description:t.eventStatu>=4?"已完成":3==t.eventStatu?"进行中":"未开始"}}),e("el-step",{class:4==t.eventStatu?"processing":"",attrs:{title:"会后结算审批",description:t.eventStatu>=5?"已完成":4==t.eventStatu?"进行中":"未开始"}}),e("el-step",{class:5==t.eventStatu?"processing":"",attrs:{title:"会议完成",description:6==t.eventStatu?"已完成":5==t.eventStatu?"进行中":"未开始"}})],1)],1)]),e("div",{staticClass:"step_part"},[e("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[e("stepOne",{ref:"baseInfo",attrs:{eventId:t.eventId,eventName:t.eventName,isDMC:!1,isShowCancelBtn:t.isShowCancelBtn}}),e("stepTwo",{ref:"demandInfo",attrs:{eventId:t.eventId,eventName:t.eventName,isDMC:!1,isShowCancelBtn:t.isShowCancelBtn}}),e("stepThree",{attrs:{eventStatu:t.eventStatu}})],1),e("stepFour")],1),e("el-dialog",{attrs:{visible:t.cancelEventDialog,width:"40%",title:"取消会议"},on:{"update:visible":function(e){t.cancelEventDialog=e}}},[e("div",{staticStyle:{width:"100%","text-align":"left","padding-bottom":"20px"}},[t._v(" 取消会议，将同时取消询价单。您确认取消会议吗？ ")]),e("el-input",{attrs:{type:"textarea",size:"small",rows:6,placeholder:"请简要说明取消原因"},model:{value:t.cancelReason,callback:function(e){t.cancelReason=e},expression:"cancelReason"}}),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticStyle:{background:"#fff",border:"1px solid #dcdfe6",color:"#606266"},attrs:{type:"info",size:"small"},on:{click:function(e){t.cancelEventDialog=!1}}},[t._v("暂不取消")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.cancelEventTap}},[t._v("确认取消")])],1)],1)],1)},a=[],i=(n("cf45"),n("f2fb")),o=n("08df"),l=n("fc4e"),c=n("7b47"),r={name:"eventDetail",data(){return{eventId:"",eventName:"",baseInfo:"",cancelEventDialog:!1,eventStatu:0,isDraft:"",cancelReason:"",isShowCancelBtn:!1}},components:{stepOne:i["a"],stepTwo:o["a"],stepThree:l["a"],stepFour:c["a"]},created(){console.log(this.$route.query.id),this.eventId=this.$route.query.id},mounted(){document.body.scrollTop=document.documentElement.scrollTop=0,this.eventId=this.$route.query.id,this.eventName=this.$route.query.name,this.getDetail(),this.cancelShow(),console.log(this.$route.query.id)},methods:{cancelShow(){this.$api.CancelShow({ID:this.$route.query.id,Type:1},"POST").then(t=>{this.isShowCancelBtn=t})},getDetail(){this.$api.conferenceInformation({MeetingID:this.eventId},"POST").then(t=>{this.$refs.baseInfo.baseInfo=t,this.isDraft=t.event_status,this.eventId=t.id,this.eventName=t.event_name}),this.$api.MeetingStatus({MeetingID:this.eventId},"POST").then(t=>{this.eventStatu=Number(t),console.log(t)}),this.$api.getPurchase({MeetingID:this.eventId},"POST").then(t=>{this.$refs.demandInfo.demandInfo=t}),this.$api.getServiceProvider({MeetingID:this.eventId},"POST").then(t=>{console.log(t),this.$refs.demandInfo.inquiryLIst=t}),this.$api.GetCommerce({},"POST").then(t=>{this.$refs.demandInfo.commerce=t})},cancelEventTap(){this.cancelReason?this.$api.cancelEvent({MeetingID:this.$route.query.id,Content:this.cancelReason},"POST").then(t=>{t&&(this.cancelEventDialog=!1,this.$message.success("会议取消成功！"),setTimeout(()=>{this.$router.replace({path:"/EventList"})},100))}):this.$message.warning("请简要说明取消原因")},handleCommand(t){1==t?this.$router.push({path:"/advancedsetting",query:{id:this.eventId,eventName:this.eventName}}):2==t&&(this.cancelEventDialog=!0)}}},d=r,p=(n("13af"),n("0b56")),v=Object(p["a"])(d,s,a,!1,null,null,null);e["default"]=v.exports}}]);