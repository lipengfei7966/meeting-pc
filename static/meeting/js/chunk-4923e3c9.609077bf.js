(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4923e3c9"],{"1c9d":function(t,e,s){"use strict";s("4f5a")},2527:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAORJREFUOE9jZKAQMFKonwGvAW/CAzIZGP4ziqzcOA2XRTgNeBMR4Pz/P8MOkEZGRgYPkRUb9mIzBKsBr8MD1RgY/59gYGAUhGj6/57hP6OF6Mr1t9ANwTDgYZS3INdf1uMMjIzqKIr//7/5jfm3pfyyre+RxVEM2O/gwKIjLrCdgZHRBauf///fc+XlB0/HAwf+wORRDLjt6cnOw88uCZJkZWCc+Z+BwQ0cBgwMu34z/E8Hsb98/Plcdfv2n1gNQLb1TXjQ+v+M/wPABvxn3CCycl0g0YEIUjhqABXCgNhMRnFuBAAjp2gRpEtzRgAAAABJRU5ErkJggg=="},2654:function(t,e,s){"use strict";s.d(e,"j",(function(){return a})),s.d(e,"k",(function(){return i})),s.d(e,"i",(function(){return l})),s.d(e,"h",(function(){return n})),s.d(e,"l",(function(){return r})),s.d(e,"e",(function(){return c})),s.d(e,"f",(function(){return d})),s.d(e,"b",(function(){return p})),s.d(e,"g",(function(){return _})),s.d(e,"a",(function(){return u})),s.d(e,"c",(function(){return f})),s.d(e,"d",(function(){return m}));s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0");function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}s("ac1f"),s("00b4"),s("d9e2"),s("a9e3"),s("159b");function a(t,e,s){var o=/^((0\d{2,3}-\d{7,8})|(1[34578]\d{9}))$/;""==e||void 0==e||null==e||o.test(e)||""==e?s():s(new Error("请输入正确的电话号码或者固话号码"))}function i(t,e,s){var o=/0\d{2}-\d{7,8}/;""==e||void 0==e||null==e||o.test(e)||""==e?s():s(new Error("请输入正确的固话（格式：区号+号码,如010-1234567）"))}function l(t,e,s){var o=/^[1][3,4,5,7,8][0-9]{9}$/;""==e||void 0==e||null==e||o.test(e)||""==e?s():s(new Error("请输入正确的电话号码"))}function n(t,e,s){var o=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;""==e||void 0==e||null==e||o.test(e)?s():s(new Error("请输入正确的邮箱地址"))}function r(t,e,s){var o=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;""==e||void 0==e||null==e||o.test(e)?s():s(new Error("请输入正确的URL"))}function c(t,e,s){if(!e)return s(new Error("输入不可以为空"));setTimeout((function(){if(Number(e)){var t=/^[0-9]*[1-9][0-9]*$/,o=t.test(e);o?s():s(new Error("请输入正整数"))}else s(new Error("请输入正整数"))}),0)}function d(t,e,s){e||s(),setTimeout((function(){if(Number(e)){var t=/^[0-9]*[1-9][0-9]*$/,o=t.test(e);o?s():s(new Error("请输入正整数"))}else s(new Error("请输入正整数"))}),1e3)}function p(t,e){var s={},a=[];if(t=Array.isArray(t)?t:[],e)for(var i=0;i<t.length;i++)if(s[t[i].date]){for(var l=0;l<a.length;l++)if(t[i].date===a[l].date){a[l].settlement+=Number("object"==o(t[i].settlement_total_price)?t[i].settlement_total_price.value:t[i].settlement_total_price),a[l].orgSettlement+=Number("object"==o(t[i].total_price)?t[i].total_price.value:t[i].total_price),a[l].data.push(t[i]);break}}else a.push({date:t[i].date,settlement:Number("object"==o(t[i].settlement_total_price)?t[i].settlement_total_price.value:t[i].settlement_total_price),orgSettlement:Number("object"==o(t[i].total_price)?t[i].total_price.value:t[i].total_price),data:[t[i]]}),s[t[i].date]=t[i];else for(var n=0;n<t.length;n++)if(s[t[n].date]){for(var r=0;r<a.length;r++)if(t[n].date===a[r].date){a[r].settlement+="object"==o(t[n].settlement_price)?t[n].settlement_price.value:t[n].settlement_price,a[r].orgSettlement+="object"==o(t[n].price)?t[n].price.value:t[n].price,a[r].data.push(t[n]);break}}else a.push({date:t[n].date,settlement:"object"==o(t[n].settlement_price)?t[n].settlement_price.value:t[n].settlement_price,orgSettlement:"object"==o(t[n].price)?t[n].price.value:t[n].price,data:[t[n]]}),s[t[n].date]=t[n];return a}function _(t){var e={},s=[];t=Array.isArray(t)?t:[];for(var o=0;o<t.length;o++)if(e[t[o].checkindate]){for(var a=0;a<s.length;a++)if(t[o].checkindate===s[a].checkindate){"大床房"==t[o].roomtype?(s[a].bigBedNum=t[o].roomcount,s[a].totalNum+=t[o].roomcount):"双床房"==t[o].roomtype?(s[a].doubleBedNum=t[o].roomcount,s[a].totalNum+=t[o].roomcount):(s[a].suiteNum=t[o].roomcount,s[a].totalNum+=t[o].roomcount);break}}else t[o].bigBedNum=0,t[o].doubleBedNum=0,t[o].suiteNum=0,t[o].totalNum=0,"大床房"==t[o].roomtype?(t[o].bigBedNum=t[o].roomcount,t[o].totalNum+=t[o].roomcount):"双床房"==t[o].roomtype?(t[o].doubleBedNum=t[o].roomcount,t[o].totalNum+=t[o].roomcount):(t[o].suiteNum=t[o].roomcount,t[o].totalNum+=t[o].roomcount),s.push(t[o]),e[t[o].checkindate]=t[o];return s}function u(t){for(var e={},s=[],o=0;o<t.length;o++){var a=(t[o].build?t[o].build.price:0)+(t[o].rentalCosts?t[o].rentalCosts.price:0);if(t[o].equipment&&t[o].equipment.forEach((function(t){a+=t.price||0})),e[t[o].rentalCosts.time])for(var i=function(e){if(t[o].rentalCosts.time===s[e].time)return s[e].totalPrice+=(t[o].build?t[o].build.price:0)+(t[o].rentalCosts?t[o].rentalCosts.price:0),t[o].equipment&&t[o].equipment.forEach((function(t){s[e].totalPrice+=t.price||0})),s[e].data.push(t[o]),"break"},l=0;l<s.length;l++){var n=i(l);if("break"===n)break}else s.push({time:t[o].rentalCosts.time,totalPrice:a,data:[t[o]]}),e[t[o].rentalCosts.time]=t[o]}return s}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time",s={},o=[];t=t||[];for(var a=0;a<t.length;a++)if(s[t[a][e]]){for(var i=0;i<o.length;i++)if(t[a][e]===o[i].time){o[i].data.push(t[a]),o[i].car.push(t[a]);break}}else o.push({time:t[a][e],car_date:t[a][e].substring(0,10),breakfast:t[a].breakfast,networks:t[a].networks,describe:t[a].describe,otherrequirements:t[a].otherrequirements,type:t[a].type,room_budget:t[a].room_budget,purpose:t[a].purpose,offer_remarks:t[a].offer_remarks,comments:t[a].comments,data:[t[a]],car:[t[a]]}),s[t[a][e]]=t[a];return o}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time",s={},o=[];t=t||[];for(var a=0;a<t.length;a++)o.push({time:t[a][e],car_date:t[a][e].substring(0,10),breakfast:t[a].breakfast,networks:t[a].networks,describe:t[a].describe,otherrequirements:t[a].otherrequirements,type:t[a].type,room_budget:t[a].room_budget,purpose:t[a].purpose,offer_remarks:t[a].offer_remarks,comments:t[a].comments,data:[t[a]],car:[t[a]]}),s[t[a][e]]=t[a];return o}},2999:function(t,e,s){"use strict";s("b163")},"29bd":function(t,e,s){},"2d1a":function(t,e,s){"use strict";s("ec55")},"3dee":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"msd"},[s("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"a_click",attrs:{href:t.downloadUrl,target:"_blank",download:""}}),s("div",{staticClass:"path"},[s("ul",[s("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:function(e){return t.$router.replace({path:"/EventList"})}}},[t._v("我的会议")]),s("li",{staticStyle:{color:"#7c7f82"}},[t._v(">")]),s("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(t._s(t.$route.query.event_name))]),t.prev?s("li",{staticStyle:{color:"#7c7f82"}},[t._v(">")]):t._e(),t.prev?s("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(t._s(t.prev))]):t._e(),s("li",{staticStyle:{color:"#7c7f82"}},[t._v(">")]),s("li",{staticStyle:{color:"#7c7f82"}},[t._v("结算单详情")])],1)]),s("div",{staticClass:"blue_title"},[s("span",[t._v("会议服务商结算清单")]),s("div",{staticClass:"rights"},[s("i",{staticClass:"el-icon-document"}),s("p",{staticStyle:{cursor:"pointer"},on:{click:t.downloadSettlement}},[t._v("下载结算单")])])]),s("div",{staticClass:"main-max"},[s("div",{staticClass:"base-part"},[s("base-part",{attrs:{source:"approve",isMsd:!0}})],1),s("div",{staticClass:"Sketch"},[s("p",[t._v("结算简述")]),s("div",{staticStyle:{padding:"0 15px"}},[s("el-divider")],1)]),t.detail?s("div",{staticClass:"conferee"},[s("div",{staticStyle:{padding:"0 15px"}},[s("el-descriptions",{attrs:{title:""}},[s("el-descriptions-item",{attrs:{label:"订单状态"}},[s("span",{staticClass:"sp-color"},[t._v(t._s(this.detail.status_name))]),1==this.detail.role?s("el-tag",{staticStyle:{"margin-left":"10px",cursor:"pointer",color:"white",display:"inline-block","background-color":"#409eff","border-radius":"5px"},attrs:{size:"small"},on:{click:t.InvoiceMsdSettlementReject}},[t._v("驳回结算单")]):t._e()],1),s("el-descriptions-item",{attrs:{label:"PO单号"}},[s("span",{staticClass:"sp-color"},[t._v(t._s(this.detail.pocode))])]),s("el-descriptions-item",{attrs:{label:"供应商"}},[s("span",{staticClass:"sp-color"},[t._v(t._s(this.detail.company_name))])])],1),1==t.detail.type?s("div",[s("el-descriptions",{attrs:{title:""}},[s("el-descriptions-item",{attrs:{label:"采购酒店"}},[s("span",{staticClass:"sp-color"},[t._v(t._s(this.detail.settlement_hotelname?this.detail.settlement_hotelname:"未选择采购酒店"))]),this.detail.isuser_preferred_hotel?s("el-checkbox",{staticStyle:{"line-height":"30px","margin-left":"20px"},attrs:{"true-label":1,"false-label":0},model:{value:this.detail.isuser_preferred_hotel,callback:function(e){t.$set(this.detail,"isuser_preferred_hotel",e)},expression:"this.detail.isuser_preferred_hotel"}},[t._v("是否使用首选酒店")]):t._e()],1),s("el-descriptions-item",{attrs:{label:"供应商说明"}},[s("span",{staticClass:"sp-color"},[t._v(t._s(this.detail.settlement_offer_remarks))])]),s("el-descriptions-item",{attrs:{label:"上传完成日期"}},[s("span",{staticClass:"sp-color"},[t._v(t._s(this.fileList.cventDate))])])],1),s("el-descriptions",{attrs:{title:"",column:1,colon:!1}},[1==t.detail.type?s("el-descriptions-item",{attrs:{label:"实际参会人数："}},[s("span",{staticStyle:{"font-size":"14px",color:"black","margin-left":"10px"}},[t._v("外部人数："+t._s(this.detail.external_number)+" 人")]),s("span",{staticStyle:{"font-size":"14px",color:"black","margin-left":"10px"}},[t._v("内部人数："+t._s(this.detail.internal_number)+" 人")]),s("span",{staticStyle:{"font-size":"14px",color:"black","margin-left":"10px"}},[t._v("总人数："+t._s(this.detail.internal_number+this.detail.external_number))])]):t._e(),s("el-descriptions-item",{attrs:{label:"开票通知文件："}},[s("ul",t._l(t.fileList.kpFile,(function(e,o){return s("li",{key:o,staticStyle:{"margin-bottom":"20px"}},[s("span",{staticStyle:{color:"#409eff",cursor:"pointer"},on:{click:function(s){return t.handlePreview(e)}}},[t._v(" "+t._s(e.filename)+" ")]),s("span",[t._v(" 上传时间： "+t._s(e.create_time)+" ")])])})),0)]),s("el-descriptions-item",{attrs:{label:"发票文件："}},[s("div",{staticClass:"context",staticStyle:{display:"flex"}},[s("ul",t._l(t.fileList.fpFile,(function(e,o){return s("li",{key:o},[s("span",{staticStyle:{color:"#409eff",cursor:"pointer"},on:{click:function(s){return t.handlePreview(e)}}},[t._v(" "+t._s(e.filename)+" ")]),s("span",{staticStyle:{"margin-right":"10px"}},[t._v(" 上传时间： "+t._s(e.create_time)+" ")])])})),0),s("el-upload",{ref:"upload",attrs:{action:t.UploadFilesUrl,"on-success":t.uploadFile,"on-preview":t.handlePreview,"file-list":t.fileList.fpFile,"show-file-list":!1,multiple:!0}},[s("el-button",{attrs:{slot:"trigger",type:"primary",size:"medium "},slot:"trigger"},[t._v("选择文件")])],1)],1)]),s("el-descriptions-item",[s("span",{staticClass:"one margin-top:-10px;",staticStyle:{"font-size":"14px",color:"#2896eb","margin-left":"6px"}},[t._v(" "+t._s(Array.isArray(this.detail.file)?this.detail.file[0].filename:"")+" ")]),s("span",{staticClass:"two margin-left:6px;",staticStyle:{"font-size":"14px",color:"#2896eb"}},[t._v(" "+t._s(Array.isArray(this.detail.file)?this.detail.file[0].filepath:"")+" ")])])],1)],1):t._e()],1)]):t._e(),s("div",{staticClass:"sign"},[s("div",{staticStyle:{background:"rgba(242, 208, 157, 0.2)",margin:"0 15px"}},[s("div",{staticClass:"sign_"},[s("p",{staticStyle:{margin:"10px 10px",display:"inline-block"}},[s("el-checkbox",{attrs:{name:""},model:{value:t.isAddColorRed,callback:function(e){t.isAddColorRed=e},expression:"isAddColorRed"}}),s("span",{staticStyle:{"font-size":"14px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#333333","margin-left":"5px"}},[t._v("标记结算价与中标价不同之处")]),s("span",{staticStyle:{"font-size":"14px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#eb5851"}},[t._v("（红色）")])],1),s("p",[s("el-checkbox",{attrs:{name:"",id:""}}),s("span",{staticStyle:{"margin-left":"5px","font-size":"14px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#333333"}},[t._v("标记本次结算与上次结算不同之处")]),t._m(0)],1)])])]),t._m(1),s("div",{staticClass:"below"},[s("div",{staticStyle:{margin:"0 10px"}},[s("compare",{ref:"compare",attrs:{isAddColorRed:t.isAddColorRed},on:{objectionMsg:t.objectionMsgFn,voucher:t.voucherFn,otherDescription:t.otherDescriptionFn}})],1)]),s("div",{staticClass:"close"},[s("p",[t._v("结算凭证")]),s("div",{staticStyle:{padding:"0 15px"}},[s("el-divider")],1)]),s("div",{staticClass:"barch"},[s("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.voucherTableData,"header-cell-style":t.headClass,"header-cell-class-name":"white","row-class-name":t.rowClssName}},[s("el-table-column",{attrs:{prop:"name",label:"项目名称",width:"150",align:"left","header-align":"left"}}),s("el-table-column",{attrs:{label:"文件",width:"380"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.files,(function(e,o){return s("div",{key:o},[s("p",{directives:[{name:"show",rawName:"v-show",value:""!=e.file_name,expression:"file.file_name != ''"}]},[s("el-tooltip",{attrs:{content:e.file_name,placement:"bottom",effect:"light"}},[s("span",{staticStyle:{cursor:"pointer",color:"#0486fe"},on:{click:function(s){return t.handlePreview(e)}}},[t._v(t._s(t._f("commentEllipsis")(e.file_name,e.file_name)))])]),s("span",{staticStyle:{cursor:"pointer",color:"#0486fe",margin:"0 15px"},on:{click:function(s){return t.downloadFile(e)}}},[t._v(" 下载 ")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.update_time,expression:"file.update_time"}]},[t._v(t._s(" 上传时间： "+e.update_time)+" ")])],1)])}))}}])}),s("el-table-column",{attrs:{prop:"remarks",label:"供应商说明",formatter:function(t,e,s,o){return s||"-"}}}),s("el-table-column",{attrs:{prop:"message",label:"异议"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{attrs:{type:"text",placeholder:"请输入内容"},on:{input:t.messageInput},model:{value:e.row.message,callback:function(s){t.$set(e.row,"message",s)},expression:"scope.row.message"}})]}}])})],1)],1),s("div",{staticClass:"serve"},[s("p",[t._v("会议服务商其他说明")]),s("div",{staticStyle:{"border-top":"1px solid #eaeaea",margin:"0 10px"}},[s("div",{staticClass:"albedo"},[s("span",[t._v(t._s(t.otherDescription?t.otherDescription:" 暂无其他说明"))])])])]),s("div",{staticClass:"accraditation"},[s("p",[t._v("审批意见汇总")]),s("div",{staticStyle:{padding:"0 15px"}},[s("el-divider")],1)]),s("div",["待审核"==t.selectQuery.statu?s("div",{staticClass:"explain"},[s("p"),s("div")]):t._e()]),s("div",[s("div",{staticClass:"mound"},["待审核"==t.selectQuery.statu?s("el-button",{staticClass:"second",staticStyle:{padding:"10px 20px"},attrs:{type:"primary"},on:{click:function(e){t.addFileDialog=!0}}},[t._v("请供应商补充材料")]):t._e(),s("el-button",{staticClass:"first",style:"待审核"==t.selectQuery.statu?"padding:10px 20px;":"padding:10px 20px;margin-left:15px;margin-top:50px",attrs:{type:"warning"},on:{click:t.saveDissentTao}},[t._v("保存异议")]),"待审核"==t.selectQuery.statu?s("el-button",{staticStyle:{padding:"10px 20px"},attrs:{type:"success"},on:{click:function(e){return t.approvedTap("通过")}}},[t._v("审批通过")]):t._e(),"待审核"==t.selectQuery.statu?s("el-button",{staticStyle:{padding:"10px 20px"},attrs:{type:"danger"},on:{click:function(e){return t.approvedTap("不通过")}}},[t._v("审批不通过")]):t._e()],1)]),t._m(2),s("div",{staticClass:"diameter"},[s("div",{staticStyle:{margin:"0 30px"}},[s("el-collapse",{attrs:{accordion:""},on:{change:t.isActiveChange}},t._l(t.select,(function(e,o){return s("el-collapse-item",{key:o,attrs:{name:o}},[s("template",{slot:"title"},[s("span",{staticStyle:{"font-size":"14px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#333333"}},[t._v(" 第"+t._s(o+1)+"次结算 ")]),s("span",{staticStyle:{"font-size":"14px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#409eff","margin-left":"20px"}},[t._v(" "+t._s(t.collapseShowItemIndex===o?"收起":"展开")+" ")])]),t._l(e.data,(function(e,o){return s("div",{key:o,staticStyle:{"background-color":"#f5f7fa",padding:"20px 0px",margin:"0 20px","border-bottom":"1px solid #e4e7ed"}},[s("p",{staticClass:"color_p",staticStyle:{"font-size":"14px","margin-bottom":"10px"}},[t._v(" "+t._s(e.date)+" ")]),s("p",{staticClass:"color_p"},[t._v(" "+t._s(e.username)+" ( "+t._s(e.company_name)+" ) ")]),s("p",{staticClass:"color_p"},[t._v(t._s(e.state))]),s("div",{staticClass:"objectionDetailStyle",domProps:{innerHTML:t._s(e.message)},on:{click:function(e){return t.getImg(e)}}}),t._l(e.array,(function(e,o){return s("div",{key:o,staticClass:"flex_row"},[s("p",{staticClass:"color_p"},[t._v(t._s(e.name)+":")]),s("p",t._l(e.value,(function(e,o){return s("span",{key:o,staticClass:"filename",on:{click:function(s){return t.ApproveRecordDownloadFile(e)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])})),t._l(e.dissent,(function(e,o){return s("div",{key:o,staticClass:"flex_row"},[s("p",{staticClass:"color_p"},[t._v(t._s(e.name)+":")]),s("p",{domProps:{innerHTML:t._s(e.value)}})])}))],2)}))],2)})),1)],1)]),t._m(3),s("div",{staticClass:"Steps"},[s("div",{staticStyle:{width:"100%",margin:"0px 15px","margin-bottom":"30px"}},[s("el-table",{ref:"multipleTable",attrs:{data:t.arr,"header-cell-style":t.recordHeadClass}},[s("el-table-column",{attrs:{label:"审批步骤",prop:"approve_name"}}),s("el-table-column",{attrs:{prop:"fullname",label:"审批人","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{label:"审批状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("button",{class:["approveStatusBtn","待审核"==e.row.type?"":"审核通过"==e.row.type?"approvePassBtn":"approveNotPassBtn"]},[t._v(" "+t._s(e.row.type)+" ")])]}}])}),s("el-table-column",{attrs:{prop:"objection",label:"其他异议","show-overflow-tooltip":"",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.objection?s("el-button",{attrs:{type:"text"},on:{click:function(s){return t.checkObjection(e.row)}}},[t._v(" 查看异议 ")]):s("span",[t._v("暂无")])]}}])}),s("el-table-column",{attrs:{prop:"approve_data",label:"操作时间",align:"left","show-overflow-tooltip":""}})],1)],1)]),s("el-dialog",{attrs:{title:"确认审批结果",visible:t.dialogVisible,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("span",{staticStyle:{display:"inline-block","margin-bottom":"15px"}},[t._v(" 审批意见一旦提交则无法修改，是否确认当前审批"),s("span",{staticClass:"disapprove",class:["通过"===t.passMessage?"pass":""]},[t._v(t._s(t.passMessage))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"不通过"===t.passMessage,expression:"passMessage === '不通过'"}]},[s("ele-tiptap",{ref:"tiptap3"})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:"通过"===t.passMessage,expression:"passMessage === '通过'"}]},[s("ele-tiptap",{ref:"tiptap4"})],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"},on:{click:t.sendApprove}},[t._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"请填写说明",visible:t.addFileDialog,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(e){t.addFileDialog=e}}},[s("div",[s("p",{staticClass:"text_left mar_b10"},[t._v(" 我们将通知供应商补充结算材料，补充后将继续由您进行确认。 ")]),s("ele-tiptap",{ref:"tiptap2"})],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"small"},on:{click:function(e){t.addFileDialog=!1}}},[t._v("取 消")]),s("el-button",{staticStyle:{"margin-left":"10px","margin-top":"10px"},attrs:{size:"small",type:"primary"},on:{click:t.addFileTap}},[t._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"异议详情",visible:t.objectionVisible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(e){t.objectionVisible=e}}},[s("div",{staticClass:"objectionDetailStyle",domProps:{innerHTML:t._s(t.objectionDetail)},on:{click:function(e){return t.getImg(e)}}}),s("span",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small  "},on:{click:function(e){t.objectionVisible=!1}}},[t._v("关 闭")])],1)])],1)])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticStyle:{"font-size":"14px",color:"#777"}},[s("span",{staticStyle:{"margin-left":"10px"}},[t._v("(斜体加粗)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"voucher"},[s("p",[t._v("结算金额")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"record"},[s("p",[t._v("审核记录")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"record"},[s("p",[t._v("审批记录")])])}],i=s("ade3"),l=(s("fb6a"),s("d3b7"),s("159b"),s("ac1f"),s("5319"),s("caad"),s("3ca3"),s("ddb0"),s("2b3d"),s("9861"),s("e9c4"),s("99af"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"compare"},[o("div",{staticClass:"flex_row justify_between"},[o("div",{staticClass:"pad_10 flex_row text_center justify_center",staticStyle:{flex:"50%","background-color":"#f5f7fa"}},[o("p",{staticStyle:{"font-size":"14px","font-family":"PingFang SC-Medium, PingFang SC","font-weight":"600","margin-left":"35%",color:"#333333"}},[t._v(" 订单总价： ")]),o("h4",{staticClass:"t_orange"},[t._v(" ￥"+t._s((1*t.totalPrice.totalQuoted).toFixed(2))+" ")])]),o("div",{staticClass:"pad_10 flex_row justify_center",staticStyle:{flex:"30%","border-left":"1px solid #e4e4e4","background-color":"#fcf6eb"}},[o("p",{staticStyle:{"font-size":"14px","font-family":"PingFang SC-Medium, PingFang SC","font-weight":"600",color:"#333333"}},[t._v(" 总结算价： ")]),o("h4",{staticClass:"t_orange"},[t._v(" ￥"+t._s((1*t.totalPrice.totalSettlement).toFixed(2))+" ")]),t.totalPrice.totalQuoted>t.totalPrice.totalSettlement?o("h4",{staticStyle:{"padding-left":"10px",color:"#31a259","line-height":"20px"}},[o("i",{staticClass:"el-icon-bottom",staticStyle:{"font-weight":"800","font-size":"16px","margin-left":"10px"}}),o("span",{staticStyle:{"font-size":"16px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#333333","margin-left":"3px"}},[t._v(" "+t._s((100*(t.totalPrice.totalQuoted-t.totalPrice.totalSettlement)/t.totalPrice.totalQuoted).toFixed(2)+"%")+" ")])]):t._e(),t.totalPrice.totalQuoted<=t.totalPrice.totalSettlement?o("h4",{staticClass:"text_red",staticStyle:{"padding-left":"10px","line-height":"20px"}},[o("img",{attrs:{src:s("2527"),alt:"图片碎了"}}),o("span",{staticStyle:{"font-size":"16px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#333333"}},[t._v(t._s((100*(t.totalPrice.totalSettlement-t.totalPrice.totalQuoted)/t.totalPrice.totalQuoted).toFixed(2)+"%"))])]):t._e()])]),o("roomPart",{directives:[{name:"show",rawName:"v-show",value:t.roomListLength>0,expression:"roomListLength > 0"}],ref:"room",attrs:{totalPrice:t.totalPrice,isAddColorRed:t.isAddColorRed},on:{roomObjection:t.roomObjectionFn}}),o("eventPart",{directives:[{name:"show",rawName:"v-show",value:t.eventListLength>0,expression:"eventListLength > 0"}],ref:"event",attrs:{totalPrice:t.totalPrice,isAddColorRed:t.isAddColorRed},on:{eventObjection:t.eventObjectionFn}}),o("foodPart",{directives:[{name:"show",rawName:"v-show",value:t.foodListLength>0,expression:"foodListLength > 0"}],ref:"food",attrs:{totalPrice:t.totalPrice,isAddColorRed:t.isAddColorRed},on:{foodObjection:t.foodObjectionFn}}),o("foodOutsidePart",{directives:[{name:"show",rawName:"v-show",value:t.foodOutsideListLength>0,expression:"foodOutsideListLength > 0"}],ref:"foodOutside",attrs:{totalPrice:t.totalPrice,isAddColorRed:t.isAddColorRed},on:{foodOutsideObjection:t.foodOutsideObjectionFn}}),o("cerPart",{directives:[{name:"show",rawName:"v-show",value:t.carListLength>0,expression:"carListLength > 0"}],ref:"car",attrs:{totalPrice:t.totalPrice,isAddColorRed:t.isAddColorRed},on:{carObjection:t.carObjectionFn}}),o("transportPart",{directives:[{name:"show",rawName:"v-show",value:t.transportListLength>0,expression:"transportListLength > 0"}],ref:"transport",attrs:{totalPrice:t.totalPrice,isAddColorRed:t.isAddColorRed},on:{transportObjection:t.transportObjectionFn}}),o("otherPart",{directives:[{name:"show",rawName:"v-show",value:t.otherListLength>0,expression:"otherListLength > 0"}],ref:"other",attrs:{totalPrice:t.totalPrice,isAddColorRed:t.isAddColorRed},on:{otherObjection:t.otherObjectionFn}}),o("servicePart",{directives:[{name:"show",rawName:"v-show",value:t.serviceListLength>0,expression:"serviceListLength > 0"}],ref:"service",attrs:{totalPrice:t.totalPrice,isAddColorRed:t.isAddColorRed}}),o("taxPart",{directives:[{name:"show",rawName:"v-show",value:t.taxListLength>0,expression:"taxListLength > 0"}],ref:"tax",attrs:{totalPrice:t.totalPrice,isAddColorRed:t.isAddColorRed}}),o("div")],1)}),n=[],r=s("2909"),c=s("2654"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"food"},[s("div",{staticClass:"demand_part"},[s("div",{staticClass:"demand_title"},[s("table",{attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px"},on:{click:function(e){t.isShowRoom=!t.isShowRoom}}},[s("div",{staticClass:"flex_row align_center"},[s("div",[s("i",{class:t.isShowRoom?"el-icon-arrow-down":"el-icon-arrow-right",style:t.isShowRoom?"width: 16px;height: 30px;line-height: 33px;font-size: 12px;":"width: 16px;height: 30px;line-height: 45px;font-size: 12px;"})]),s("span",[t._v("酒店内餐饮")])])]),s("td",{staticClass:"text_center pad_tb10",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[t._v(" 报价金额："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.foodQuoted?t.totalPrice.foodQuoted.toFixed(2):"0.00"))])]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4","background-color":"#fcf6eb"}},[t._v(" 结算价："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.foodSettlement?t.totalPrice.foodSettlement.toFixed(2):"0.00"))])])])])]),t.isShowRoom?s("div",t._l(t.food,(function(e,o){return s("div",{key:o},[s("table",{staticClass:"demand_title_date",attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px !important"}},[t._v(" "+t._s(e.date)+" ")]),s("td",{staticClass:"pad_tb10 text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.orgSettlement.toFixed(2))+" ")]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.settlement.toFixed(2))+" ")])])]),s("el-table",{staticClass:"foodTable",attrs:{border:"",width:"100%",size:"mini",data:e.data,"header-cell-style":t.getStyle,"cell-style":t.getStyle}},[s("el-table-column",{attrs:{type:"expand",width:"5%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{staticClass:"objection",staticStyle:{"margin-left":"5%",width:"95%"},attrs:{size:"small",type:"text",placeholder:"请输入异议"},on:{input:t.inputObjection},model:{value:e.row.message,callback:function(s){t.$set(e.row,"message",s)},expression:"scope.row.message"}})]}}],null,!0)}),s("el-table-column",{attrs:{label:"事项",prop:"foodtype",width:"15%"}}),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.price?e.row.price.value.toFixed(2):e.row.price.toFixed(2))+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.count&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.count?e.row.count.value:e.row.count)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.total_price?e.row.total_price.value.toFixed(2):e.row.total_price.toFixed(2))+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量（人）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_price?e.row.settlement_price.value.toFixed(2):e.row.settlement_price.toFixed(2))+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_count&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_count?e.row.settlement_count.value:e.row.settlement_count)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_total_price?e.row.settlement_total_price.value.toFixed(2):e.row.settlement_total_price.toFixed(2))+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量（人）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2)],1)],1)})),0):t._e()])])},p=[],_={name:"food",props:["totalPrice","isAddColorRed"],data:function(){return{food:[],isShowRoom:!0}},methods:{getStyle:function(t,e,s,o){if(t.columnIndex<2)return"background:#fff !important"},inputObjection:function(){this.$emit("foodObjection",this.food)}}},u=_,f=(s("2999"),s("2877")),m=Object(f["a"])(u,d,p,!1,null,"38ea6f6a",null),h=m.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"food"},[s("div",{staticClass:"demand_part"},[s("div",{staticClass:"demand_title"},[s("table",{attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px"},on:{click:function(e){t.isShowRoom=!t.isShowRoom}}},[s("div",{staticClass:"flex_row align_center"},[s("div",[s("i",{class:t.isShowRoom?"el-icon-arrow-down":"el-icon-arrow-right",style:t.isShowRoom?"width: 16px;height: 30px;line-height: 33px;font-size: 12px;":"width: 16px;height: 30px;line-height: 45px;font-size: 12px;"})]),s("span",[t._v("酒店外餐饮")])])]),s("td",{staticClass:"text_center pad_tb10",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[t._v(" 报价金额："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.foodOutsideQuoted?t.totalPrice.foodOutsideQuoted.toFixed(2):"0.00"))])]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4","background-color":"#fcf6eb"}},[t._v(" 结算价："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.foodOutsideSettlement?t.totalPrice.foodOutsideSettlement.toFixed(2):"0.00"))])])])])]),t.isShowRoom?s("div",t._l(t.foodOutside,(function(e,o){return s("div",{key:o},[s("table",{staticClass:"demand_title_date",attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px !important"}},[t._v(" "+t._s(e.date)+" ")]),s("td",{staticClass:"pad_tb10 text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.orgSettlement.toFixed(2))+" ")]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.settlement.toFixed(2))+" ")])])]),s("el-table",{staticClass:"foodTable",attrs:{border:"",width:"100%",size:"mini",data:e.data,"header-cell-style":t.getStyle,"cell-style":t.getStyle}},[s("el-table-column",{attrs:{type:"expand",width:"5%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{staticClass:"objection",staticStyle:{"margin-left":"5%",width:"95%"},attrs:{size:"small",type:"text",placeholder:"请输入异议"},on:{input:t.inputObjection},model:{value:e.row.message,callback:function(s){t.$set(e.row,"message",s)},expression:"scope.row.message"}})]}}],null,!0)}),s("el-table-column",{attrs:{label:"事项",prop:"foodtype",width:"15%"}}),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.price?e.row.price.value.toFixed(2):e.row.price.toFixed(2))+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.count&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.count?e.row.count.value:e.row.count)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.total_price?e.row.total_price.value.toFixed(2):e.row.total_price.toFixed(2))+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量（人）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_price?e.row.settlement_price.value.toFixed(2):e.row.settlement_price.toFixed(2))+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_count&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_count?e.row.settlement_count.value:e.row.settlement_count)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_total_price?e.row.settlement_total_price.value.toFixed(2):e.row.settlement_total_price.toFixed(2))+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量（人）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2)],1)],1)})),0):t._e()])])},v=[],x={name:"foodOutside",props:["totalPrice","isAddColorRed"],data:function(){return{foodOutside:[],isShowRoom:!0}},methods:{getStyle:function(t,e,s,o){if(t.columnIndex<2)return"background:#fff !important"},inputObjection:function(){this.$emit("foodOutsideObjection",this.foodOutside)}}},w=x,g=(s("6fa6"),Object(f["a"])(w,b,v,!1,null,"91598b02",null)),y=g.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"food"},[s("div",{staticClass:"demand_part"},[s("div",{staticClass:"demand_title"},[s("table",{attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px"},on:{click:function(e){t.isShowRoom=!t.isShowRoom}}},[s("div",{staticClass:"flex_row align_center"},[s("div",[s("i",{class:t.isShowRoom?"el-icon-arrow-down":"el-icon-arrow-right",style:t.isShowRoom?"width: 16px;height: 30px;line-height: 33px;font-size: 12px;":"width: 16px;height: 30px;line-height: 45px;font-size: 12px;"})]),s("span",[t._v("会场需求")])])]),s("td",{staticClass:"text_center pad_tb10",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[t._v(" 报价金额："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.conferenceQuoted?t.totalPrice.conferenceQuoted.toFixed(2):"0.00"))])]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4","background-color":"#fcf6eb"}},[t._v(" 结算价："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.conferenceSettlement?t.totalPrice.conferenceSettlement.toFixed(2):"0.00"))])])])])]),t.isShowRoom?s("div",t._l(t.event,(function(e,o){return s("div",{key:o},[s("table",{staticClass:"demand_title_date",attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px !important"}},[t._v(" "+t._s(e.date)+" ")]),s("td",{staticClass:"pad_tb10 text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.orgSettlement?e.orgSettlement.toFixed(2):"0.00")+" ")]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.settlement?e.settlement.toFixed(2):"0.00")+" ")])])]),s("div",[s("el-table",{staticClass:"eventTable",attrs:{border:"",width:"100%",size:"mini",data:e.data,"header-cell-style":t.getStyle,"cell-style":t.getStyle}},[s("el-table-column",{attrs:{type:"expand",width:"5%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{staticClass:"objection",staticStyle:{"margin-left":"5%",width:"95%"},attrs:{size:"small",type:"text",placeholder:"请输入异议"},on:{input:t.inputObjection},model:{value:e.row.message,callback:function(s){t.$set(e.row,"message",s)},expression:"scope.row.message"}})]}}],null,!0)}),s("el-table-column",{attrs:{label:"事项",prop:"name",width:"15%"}}),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1 text_center"}),s("span",{class:["flex_1","text_center","object"==typeof e.row.price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.price?e.row.price.value?e.row.price.value.toFixed(2):"0.00":e.row.price?e.row.price.toFixed(2):"0.00")+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1 text_center"}),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_price?e.row.settlement_price.value?e.row.settlement_price.value.toFixed(2):"0.00":e.row.settlement_price?e.row.settlement_price.toFixed(2):"0.00")+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2)],1)],1)])})),0):t._e()])])},j=[],S={name:"compare",props:["totalPrice","isAddColorRed"],data:function(){return{event:[],isShowRoom:!0}},methods:{getStyle:function(t,e,s,o){if(t.columnIndex<2)return"background:#fff !important"},inputObjection:function(){this.$emit("eventObjection",this.event)}}},O=S,R=(s("d720"),Object(f["a"])(O,C,j,!1,null,null,null)),k=R.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"food"},[s("div",{staticClass:"demand_part"},[s("div",{staticClass:"demand_title"},[s("table",{attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px"},on:{click:function(e){t.isShowRoom=!t.isShowRoom}}},[s("div",{staticClass:"flex_row align_center"},[s("div",[s("i",{class:t.isShowRoom?"el-icon-arrow-down":"el-icon-arrow-right",style:t.isShowRoom?"width: 16px;height: 30px;line-height: 33px;font-size: 12px;":"width: 16px;height: 30px;line-height: 45px;font-size: 12px;"})]),s("span",[t._v("客房")])])]),s("td",{staticClass:"text_center pad_tb10",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[t._v(" 报价金额："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.roomQuoted?t.totalPrice.roomQuoted.toFixed(2):"0.00"))])]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4","background-color":"#fcf6eb"}},[t._v(" 结算价："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.roomSettlement?t.totalPrice.roomSettlement.toFixed(2):"0.00"))])])])])]),t.isShowRoom?s("div",t._l(t.room,(function(e,o){return s("div",{key:o},[s("table",{staticClass:"demand_title_date",attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",{staticStyle:{"box-sizing":"border-box"}},[s("td",{staticStyle:{width:"20%","padding-left":"20px !important","border-right":"1px solid #e4e4e4"}},[t._v(" "+t._s(e.date)+" ")]),s("td",{staticClass:"pad_tb10 text_center",staticStyle:{width:"40%","border-right":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.orgSettlement?e.orgSettlement.toFixed(2):"0.00")+" ")]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-right":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.settlement?e.settlement.toFixed(2):"0.00")+" ")])])]),s("el-table",{staticClass:"roomTable",attrs:{border:"",width:"100%",size:"mini",data:e.data,"header-cell-style":t.getStyle,"cell-style":t.getStyle,"span-method":t.arraySpanMethod,"row-style":t.rowStyle,"row-class-name":t.rowClassName}},[s("el-table-column",{attrs:{type:"expand",width:"5%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{staticClass:"objection",staticStyle:{"margin-left":"5%",width:"95%"},attrs:{size:"small",type:"text",placeholder:"请输入异议"},on:{input:t.inputObjection},model:{value:e.row.message,callback:function(s){t.$set(e.row,"message",s)},expression:"scope.row.message"}})]}}],null,!0)}),s("el-table-column",{attrs:{label:"事项",prop:"roomname",width:"15%"}}),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.price&&t.isAddColorRed?"colorRed":""],on:{click:function(s){return t.rowclick(e)}}},[t._v(" "+t._s("object"==typeof e.row.price?e.row.price.value?e.row.price.value.toFixed(2):"0.00":e.row.price?e.row.price.toFixed(2):"0.00")+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.count&&t.isAddColorRed?"colorRed":""]},[t._v(t._s("object"==typeof e.row.count?e.row.count.value:e.row.count))]),s("span",{class:["flex_1","text_center","object"==typeof e.row.total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.total_price?e.row.total_price.value?e.row.total_price.value.toFixed(2):"0.00":e.row.total_price?e.row.total_price.toFixed(2):"0.00")+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量（间）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_price?e.row.settlement_price.value?e.row.settlement_price.value.toFixed(2):"0.00":e.row.settlement_price?e.row.settlement_price.toFixed(2):"0.00")+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_count&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_count?e.row.settlement_count.value:e.row.settlement_count)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_total_price?e.row.settlement_total_price.value?e.row.settlement_total_price.value.toFixed(2):"0.00":e.row.settlement_total_price?e.row.settlement_total_price.toFixed(2):"0.00")+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量（间）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2)],1)],1)})),0):t._e()])])},F=[],A={name:"room",props:["totalPrice","isAddColorRed"],data:function(){return{room:[],isShowRoom:!0}},updated:function(){console.log(this.room)},methods:{getStyle:function(t,e,s,o){if(t.columnIndex<2)return"background:#fff!important"},rowClassName:function(t){t.row;var e=t.rowIndex;if(e%2!==0)return"display_none"},rowStyle:function(t,e){t.row;var s=t.rowIndex;return e&&s%2!==0?{height:"36px",display:"block"}:s%2!==0?{height:"36px",display:"none"}:void 0},inputObjection:function(){this.$emit("roomObjection",this.room)},arraySpanMethod:function(t){t.row,t.column;var e=t.rowIndex,s=t.columnIndex;if(e%2!==0){if(1===s)return[1,2];if(2==s)return[0,0]}}}},$=A,D=(s("7f55"),Object(f["a"])($,P,F,!1,null,"273fe244",null)),L=D.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"food"},[s("div",{staticClass:"demand_part"},[s("div",{staticClass:"demand_title"},[s("table",{attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px"},on:{click:function(e){t.isShowRoom=!t.isShowRoom}}},[s("div",{staticClass:"flex_row align_center"},[s("div",[s("i",{class:t.isShowRoom?"el-icon-arrow-down":"el-icon-arrow-right",style:t.isShowRoom?"width: 16px;height: 30px;line-height: 33px;font-size: 12px;":"width: 16px;height: 30px;line-height: 45px;font-size: 12px;"})]),s("span",[t._v("地面交通")])])]),s("td",{staticClass:"text_center pad_tb10",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[t._v(" 报价金额："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.carQuoted?t.totalPrice.carQuoted.toFixed(2):"0.00"))])]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4","background-color":"#fcf6eb"}},[t._v(" 结算价："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.carSettlement?t.totalPrice.carSettlement.toFixed(2):"0.00"))])])])])]),t.isShowRoom?s("div",t._l(t.car,(function(e,o){return s("div",{key:o},[s("table",{staticClass:"demand_title_date",attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px !important"}},[t._v(" "+t._s(e.date)+" ")]),s("td",{staticClass:"pad_tb10 text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.orgSettlement.toFixed(2))+" ")]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.settlement.toFixed(2))+" ")])])]),s("el-table",{staticClass:"carTable",attrs:{border:"",width:"100%",size:"mini",data:e.data,"header-cell-style":t.getStyle,"cell-style":t.getStyle}},[s("el-table-column",{attrs:{type:"expand",width:"5%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{staticClass:"objection",staticStyle:{"margin-left":"5%",width:"95%"},attrs:{size:"small",type:"text",placeholder:"请输入异议"},on:{input:t.inputObjection},model:{value:e.row.message,callback:function(s){t.$set(e.row,"message",s)},expression:"scope.row.message"}})]}}],null,!0)}),s("el-table-column",{attrs:{label:"事项",prop:"settlement_itemname",width:"15%"}}),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.price?e.row.price.value?e.row.price.value.toFixed(2):"0.00":e.row.price?e.row.price.toFixed(2):"0.00")+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.count&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.count?e.row.count.value:e.row.count)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.total_price?e.row.total_price.value?e.row.total_price.value.toFixed(2):"0.00":e.row.total_price?e.row.total_price.toFixed(2):"0.00")+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量（车）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_price?e.row.settlement_price.value?e.row.settlement_price.value.toFixed(2):"0.00":e.row.settlement_price?e.row.settlement_price.toFixed(2):"0.00")+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_count&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_count?e.row.settlement_count.value:e.row.settlement_count)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_total_price?e.row.settlement_total_price.value?e.row.settlement_total_price.value.toFixed(2):"0.00":e.row.settlement_total_price?e.row.settlement_total_price.toFixed(2):"0.00")+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量（车）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2)],1)],1)})),0):t._e()])])},z=[],M={name:"car",props:["totalPrice","isAddColorRed"],data:function(){return{car:[],isShowRoom:!0}},methods:{getStyle:function(t,e,s,o){if(t.columnIndex<2)return"background:#fff !important"},inputObjection:function(){this.$emit("carObjection",this.car)}}},I=M,E=(s("6042"),Object(f["a"])(I,T,z,!1,null,"56c4c6dc",null)),N=E.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"food"},[s("div",{staticClass:"demand_part"},[s("div",{staticClass:"demand_title"},[s("table",{attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px"},on:{click:function(e){t.isShowRoom=!t.isShowRoom}}},[s("div",{staticClass:"flex_row align_center"},[s("div",[s("i",{class:t.isShowRoom?"el-icon-arrow-down":"el-icon-arrow-right",style:t.isShowRoom?"width: 16px;height: 30px;line-height: 33px;font-size: 12px;":"width: 16px;height: 30px;line-height: 45px;font-size: 12px;"})]),s("span",[t._v("大交通")])])]),s("td",{staticClass:"text_center pad_tb10",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[t._v(" 报价金额："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.transportationQuoted?t.totalPrice.transportationQuoted.toFixed(2):"0.00"))])]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4","background-color":"#fcf6eb"}},[t._v(" 结算价："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.transportationSettlement?t.totalPrice.transportationSettlement.toFixed(2):"0.00"))])])])])]),t.isShowRoom?s("div",t._l(t.transport,(function(e,o){return s("div",{key:o},[s("table",{staticClass:"demand_title_date",attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px !important"}},[t._v(" "+t._s(e.date)+" ")]),s("td",{staticClass:"pad_tb10 text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.orgSettlement.toFixed(2))+" ")]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("span",[t._v("小计：")]),t._v("￥"+t._s(e.settlement.toFixed(2))+" ")])])]),s("el-table",{staticClass:"transportTable",attrs:{border:"",width:"100%",size:"mini",data:e.data,"header-cell-style":t.getStyle,"cell-style":t.getStyle}},[s("el-table-column",{attrs:{type:"expand",width:"5%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{staticClass:"objection",staticStyle:{"margin-left":"5%",width:"95%"},attrs:{size:"small",type:"text",placeholder:"请输入异议"},on:{input:t.inputObjection},model:{value:e.row.message,callback:function(s){t.$set(e.row,"message",s)},expression:"scope.row.message"}})]}}],null,!0)}),s("el-table-column",{attrs:{label:"事项",prop:"settlement_itemname",width:"15%"}}),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.price?e.row.price.value?e.row.price.value.toFixed(2):"0.00":e.row.price?e.row.price.toFixed(2):"0.00")+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.count&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s(" object"==typeof e.row.count?e.row.count.value:e.row.count)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s((e.row.total_price,e.row.total_price?e.row.total_price.toFixed(2):"0.00"))+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量（人）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_price?e.row.settlement_price.value?e.row.settlement_price.value.toFixed(2):"0.00":e.row.settlement_price?e.row.settlement_price.toFixed(2):"0.00")+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_count&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_count?e.row.settlement_count.value:e.row.settlement_count)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_total_price?e.row.settlement_total_price.value?e.row.settlement_total_price.value.toFixed(2):"0.00":e.row.settlement_total_price?e.row.settlement_total_price.toFixed(2):"0.00")+" ")])])]}}],null,!0)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量（人）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2)],1)],1)})),0):t._e()])])},U=[],q={name:"transport",props:["totalPrice","isAddColorRed"],data:function(){return{transport:[],isShowRoom:!0}},methods:{getStyle:function(t,e,s,o){if(t.columnIndex<2)return"background:#fff !important"},inputObjection:function(){this.$emit("transportObjection",this.transport)}}},B=q,H=(s("5fd3"),Object(f["a"])(B,Q,U,!1,null,"57e1a72a",null)),G=H.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"service"},[s("div",{staticClass:"demand_part"},[s("div",{staticClass:"demand_title"},[s("table",{attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",{staticStyle:{background:"#f5f7fa !important"}},[s("td",{staticStyle:{width:"20%","padding-left":"20px"},on:{click:function(e){t.isShowRoom=!t.isShowRoom}}},[s("div",{staticClass:"flex_row align_center"},[s("div",[s("i",{class:t.isShowRoom?"el-icon-arrow-down":"el-icon-arrow-right",style:t.isShowRoom?"width: 16px;height: 30px;line-height: 33px;font-size: 12px;":"width: 16px;height: 30px;line-height: 45px;font-size: 12px;"})]),s("span",{staticClass:"font_14 t_000"},[t._v("服务费")])])]),s("td",{staticClass:"text_center pad_tb10 font_14 t_000",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[t._v(" 报价金额："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.positiveFloat(1*t.serviceCharge.quoted_serviceCharge)))])]),s("td",{staticClass:"text_center font_14 t_000",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4","background-color":"#fcf6eb"}},[t._v(" 结算价："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.positiveFloat(1*t.serviceCharge.serviceCharge)))])]),s("td",{staticStyle:{width:"20%","border-left":"1px solid #e4e4e4"}})])])]),t.isShowRoom?s("div",[s("table",{staticClass:"demand_title_date tax_part",attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[t._m(0),t._l(t.serviceCharge.serviceData,(function(e,o){return s("tr",{key:o},[s("td",{staticClass:"pad_tb10",staticStyle:{width:"20%","padding-left":"20px !important"}},[t._v(" "+t._s(e.quoted_name)+" ")]),s("td",{staticClass:"pad_tb10",staticStyle:{width:"30%","border-left":"1px solid #e4e4e4"}},[s("div",{staticClass:"pad_lr10 flex_row justify_between"},[s("span",{staticClass:"flex_1"}),s("span",{staticClass:"flex_1"}),s("span",{staticClass:"flex_1"},[t._v(t._s(e.quoted_value))])])]),s("td",{staticStyle:{width:"30%","border-left":"1px solid #e4e4e4"}},[s("div",{staticClass:"pad_lr10 flex_row justify_between"},[s("span",{staticClass:"flex_1"}),s("span",{staticClass:"flex_1"}),s("span",{staticClass:"flex_1"},[t._v(t._s(e.value))])])]),s("td",{staticStyle:{width:"20%","border-left":"1px solid #e4e4e4"}})])})),s("tr",[s("td",{staticClass:"pad_tb10",staticStyle:{"padding-left":"20px !important"}},[t._v(" 非直采服务费说明: ")]),s("td",{staticStyle:{"border-left":"1px solid rgb(228, 228, 228)","padding-left":"20px !important"},attrs:{colspan:"3"}},[t._v(" "+t._s(t.serviceCharge.settlement_service_remark)+" ")])]),s("tr",[s("td",{staticClass:"pad_tb10",staticStyle:{"padding-left":"20px !important"}},[t._v(" 直采服务费说明: ")]),s("td",{staticStyle:{"border-left":"1px solid rgb(228, 228, 228)","padding-left":"20px !important"},attrs:{colspan:"3"}},[t._v(" "+t._s(t.serviceCharge.settlement_advance_remark)+" ")])])],2)]):t._e()])])},V=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px !important"}},[t._v("事项")]),s("td",{staticClass:"pad_tb10",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("div",{staticClass:"pad_lr10 flex_row justify_between"},[s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1"},[t._v("小计")])])]),s("td",{staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("div",{staticClass:"pad_lr10 flex_row justify_between"},[s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1"},[t._v("小计")])])])])}],J=s("cf45"),K={name:"compare",props:["totalPrice","isAddColorRed"],data:function(){return{serviceCharge:{},serviceItem:{},isShowRoom:!0}},methods:{positiveFloat:J["m"],getStyle:function(t,e,s,o){if(t.columnIndex<2)return"background:#fff !important"}}},Y=K,W=(s("823a"),Object(f["a"])(Y,Z,V,!1,null,"373b18cc",null)),X=W.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"food"},[s("div",{staticClass:"demand_part"},[s("div",{staticClass:"demand_title"},[s("table",{attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px"},on:{click:function(e){t.isShowRoom=!t.isShowRoom}}},[s("div",{staticClass:"flex_row align_center"},[s("div",[s("i",{class:t.isShowRoom?"el-icon-arrow-down":"el-icon-arrow-right",style:t.isShowRoom?"width: 16px;height: 30px;line-height: 33px;font-size: 12px;":"width: 16px;height: 30px;line-height: 45px;font-size: 12px;"})]),s("span",[t._v("其他")])])]),s("td",{staticClass:"text_center pad_tb10",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[t._v(" 报价金额："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.otherQuoted?t.totalPrice.otherQuoted.toFixed(2):"0.00"))])]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4","background-color":"#fcf6eb"}},[t._v(" 结算价："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s(t.totalPrice.otherSettlement?t.totalPrice.otherSettlement.toFixed(2):"0.00"))])])])])]),t.isShowRoom?s("div",[s("el-table",{staticClass:"otherTable",attrs:{border:"",width:"100%",size:"mini",data:t.other,"header-cell-style":t.getStyle,"cell-style":t.getStyle}},[s("el-table-column",{attrs:{type:"expand",width:"5%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{staticClass:"objection",staticStyle:{"margin-left":"5%",width:"95%"},attrs:{size:"small",type:"text",placeholder:"请输入异议"},on:{input:t.inputObjection},model:{value:e.row.message,callback:function(s){t.$set(e.row,"message",s)},expression:"scope.row.message"}})]}}],null,!1,1356804278)}),s("el-table-column",{attrs:{label:"事项",prop:"settlement_itemname",width:"15%"}}),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.price?e.row.price.value?e.row.price.value.toFixed(2):"0.00":e.row.price?e.row.price.toFixed(2):"0.00")+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.participatecount&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.participatecount?e.row.participatecount.value:e.row.participatecount||0)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.total_price?e.row.total_price.value?e.row.total_price.value.toFixed(2):"0.00":e.row.total_price?e.row.total_price.toFixed(2):"0.00")+" ")])])]}}],null,!1,1517702268)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2),s("el-table-column",{attrs:{width:"40%"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_price?e.row.settlement_price.value:e.row.settlement_price)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_count&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_count?e.row.settlement_count.value:e.row.settlement_count)+" ")]),s("span",{class:["flex_1","text_center","object"==typeof e.row.settlement_total_price&&t.isAddColorRed?"colorRed":""]},[t._v(" "+t._s("object"==typeof e.row.settlement_total_price?e.row.settlement_total_price.value?e.row.settlement_total_price.value.toFixed(2):"0.00":e.row.settlement_total_price?e.row.settlement_total_price.toFixed(2):"0.00")+" ")])])]}}],null,!1,3866799097)},[s("template",{slot:"header"},[s("div",{staticClass:"flex_row justify_between align_center"},[s("span",{staticClass:"flex_1 text_center"},[t._v("单价（元）")]),s("span",{staticClass:"flex_1 text_center"},[t._v("数量")]),s("span",{staticClass:"flex_1 text_center"},[t._v("金额（元）")])])])],2)],1)],1):t._e()])])},et=[],st={name:"other",props:["totalPrice","isAddColorRed"],data:function(){return{other:[],isShowRoom:!0}},methods:{getStyle:function(t,e,s,o){if(t.columnIndex<2)return"background:#fff !important"},inputObjection:function(){this.$emit("otherObjection",this.other)}}},ot=st,at=(s("1c9d"),Object(f["a"])(ot,tt,et,!1,null,"65dbc1be",null)),it=at.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tax"},[s("div",{staticClass:"demand_part"},[s("div",{staticClass:"demand_title"},[s("table",{attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[s("tr",{staticStyle:{background:"#f5f7fa !important"}},[s("td",{staticStyle:{width:"20%","padding-left":"20px"},on:{click:function(e){t.isShowRoom=!t.isShowRoom}}},[s("div",{staticClass:"flex_row align_center"},[s("div",[s("i",{class:t.isShowRoom?"el-icon-arrow-down":"el-icon-arrow-right",style:t.isShowRoom?"width: 16px;height: 30px;line-height: 33px;font-size: 12px;":"width: 16px;height: 30px;line-height: 45px;font-size: 12px;"})]),s("span",[t._v("税费")])])]),s("td",{staticClass:"text_center pad_tb10",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[t._v(" 报价金额："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s((1*t.serviceCharge.quoted_taxation).toFixed(2)))])]),s("td",{staticClass:"text_center",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4","background-color":"#fcf6eb"}},[t._v(" 结算价："),s("span",{staticClass:"t_orange"},[t._v("￥"+t._s((1*t.serviceCharge.taxation).toFixed(2)))])])])])]),t.isShowRoom?s("div",[s("table",{staticClass:"demand_title_date tax_part",attrs:{width:"100%",cellpadding:"10",cellspacing:"0"}},[t._m(0),t._l(t.serviceCharge.taxationData,(function(e,o){return s("tr",{key:o},[s("td",{staticClass:"pad_tb10",staticStyle:{width:"20%","padding-left":"20px !important"}},[t._v(" "+t._s(e.quoted_name)+" ")]),s("td",{staticClass:"pad_tb10",staticStyle:{width:"30%","border-left":"1px solid #e4e4e4"}},[s("div",{staticClass:"pad_lr10 flex_row justify_between"},[s("span",{staticClass:"flex_1"}),s("span",{staticClass:"flex_1"}),s("span",{staticClass:"flex_1"},[t._v(t._s(e.quoted_value))])])]),s("td",{staticStyle:{width:"30%","border-left":"1px solid #e4e4e4"}},[s("div",{staticClass:"pad_lr10 flex_row justify_between"},[s("span",{staticClass:"flex_1"}),s("span",{staticClass:"flex_1"}),s("span",{staticClass:"flex_1"},[t._v(t._s(e.value))])])]),s("td",{staticStyle:{width:"20%","border-left":"1px solid #e4e4e4"}})])})),s("tr",[s("td",{staticClass:"pad_tb10",staticStyle:{"padding-left":"20px !important"}},[t._v(" 税费说明: ")]),s("td",{staticStyle:{"border-left":"1px solid rgb(228, 228, 228)","padding-left":"20px !important"},attrs:{colspan:"3"}},[t._v(" "+t._s(t.serviceCharge.settlement_taxrate_comments)+" ")])])],2)]):t._e()])])},nt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticStyle:{width:"20%","padding-left":"20px !important"}},[t._v("事项")]),s("td",{staticClass:"pad_tb10",staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("div",{staticClass:"pad_lr10 flex_row justify_between"},[s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1"},[t._v("小计")])])]),s("td",{staticStyle:{width:"40%","border-left":"1px solid #e4e4e4"}},[s("div",{staticClass:"pad_lr10 flex_row justify_between"},[s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1 text_center"}),s("span",{staticClass:"flex_1"},[t._v("小计")])])])])}],rt={name:"compare",props:["totalPrice","isAddColorRed"],data:function(){return{tax:[],serviceCharge:{},isShowRoom:!0}},methods:{getStyle:function(t,e,s,o){if(t.columnIndex<2)return"background:#fff9f5!important"}}},ct=rt,dt=(s("d517"),Object(f["a"])(ct,lt,nt,!1,null,"bf5c4592",null)),pt=dt.exports,_t={name:"compare",props:["isAddColorRed"],data:function(){return{room:[],roomObjection:[],eventObjection:[],foodObjection:[],foodOutsideObjection:[],carObjection:[],transportObjection:[],otherObjection:[],objectionMessage:[],isShowRoom:!0,totalPrice:{},selectQuery:{},roomListLength:0,eventListLength:0,foodListLength:0,foodOutsideListLength:0,carListLength:0,transportListLength:0,otherListLength:0,serviceListLength:0,taxListLength:0,orderId:""}},components:{foodPart:h,foodOutsidePart:y,roomPart:L,cerPart:N,transportPart:G,eventPart:k,servicePart:X,otherPart:it,taxPart:pt},mounted:function(){this.getSettlementDetail()},methods:{getSettlementDetail:function(){var t=this;this.selectQuery=this.$route.query,this.$api.getSettlementDetail({SettlementSheetID:this.selectQuery.settlementId},"POST").then((function(e){console.log(e),t.roomListLength=e.room?e.room.length:0,t.eventListLength=e.conference?e.conference.length:0,t.foodListLength=e.food?e.food.length:0,t.foodOutsideListLength=e.foodOutside?e.foodOutside.length:0,t.carListLength=e.car?e.car.length:0,t.transportListLength=e.transportation?e.transportation.length:0,t.otherListLength=e.other?e.other.length:0,t.serviceListLength=e.serviceCharge.serviceData?e.serviceCharge.serviceData.length:0,t.taxListLength=e.serviceCharge.taxationData?e.serviceCharge.taxationData.length:0;var s=Object(c["b"])(e.room,1);s.forEach((function(t,e){var s=[];t.data.forEach((function(t){s.push(t),s.push({})})),t.data=s})),t.$refs.room.room=s,t.$refs.event.event=Object(c["b"])(e.conference,0),t.$refs.food.food=Object(c["b"])(e.food,1),t.$refs.foodOutside.foodOutside=Object(c["b"])(e.foodOutside,1),t.$refs.car.car=Object(c["b"])(e.car,1),t.$refs.transport.transport=Object(c["b"])(e.transportation,1),t.$refs.other.other=e.other,t.$refs.service.serviceCharge=e.serviceCharge,t.$refs.tax.serviceCharge=e.serviceCharge,t.totalPrice=e.totalPrice,console.log(t.totalPrice),t.$emit("voucher",e.voucher),t.$emit("otherDescription",e.all_remark)}))},roomObjectionFn:function(t){this.roomObjection=t,this.objectionMessage=[].concat(Object(r["a"])(this.roomObjection),Object(r["a"])(this.eventObjection),Object(r["a"])(this.foodObjection),Object(r["a"])(this.foodOutsideObjection),Object(r["a"])(this.carObjection),Object(r["a"])(this.transportObjection),Object(r["a"])(this.otherObjection)),this.$emit("objectionMsg",this.objectionMessage)},eventObjectionFn:function(t){this.eventObjection=t,this.objectionMessage=[].concat(Object(r["a"])(this.roomObjection),Object(r["a"])(this.eventObjection),Object(r["a"])(this.foodObjection),Object(r["a"])(this.foodOutsideObjection),Object(r["a"])(this.carObjection),Object(r["a"])(this.transportObjection),Object(r["a"])(this.otherObjection)),this.$emit("objectionMsg",this.objectionMessage)},foodObjectionFn:function(t){this.foodObjection=t,this.objectionMessage=[].concat(Object(r["a"])(this.roomObjection),Object(r["a"])(this.eventObjection),Object(r["a"])(this.foodObjection),Object(r["a"])(this.foodOutsideObjection),Object(r["a"])(this.carObjection),Object(r["a"])(this.transportObjection),Object(r["a"])(this.otherObjection)),this.$emit("objectionMsg",this.objectionMessage)},foodOutsideObjectionFn:function(t){this.foodOutsideObjection=t,this.objectionMessage=[].concat(Object(r["a"])(this.roomObjection),Object(r["a"])(this.eventObjection),Object(r["a"])(this.foodObjection),Object(r["a"])(this.foodOutsideObjection),Object(r["a"])(this.carObjection),Object(r["a"])(this.transportObjection),Object(r["a"])(this.otherObjection)),this.$emit("objectionMsg",this.objectionMessage)},carObjectionFn:function(t){this.carObjection=t,this.objectionMessage=[].concat(Object(r["a"])(this.roomObjection),Object(r["a"])(this.eventObjection),Object(r["a"])(this.foodObjection),Object(r["a"])(this.foodOutsideObjection),Object(r["a"])(this.carObjection),Object(r["a"])(this.transportObjection),Object(r["a"])(this.otherObjection)),this.$emit("objectionMsg",this.objectionMessage)},transportObjectionFn:function(t){this.transportObjection=t,this.objectionMessage=[].concat(Object(r["a"])(this.roomObjection),Object(r["a"])(this.eventObjection),Object(r["a"])(this.foodObjection),Object(r["a"])(this.foodOutsideObjection),Object(r["a"])(this.carObjection),Object(r["a"])(this.transportObjection),Object(r["a"])(this.otherObjection)),this.$emit("objectionMsg",this.objectionMessage)},otherObjectionFn:function(t){this.otherObjection=t,this.objectionMessage=[].concat(Object(r["a"])(this.roomObjection),Object(r["a"])(this.eventObjection),Object(r["a"])(this.foodObjection),Object(r["a"])(this.foodOutsideObjection),Object(r["a"])(this.carObjection),Object(r["a"])(this.transportObjection),Object(r["a"])(this.otherObjection)),this.$emit("objectionMsg",this.objectionMessage)},getStyle:function(t,e,s,o){if(t.columnIndex<2)return"background:#fff9f5!important"}}},ut=_t,ft=(s("77a6"),Object(f["a"])(ut,l,n,!1,null,null,null)),mt=ft.exports,ht=s("7dc4"),bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-tiptap",{attrs:{extensions:t.extensions,placeholder:"请输入内容 …",width:"100%",height:"260"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},vt=[],xt=s("4ccc"),wt={name:"element_tiptap",components:{},props:{},data:function(){return{extensions:[new xt["e"],new xt["D"],new xt["v"],new xt["l"]({level:6}),new xt["b"]({bubble:!0}),new xt["K"]({bubble:!0,menubar:!1}),new xt["q"],new xt["z"],new xt["t"],new xt["c"],new xt["u"],new xt["s"],new xt["o"],new xt["d"],new xt["a"],new xt["H"],new xt["I"],new xt["E"],new xt["g"],new xt["h"],new xt["y"],new xt["j"],new xt["x"],new xt["w"],new xt["G"],new xt["F"],new xt["i"],new xt["B"],new xt["A"],new xt["C"],new xt["m"],new xt["J"],new xt["k"],new xt["n"],new xt["r"],new xt["p"]],content:""}}},gt=wt,yt=Object(f["a"])(gt,bt,vt,!1,null,"c073d618",null),Ct=yt.exports,jt=s("acd6"),St=s("f121"),Ot={data:function(){var t;return t={objectionVisible:!1,downloadUrl:"",fileList:{kpFile:[],fpFile:[],cventDate:""},UploadFilesUrl:St["b"]+"/MeetingMa/UploadFiles",prev:"",activeName:"1",selectQuery:"",info:[]},Object(i["a"])(t,"UploadFilesUrl",St["b"]+"/MeetingMa/UploadFiles"),Object(i["a"])(t,"voucherTableData",[]),Object(i["a"])(t,"objectionDetail",""),Object(i["a"])(t,"detail",{}),Object(i["a"])(t,"select",[]),Object(i["a"])(t,"dialogVisible",!1),Object(i["a"])(t,"addFileDialog",!1),Object(i["a"])(t,"isAddColorRed",!1),Object(i["a"])(t,"passMessage",""),Object(i["a"])(t,"otherDescription",""),Object(i["a"])(t,"ApprovalOpinion",""),Object(i["a"])(t,"approveRemarks",""),Object(i["a"])(t,"objection",""),Object(i["a"])(t,"pageFrom",""),Object(i["a"])(t,"objectionMsg",[]),Object(i["a"])(t,"arr",[]),Object(i["a"])(t,"collapseShowItemIndex",""),t},components:{compare:mt,basePart:ht["a"],eleTiptap:Ct},filters:{commentEllipsis:function(t){if(void 0!=t.length)return t.length>10?t.slice(0,10)+"...":t}},mounted:function(){this.selectQuery=this.$route.query,this.selectQuery.from&&"approve"===this.selectQuery.from&&(this.pageFrom="approve"),this.getEle(),this.getSelect(),this.getEvent(),this.WhetherShow(),this.GetFile(),this.prev=this.$route.query.prev},methods:{excelExport:jt["a"],isActiveChange:function(t){this.collapseShowItemIndex=t},WhetherShow:function(){var t=this;this.$api.WhetherShow({SheetID:this.$route.query.settlementId},"post").then((function(e){t.whetherShow=e}))},GetFile:function(){var t=this;this.$api.GetFile({OrderID:"",SheetID:this.$route.query.settlementId},"POST").then((function(e){e&&(t.fileList=e)}))},checkObjection:function(t){this.objectionVisible=!0,this.objectionDetail=t.objection},getImg:function(t){console.log(t),console.log(t.target.currentSrc);var e=t.target.currentSrc;e&&this.$hevueImgPreview(e)},uploadFile:function(t){var e=this;this.uploadList=t;var s={orderid:"",sheet_id:this.$route.query.settlementId,type:2,file_name:t.title,file_path:t.weburl};this.$api.FileAdd(s,"post").then((function(t){t&&(e.$message.success("上传成功"),e.GetFile())}))},InvoiceMsdSettlementReject:function(){var t=this;this.$api.InvoiceMsdSettlementReject({SheetID:this.$route.query.settlementId},"POST").then((function(e){e&&(t.$message.success("已驳回结算单"),t.GetFile(),t.getEle())}))},rowClssName:function(t){return 0==t.row.files.length?"hidden-row":""},approvedTap:function(t){this.dialogVisible=!0,this.passMessage=t},voucherFn:function(t){var e=[];if(t)for(var s=0;s<t.length;s++)t[s].files.length>0&&e.push(t[s]);this.voucherTableData=e},messageInput:function(){var t=[];return this.voucherTableData.forEach((function(e){t.push({datatable:e.datatable,id:e.id,message:e.message,type:e.type})})),t},handlePreview:function(t){var e=this,s=t.file_path||t.filepath;if(s){var o=s.substring(s.lastIndexOf(".")+1),a=["pdf","jpeg","jpg","png","txt"],i=["docx","doc","xls","xlsx","xlsm","ppt","pptx"];s=s.replace(/http:/,"https:"),this.downloadUrl=s,i.includes(o)?this.downloadUrl="https://view.officeapps.live.com/op/view.aspx?src="+encodeURIComponent(s):a.includes(o)?this.downloadUrl=s:this.$message.info("文件格式不支持预览，下载后查看"),setTimeout((function(){e.$refs.a_click.click()}),100)}},downloadFile:function(t){var e,s,o=null!==(e=t.file_path)&&void 0!==e?e:t.filepath,a=null!==(s=t.file_name)&&void 0!==s?s:t.filename,i=document.createElement("a");fetch(o).then((function(t){return t.blob()})).then((function(t){i.href=URL.createObjectURL(t),console.log(i.href),i.download=a,document.body.appendChild(i),i.click()}))},ApproveRecordDownloadFile:function(t){var e=this;if(t.value){var s=t.value.substring(t.value.lastIndexOf(".")+1),o=["pdf","jpeg","jpg","png","txt"],a=["docx","doc","xls","xlsx","xlsm","ppt","pptx"];t.value=t.value.replace(/http:/,"https:"),this.downloadUrl=t.value,a.includes(s)?this.downloadUrl="https://view.officeapps.live.com/op/view.aspx?src="+encodeURIComponent(t.value):o.includes(s)?this.downloadUrl=t.value:this.$message.info("文件格式不支持预览，下载后查看"),setTimeout((function(){e.$refs.a_click.click()}),100)}},addFileTap:function(){var t=this;this.objection=this.$refs.tiptap2.content,""!=this.objection?this.$api.gethave({Parameter:JSON.stringify({status:3,id:this.selectQuery.approveId,remarks:this.approveRemarks,objection:this.objection})},"POST").then((function(e){t.dialogVisible=!1,e&&(t.addFileDialog=!1,t.$message({message:"操作成功",type:"success"}),t.$router.push({path:"/approve"}))})):this.$message.error("请填写补充材料说明")},objectionMsgFn:function(t){var e=[];t.forEach((function(t){t.data?t.data.forEach((function(t){(t.message||""===t.message)&&e.push({datatable:t.datatable,id:t.id,message:t.message})})):(t.message||""===t.message)&&e.push({datatable:t.datatable,id:t.id,message:t.message})})),this.objectionMsg=e},otherDescriptionFn:function(t){this.otherDescription=null!==t&&void 0!==t?t:"暂无"},saveDissentTao:function(){var t=this;this.objectionMsg=this.objectionMsg.concat(this.messageInput());var e=this.objectionMsg;this.$api.SettlementReject({Parameter:JSON.stringify(e),sheetID:this.selectQuery.settlementId},"POST").then((function(e){t.$message.success("保存成功"),t.objectionMsg=[]}))},getEle:function(){var t=this;this.$api.getdpp({SettlementSheetID:this.selectQuery.settlementId},"POST").then((function(e){t.detail=e}))},downloadSettlement:function(){var t="DMC结算单";this.excelExport("/Template/GetTemplate",{eventid:this.$route.query.id,type:4,param:this.$route.query.orderId},t)},getSelect:function(){var t=this;this.$api.getrecord({SettlementID:this.selectQuery.settlementId},"POST").then((function(e){t.select=e}))},getEvent:function(){var t=this;this.$api.SettlementRecord({SettlementID:this.selectQuery.settlementId},"POST").then((function(e){t.arr=Array.isArray(e)?e:[]}))},sendApprove:function(){var t=this,e="不通过"===this.passMessage?"1":"0";"1"==e?this.objection=this.$refs.tiptap3.content:"0"==e&&(this.objection=this.$refs.tiptap4.content),1==e&&""==this.objection?this.$message.error("请填写审批不通过原因"):this.$api.gethave({Parameter:JSON.stringify({status:e,id:this.selectQuery.approveId,remarks:this.approveRemarks,objection:this.objection})},"POST").then((function(e){t.dialogVisible=!1,e&&(t.$message({message:"操作成功",type:"success"}),t.$router.push({path:"/approve"}))}))},headClass:function(){return"text-align: center; color: rgba(0,0,0,0.85);background-color:#F5F7FA;"},recordHeadClass:function(){return"color: rgba(0,0,0,0.85);background-color:#F5F7FA;"}}},Rt=Ot,kt=(s("867b"),Object(f["a"])(Rt,o,a,!1,null,null,null));e["default"]=kt.exports},"3f51":function(t,e,s){},4147:function(t,e,s){},"4d36":function(t,e,s){},"4f5a":function(t,e,s){},"5fd3":function(t,e,s){"use strict";s("af86")},6042:function(t,e,s){"use strict";s("29bd")},"6fa6":function(t,e,s){"use strict";s("d139")},"77a6":function(t,e,s){"use strict";s("3f51")},"7dc4":function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"base_part"},[s("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"a_click",attrs:{href:t.downloadUrl,target:"_blank",download:""}}),"approve"==t.source||"bid"==t.source||"order"==t.source?s("div",{staticClass:"nformation flex_row align_center"},[s("p",{staticStyle:{"font-size":"16px","font-family":"PingFang SC-Semibold, PingFang SC","font-weight":"600",color:"#333333","border-left":"4px solid rgb(24, 135, 255)","padding-left":"5px"}},[t._v(" 会议基本信息 ")]),"bid"==t.source||"order"==t.source||"approve"==t.source?s("p",{staticStyle:{"font-size":"12px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#999999"}},[t._v(" （敏感信息对供应商隐藏） ")]):t._e(),s("div",{staticClass:"showBase_tap flex_row align_center",staticStyle:{"margin-left":"10px",color:"#409eff",cursor:"pointer"},on:{click:function(e){t.conferenceHiding=!t.conferenceHiding}}},[s("span",{staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.conferenceHiding?"收起":"展开"))]),s("i",{class:t.conferenceHiding?"el-icon-arrow-up ":"el-icon-arrow-down"})])]):t._e(),"approve"==t.source||"bid"==t.source||"order"==t.source?s("div",{staticStyle:{padding:"0 0px","padding-right":"15px"}},[s("el-divider")],1):t._e(),"stepOne"==t.source?s("div",{staticClass:"flex_row justify_between"},[s("div",{staticClass:"flex_row align_center"},[s("span",{staticClass:"base_title",staticStyle:{"font-size":"14px","font-family":"PingFang SC-Semibold, PingFang SC","font-weight":"600",color:"#666"}},[t._v("会议基本信息 ")]),s("span",{staticClass:"base_time",staticStyle:{"font-size":"12px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#999999"}},[t._v(" （"+t._s(this.menus.create_date)+"）")]),s("div",{staticClass:"showBase_tap flex_row align_center",staticStyle:{"margin-left":"10px",color:"#409eff"},on:{click:function(e){t.conferenceHiding=!t.conferenceHiding}}},[s("span",[t._v(" "+t._s(t.conferenceHiding?"收起":"展开"))]),s("i",{class:t.conferenceHiding?"el-icon-arrow-up ":"el-icon-arrow-down"})])]),s("div",{class:["edit_base_tap"],on:{click:t.editBaseTap}},[s("span",{class:["base_title",(1==t.menus.b2baudstatus||!t.isShowCancelBtn&&t.eventStatu>0)&&!t.isDMC?"disableColor":""],staticStyle:{"font-size":"14px","font-family":"PingFang SC-粗体, PingFang SC","font-weight":"normal",color:"#409eff"}},[t._v("编辑基本信息 ")])])]):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:t.conferenceHiding,expression:"conferenceHiding"}],class:["information","approve"==t.source||"bid"==t.source||"order"==t.source?"margin_auto":"",t.isMsd?"is-msd":""],staticStyle:{"margin-top":"10px"}},[s("el-descriptions",{attrs:{title:""}},[s("el-descriptions-item",{attrs:{label:"会议名称"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.event_name))])]),s("el-descriptions-item",{attrs:{label:"建团类型"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.tourist_group_type))])]),s("el-descriptions-item",{attrs:{label:"活动类型"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.activity_type))])]),s("el-descriptions-item",{attrs:{label:"Cvent号"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.cvent_no))])]),s("el-descriptions-item",{attrs:{label:"客户"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.company_name))])]),s("el-descriptions-item",{attrs:{label:"团电脑号"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.tourist_group_no))])]),s("el-descriptions-item",{attrs:{label:"团开始日期"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.b2b_begin))])]),s("el-descriptions-item",{attrs:{label:"团结束日期"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.b2b_end))])]),s("el-descriptions-item",{attrs:{label:"服务类型"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.service_type))])]),s("el-descriptions-item",{attrs:{label:"会议地点"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.meeting_place))]),"1"==t.menus.is_hotel?s("span",{staticClass:"colorTxt",staticStyle:{"margin-left":"10px"}},[t._v("（在酒店开会）")]):t._e()]),s("el-descriptions-item",{attrs:{label:"餐标限制"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.food_limit))])]),s("el-descriptions-item",{attrs:{label:"参会人数"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.attendee_no+"（内部："+t.menus.inside_number+", 外部："+t.menus.external_number+"）"))])]),s("el-descriptions-item",{attrs:{label:"会议开始日期"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s((this.menus.event_startdate||"").split(" ")[0]))])]),s("el-descriptions-item",{attrs:{label:"会议结束日期"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s((this.menus.event_enddate||"").split(" ")[0]))])]),s("el-descriptions-item",{attrs:{label:"会议总预算"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.total_budget))])]),s("el-descriptions-item",{attrs:{label:"会议ID"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.event_num))])]),s("el-descriptions-item",{attrs:{label:"会议创建人"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.create_user))])]),s("el-descriptions-item",{attrs:{label:"客户联系人"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.username))])]),s("el-descriptions-item",{attrs:{label:"客户所属部门"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.department))])]),s("el-descriptions-item",{attrs:{label:"客户联系电话"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.mobile))])]),s("el-descriptions-item",{attrs:{label:"客户邮箱"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.email))])]),s("el-descriptions-item",{attrs:{label:"发票类型"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.invoice_type))])]),s("el-descriptions-item",{attrs:{label:"是否办理免税"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.duty_free))])]),s("el-descriptions-item",{attrs:{label:"创建时间"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.create_date))])]),this.menus.service_provider_name?s("el-descriptions-item",{attrs:{label:"指定供应商"}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(this.menus.service_provider_name))])]):t._e()],1),s("el-descriptions",{staticStyle:{"margin-top":"-20px"},attrs:{title:"",colon:!1,column:1}},[s("el-descriptions-item",{attrs:{label:"客户材料"}},[s("span",t._l(t.menus.files,(function(e,o){return s("span",{key:o},[s("span",{staticStyle:{cursor:"pointer",color:"#4ea9f0",margin:"0 10px"},on:{click:function(s){return t.handlePreview(e)}}},[t._v(" "+t._s(e.file_name)+" ")])])})),0)])],1),s("el-descriptions",{attrs:{title:"",colon:!1,column:1}},[s("el-descriptions-item",[s("el-button",{staticStyle:{"margin-bottom":"20px","margin-left":"-10px"},attrs:{type:"primary"},on:{click:function(e){t.poShow=!0}}},[t._v("添加PO")])],1)],1),t._l(t.UnDelPoData,(function(e,o){return s("el-descriptions",{key:o,style:0==o?"margin-top: 20px":"",attrs:{colon:!1,title:0==o?"PO信息":"",column:5}},[s("el-descriptions-item",{attrs:{label:"PO单号："}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(e.po_order_no))])]),s("el-descriptions-item",{attrs:{label:"PO金额 ￥："}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(e.po_price))])]),s("el-descriptions-item",{attrs:{label:"PO创建时间："}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(t.dateFromat(e.po_create_date)))])]),s("el-descriptions-item",{attrs:{label:"PR 单号："}},[s("span",{staticClass:"colorTxt"},[t._v(t._s(e.pr_order_no))])]),s("el-descriptions-item",[s("span",{staticStyle:{"font-size":"15px",color:"rgb(64, 158, 255)",cursor:"pointer"},on:{click:function(s){return t.handleTap("delete",e.id)}}},[t._v("删除")])])],1)}))],2),s("el-dialog",{attrs:{visible:t.poShow,width:"500px",title:"PO"},on:{"update:visible":function(e){t.poShow=e}}},[s("div",[s("el-form",{ref:"poDataForm",attrs:{model:t.poData,"label-width":"100px","label-position":"left","hide-required-asterisk":!0,"destroy-on-close":"",rules:t.rules}},[s("el-form-item",{attrs:{prop:"po_order_no"}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("PO单"),s("span",{staticClass:"color-name"},[t._v("*")])]),s("el-input",{staticClass:"demand_300",attrs:{placeholder:"请输入PO单号",size:"small",clearable:""},model:{value:t.poData.po_order_no,callback:function(e){t.$set(t.poData,"po_order_no",e)},expression:"poData.po_order_no"}})],1),s("el-form-item",{attrs:{prop:"po_price"}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("PO金额"),s("span",{staticClass:"color-name"},[t._v("*")])]),s("el-input",{staticClass:"demand_300",attrs:{placeholder:"请输入PO金额",size:"small",clearable:""},model:{value:t.poData.po_price,callback:function(e){t.$set(t.poData,"po_price",e)},expression:"poData.po_price"}})],1),s("el-form-item",{attrs:{prop:"po_create_date"}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("PO创建时间"),s("span",{staticClass:"color-name"},[t._v("*")])]),s("el-date-picker",{staticClass:"demand_300",attrs:{"value-format":"yyyy-MM-dd HH:mm",placeholder:"请选择PO创建时间",size:"small",clearable:""},model:{value:t.poData.po_create_date,callback:function(e){t.$set(t.poData,"po_create_date",e)},expression:"poData.po_create_date"}})],1),s("el-form-item",{attrs:{prop:"pr_order_no"}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("PR"),s("span",{staticClass:"color-name"},[t._v("*")])]),s("el-input",{staticClass:"demand_300",attrs:{placeholder:"请输入PR号",size:"small",clearable:""},model:{value:t.poData.pr_order_no,callback:function(e){t.$set(t.poData,"pr_order_no",e)},expression:"poData.pr_order_no"}})],1)],1)],1),s("span",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.poShow=!1}}},[t._v("取 消")]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.handleTap("add")}}},[t._v("确 认")])],1)])],1)},a=[],i=(s("4de4"),s("d3b7"),s("ac1f"),s("5319"),s("caad"),s("3ca3"),s("ddb0"),s("2b3d"),s("9861"),s("b0c0"),{name:"basePart_2",props:["source","isDMC","isShowCancelBtn","eventStatu","isMsd"],data:function(){return{downloadUrl:"",menus:{files:[]},poShow:!1,conferenceHiding:!1,cityCode:"",poData:{id:"",pr_order_no:"",event_info_id:"",po_order_no:"",po_price:"",po_create_date:"",cmd:"add",create_user:"test"},UnDelPoData:[],hasUnDelPoData:!1,poList:[],files:[],rules:{po_order_no:[{required:!0,message:"请输入PO单号",trigger:"blur"}],po_price:[{required:!0,message:"请输入PO金额",trigger:"blur"}],po_create_date:[{required:!0,message:"请选择PO创建时间",trigger:"blur"}],pr_order_no:[{required:!0,message:"请输入PR",trigger:"blur"}]}}},mounted:function(){this.Service(),this.getPO()},methods:{getPO:function(){var t=this;this.$api.getPoTap({eventInfoId:this.$route.query.id},"GET").then((function(e){t.poList=e,t.UnDelPoData=t.poList.filter((function(t,e,s){return 0==t.is_delete})),t.hasUnDelPoData=!!t.UnDelPoData,console.log(t.hasUnDelPoData)}))},handleTap:function(t,e){var s=this;this.poData.event_info_id=this.$route.query.id,this.poData.cmd=t,e?(this.poData.id=e,this.$api.addPoTap(this.poData,"POST").then((function(t){s.poData.po_order_no="",s.poData.po_price="",s.poData.po_create_date="",s.poShow=!1,s.getPO()}))):this.$refs.poDataForm.validate((function(t){t&&s.$api.addPoTap(s.poData,"POST").then((function(t){s.poData.po_order_no="",s.poData.po_price="",s.poData.po_create_date="",s.poShow=!1,s.getPO()}))}))},poEdit:function(t){if(this.poShow=!0,this.poData=t,this.poData.po_create_date.indexOf(" ")<0){var e=this.dateFromat(this.poData.po_create_date);this.poData.po_create_date=new Date(e)}},handlePreview:function(t){var e=this;if(t.file_path){var s=t.file_path.substring(t.file_path.lastIndexOf(".")+1),o=["pdf","jpeg","jpg","png","txt"],a=["docx","doc","xls","xlsx","xlsm","ppt","pptx"];t.file_path=t.file_path.replace(/http:/,"https:"),this.downloadUrl=t.file_path,a.includes(s)?this.downloadUrl="https://view.officeapps.live.com/op/view.aspx?src="+encodeURIComponent(t.file_path):o.includes(s)?this.downloadUrl=t.file_path:this.$message.info("文件格式不支持预览，下载后查看"),setTimeout((function(){e.$refs.a_click.click()}),100)}},downloadFile:function(t){var e=document.createElement("a");fetch(t.file_path).then((function(t){return t.blob()})).then((function(s){e.href=URL.createObjectURL(s),console.log(e.href),e.download=t.file_name,document.body.appendChild(e),e.click()}))},dateFromat:function(t){if("string"==typeof t){var e=t.replace("/Date(","").replace(")/","");e=new Date(1*e);var s=e.getFullYear(),o=1*e.getMonth()+1,a=e.getDate(),i=s+"-"+o+"-"+a;return i}},editBaseTap:function(){this.isDMC?this.$router.push({name:"DMCcreateEvent",query:{event_num:this.menus.event_num,id:this.$route.query.id,name:this.$route.query.name,eventSearchType:this.$route.query.eventSearchType,type:"edit",getBack:!0}}):1==this.menus.b2baudstatus||!this.isShowCancelBtn&&void 0!==this.isShowCancelBtn&&0!=this.eventStatu?this.$message.info("当前信息不允许编辑"):this.$router.push({name:"CreateEvent",query:{event_num:this.menus.event_num,id:this.$route.query.id,name:this.$route.query.name,eventSearchType:this.$route.query.eventSearchType,type:"edit",getBack:!0}})},Service:function(){var t=this;this.$api.getData({MeetingID:this.$route.query.id},"POST").then((function(e){var s;t.menus=e,t.menus.files=null!==(s=t.menus.files)&&void 0!==s?s:[],t.cityCode=t.menus.event_city_code,localStorage.setItem("event_city_code",t.cityCode)}))}}}),l=i,n=(s("2d1a"),s("2877")),r=Object(n["a"])(l,o,a,!1,null,"75fdf0a2",null);e["a"]=r.exports},"7f55":function(t,e,s){"use strict";s("8f54")},"823a":function(t,e,s){"use strict";s("f6a5")},"867b":function(t,e,s){"use strict";s("4147")},"8f54":function(t,e,s){},acd6:function(t,e,s){"use strict";s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("9861");var o=s("bc3a"),a=s.n(o),i=s("f121"),l=i["b"];e["a"]=function(t,e,s){return new Promise((function(o,i){var n=function(){"/Template/GetTemplate"==t?a()({method:"post",url:l+t,data:e,headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(t){var o=document.createElement("a"),a=t.data.path.substring(t.data.path.lastIndexOf("."));fetch(t.data.path).then((function(t){return t.blob()})).then((function(t){o.href=URL.createObjectURL(t),console.log(o.href),5==e.type||e.type,o.download=s+a,document.body.appendChild(o),o.click()}))})):a()({method:"post",url:l+t,data:e,responseType:"blob",headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(o){console.log(o);var a=o.data,i=new FileReader;i.readAsDataURL(a),i.onload=function(o){var a=document.createElement("a");a.style.display="none","/quotation/exportexcel"==t||"/SettlementSheet/ExportExcel1"==t||"/orderform/exportexcel"==t||"/Quotation/ExportExcel"==t?a.download=s+".xls":"/Template/GetTemplate"==t?5==e.type||6==e.type?a.download=s+".docx":a.download=s+".xls":"/Reporting/GetExcel"==t&&(a.download=s+".xls"),a.href=o.target.result;document.body;document.body.appendChild(a),a.click(),document.body.removeChild(a)}}))};n()}))}},af86:function(t,e,s){},b163:function(t,e,s){},ba5e:function(t,e,s){},d139:function(t,e,s){},d517:function(t,e,s){"use strict";s("ba5e")},d720:function(t,e,s){"use strict";s("4d36")},ec55:function(t,e,s){},f6a5:function(t,e,s){}}]);