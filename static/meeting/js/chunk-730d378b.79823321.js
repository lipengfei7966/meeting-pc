(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-730d378b"],{2654:function(e,t,a){"use strict";a.d(t,"j",(function(){return s})),a.d(t,"k",(function(){return n})),a.d(t,"i",(function(){return r})),a.d(t,"h",(function(){return o})),a.d(t,"l",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return _})),a.d(t,"b",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return m}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}a("ac1f"),a("00b4"),a("d9e2"),a("a9e3"),a("159b");function s(e,t,a){var i=/^((0\d{2,3}-\d{7,8})|(1[34578]\d{9}))$/;""==t||void 0==t||null==t||i.test(t)||""==t?a():a(new Error("请输入正确的电话号码或者固话号码"))}function n(e,t,a){var i=/0\d{2}-\d{7,8}/;""==t||void 0==t||null==t||i.test(t)||""==t?a():a(new Error("请输入正确的固话（格式：区号+号码,如010-1234567）"))}function r(e,t,a){var i=/^[1][3,4,5,7,8][0-9]{9}$/;""==t||void 0==t||null==t||i.test(t)||""==t?a():a(new Error("请输入正确的电话号码"))}function o(e,t,a){var i=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;""==t||void 0==t||null==t||i.test(t)?a():a(new Error("请输入正确的邮箱地址"))}function l(e,t,a){var i=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;""==t||void 0==t||null==t||i.test(t)?a():a(new Error("请输入正确的URL"))}function c(e,t,a){if(!t)return a(new Error("输入不可以为空"));setTimeout((function(){if(Number(t)){var e=/^[0-9]*[1-9][0-9]*$/,i=e.test(t);i?a():a(new Error("请输入正整数"))}else a(new Error("请输入正整数"))}),0)}function _(e,t,a){t||a(),setTimeout((function(){if(Number(t)){var e=/^[0-9]*[1-9][0-9]*$/,i=e.test(t);i?a():a(new Error("请输入正整数"))}else a(new Error("请输入正整数"))}),1e3)}function d(e,t){var a={},s=[];if(e=Array.isArray(e)?e:[],t)for(var n=0;n<e.length;n++)if(a[e[n].date]){for(var r=0;r<s.length;r++)if(e[n].date===s[r].date){s[r].settlement+=Number("object"==i(e[n].settlement_total_price)?e[n].settlement_total_price.value:e[n].settlement_total_price),s[r].orgSettlement+=Number("object"==i(e[n].total_price)?e[n].total_price.value:e[n].total_price),s[r].data.push(e[n]);break}}else s.push({date:e[n].date,settlement:Number("object"==i(e[n].settlement_total_price)?e[n].settlement_total_price.value:e[n].settlement_total_price),orgSettlement:Number("object"==i(e[n].total_price)?e[n].total_price.value:e[n].total_price),data:[e[n]]}),a[e[n].date]=e[n];else for(var o=0;o<e.length;o++)if(a[e[o].date]){for(var l=0;l<s.length;l++)if(e[o].date===s[l].date){s[l].settlement+="object"==i(e[o].settlement_price)?e[o].settlement_price.value:e[o].settlement_price,s[l].orgSettlement+="object"==i(e[o].price)?e[o].price.value:e[o].price,s[l].data.push(e[o]);break}}else s.push({date:e[o].date,settlement:"object"==i(e[o].settlement_price)?e[o].settlement_price.value:e[o].settlement_price,orgSettlement:"object"==i(e[o].price)?e[o].price.value:e[o].price,data:[e[o]]}),a[e[o].date]=e[o];return s}function u(e){var t={},a=[];e=Array.isArray(e)?e:[];for(var i=0;i<e.length;i++)if(t[e[i].checkindate]){for(var s=0;s<a.length;s++)if(e[i].checkindate===a[s].checkindate){"大床房"==e[i].roomtype?(a[s].bigBedNum=e[i].roomcount,a[s].totalNum+=e[i].roomcount):"双床房"==e[i].roomtype?(a[s].doubleBedNum=e[i].roomcount,a[s].totalNum+=e[i].roomcount):(a[s].suiteNum=e[i].roomcount,a[s].totalNum+=e[i].roomcount);break}}else e[i].bigBedNum=0,e[i].doubleBedNum=0,e[i].suiteNum=0,e[i].totalNum=0,"大床房"==e[i].roomtype?(e[i].bigBedNum=e[i].roomcount,e[i].totalNum+=e[i].roomcount):"双床房"==e[i].roomtype?(e[i].doubleBedNum=e[i].roomcount,e[i].totalNum+=e[i].roomcount):(e[i].suiteNum=e[i].roomcount,e[i].totalNum+=e[i].roomcount),a.push(e[i]),t[e[i].checkindate]=e[i];return a}function p(e){for(var t={},a=[],i=0;i<e.length;i++){var s=(e[i].build?e[i].build.price:0)+(e[i].rentalCosts?e[i].rentalCosts.price:0);if(e[i].equipment&&e[i].equipment.forEach((function(e){s+=e.price||0})),t[e[i].rentalCosts.time])for(var n=function(t){if(e[i].rentalCosts.time===a[t].time)return a[t].totalPrice+=(e[i].build?e[i].build.price:0)+(e[i].rentalCosts?e[i].rentalCosts.price:0),e[i].equipment&&e[i].equipment.forEach((function(e){a[t].totalPrice+=e.price||0})),a[t].data.push(e[i]),"break"},r=0;r<a.length;r++){var o=n(r);if("break"===o)break}else a.push({time:e[i].rentalCosts.time,totalPrice:s,data:[e[i]]}),t[e[i].rentalCosts.time]=e[i]}return a}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time",a={},i=[];e=e||[];for(var s=0;s<e.length;s++)if(a[e[s][t]]){for(var n=0;n<i.length;n++)if(e[s][t]===i[n].time){i[n].data.push(e[s]),i[n].car.push(e[s]);break}}else i.push({time:e[s][t],car_date:e[s][t].substring(0,10),breakfast:e[s].breakfast,networks:e[s].networks,describe:e[s].describe,otherrequirements:e[s].otherrequirements,type:e[s].type,room_budget:e[s].room_budget,purpose:e[s].purpose,offer_remarks:e[s].offer_remarks,comments:e[s].comments,data:[e[s]],car:[e[s]]}),a[e[s][t]]=e[s];return i}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time",a={},i=[];e=e||[];for(var s=0;s<e.length;s++)i.push({time:e[s][t],car_date:e[s][t].substring(0,10),breakfast:e[s].breakfast,networks:e[s].networks,describe:e[s].describe,otherrequirements:e[s].otherrequirements,type:e[s].type,room_budget:e[s].room_budget,purpose:e[s].purpose,offer_remarks:e[s].offer_remarks,comments:e[s].comments,data:[e[s]],car:[e[s]]}),a[e[s][t]]=e[s];return i}},2905:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"event"},[a("div",{staticClass:"demand_item"},[a("div",{staticClass:"demand_top flex_row justify_between"},[a("div",{staticClass:"demand_name flex_row align_center"},[a("h2",{staticStyle:{"margin-right":"20px"}},[e._v("会场需求")]),a("el-switch",{model:{value:e.is_conference_rooms,callback:function(t){e.is_conference_rooms=t},expression:"is_conference_rooms"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_conference_rooms,expression:"is_conference_rooms == '1'"}]},[e._l(e.conferenceList,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"demand_main"},[e._m(0,!0),a("el-table",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_conference_rooms,expression:"is_conference_rooms == '1'"}],attrs:{border:"","show-header":!1,data:t.conference,"min-width":"1200"}},[a("el-table-column",{attrs:{label:"日期",prop:"is_important",width:e.isCheck?65:200,align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[a("div",{staticClass:"event_title"},[a("span",[e._v("会场")]),a("span",[e._v(e._s(i+1))])]),e.isCheck?e._e():a("div",{staticClass:"event_date"},[a("span",{staticClass:"label"},[e._v("日期：")]),a("el-select",{staticStyle:{width:"135px"},attrs:{size:"small",placeholder:"请选择"},on:{change:e.selectDateTap},model:{value:t.conference_date,callback:function(a){e.$set(t,"conference_date",a)},expression:"meetItem.conference_date"}},e._l(e.meetDate,(function(t){return a("el-option",{key:t,attrs:{disabled:e.getDisTap(t),label:t,value:t}})})),1)],1),a("el-button",{staticClass:"delete_event",attrs:{size:"small",type:"danger",plain:""},on:{click:function(t){return e.deleteEvent(i,s.$index)}}},[e._v("删除会场")]),0!==s.$index?a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return e.copyPreEvent(i,s.$index)}}},[e._v("复制上一场")]):e._e(),a("div",[0!==i?a("el-button",{staticClass:"copy_button",staticStyle:{margin:"30px 0"},on:{click:function(t){return e.copyPreDate(i)}}},[e._v("复制上一场")]):e._e()],1)]}}],null,!0)}),e.isCheck?a("el-table-column",{attrs:{label:"日期",prop:"is_important",width:"170"}},[[a("div",{staticClass:"event_date"},[e._v(" 日期： "),a("span",{staticClass:"label"},[e._v(e._s(t.conference_date))])])]],2):e._e(),a("el-table-column",{attrs:{label:"时间",prop:"is_important",width:"245"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("div",{staticClass:"stage flex_column align_start time",staticStyle:{height:"320px"}},[a("div",{staticClass:"text_left label t666"},[e._v("开始时间："),a("span",{staticClass:"333"},[e._v(e._s(t.row.conference_start_time))])]),a("div",{staticClass:"text_left label t666"},[e._v("结束时间："),a("span",{staticClass:"t333"},[e._v(e._s(t.row.conference_end_time))])]),a("div",{staticClass:"text_left label"},[e._v("参与人数："),a("span",[e._v(e._s(t.row.attendees))])]),a("div",{staticClass:"text_left label"},[e._v("会场面积范围："),a("span",[e._v(e._s(t.row.min_area)+"-"+e._s(t.row.max_area)+"sqm")])])]):e._e(),e.isCheck?e._e():a("div",{staticClass:"stage flex_column align_start time",staticStyle:{height:"320px"}},[a("div",{staticClass:"text_left label"},[e._v("会场开始时间")]),a("el-time-select",{staticClass:"width_100__",attrs:{placeholder:"起始时间",value:"12:00","picker-options":{start:"00:00",step:"01:00",end:"24:00"},size:"small"},on:{change:function(e){t.row.conference_end_time=""}},model:{value:t.row.conference_start_time,callback:function(a){e.$set(t.row,"conference_start_time",a)},expression:"scope.row.conference_start_time"}}),a("div",{staticClass:"text_left label"},[e._v("会场结束时间")]),a("el-time-select",{staticClass:"width_100__",attrs:{placeholder:"结束时间",size:"small","picker-options":e.getStep(t.row.conference_start_time)},model:{value:t.row.conference_end_time,callback:function(a){e.$set(t.row,"conference_end_time",a)},expression:"scope.row.conference_end_time"}}),a("div",{staticClass:"text_left label"},[e._v("参与人数")]),a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"width_100__",attrs:{size:"small",clearable:""},model:{value:t.row.attendees,callback:function(a){e.$set(t.row,"attendees",a)},expression:"scope.row.attendees"}}),a("div",{staticClass:"text_left label"},[e._v("会场面积范围")]),a("div",{staticStyle:{display:"flex"}},[a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:number",arg:"number"}],staticClass:"width_80",staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:t.row.min_area,callback:function(a){e.$set(t.row,"min_area",a)},expression:"scope.row.min_area"}}),a("span",{staticClass:"line"},[e._v("—")]),a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:number",arg:"number"}],staticClass:"width_80",staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:t.row.max_area,callback:function(a){e.$set(t.row,"max_area",a)},expression:"scope.row.max_area"}}),a("span",{staticClass:"sqm"},[e._v("sqm")])],1)],1)]}}],null,!0)}),a("el-table-column",{attrs:{label:"摆台",prop:"is_important",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("div",{staticClass:"stage flex_column align_start",staticStyle:{height:"320px"}},[a("div",{staticClass:"text_left label"},[e._v("摆台形式："),e._l(e.swingList,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.room_setup_type,expression:"item.key == scope.row.room_setup_type"}],key:i.key},[e._v(e._s(i.value))])}))],2),a("div",{staticClass:"flex_row",on:{click:function(a){return e.isSetStageTap(i,t.$index,t.row.is_setting_in_advance)}}},[a("el-checkbox",{attrs:{disabled:""},model:{value:1==t.row.is_setting_in_advance,callback:function(a){e.$set(t.row,"is_setting_in_advance == 1",a)},expression:"scope.row.is_setting_in_advance == 1"}}),e._v("  提前搭建 ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.row.is_setting_in_advance,expression:"scope.row.is_setting_in_advance == 1"}],staticClass:"width-100__"},[a("p",{staticClass:"label"},[e._v("搭建入场时间："),a("span",[e._v(e._s(t.row.setting_in_advance_date)+" "+e._s(t.row.setting_in_advance_time))])]),a("p",{staticClass:"label"},[e._v("搭建彩排完成时间："),a("span",[e._v(e._s(t.row.rehearsal_date)+" "+e._s(t.row.rehearsal_time))])]),a("p",{staticClass:"label"},[e._v("备注："),a("span",[e._v(e._s(t.row.describe))])])])]):e._e(),e.isCheck?e._e():a("div",{staticClass:"stage flex_column align_start",staticStyle:{height:"320px"}},[a("div",{staticClass:"text_left label"},[e._v("摆台形式")]),a("el-select",{staticClass:"width-100__",attrs:{size:"small",clearable:""},model:{value:t.row.room_setup_type,callback:function(a){e.$set(t.row,"room_setup_type",a)},expression:"scope.row.room_setup_type"}},e._l(e.swingList,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1),a("div",{staticClass:"flex_row",on:{click:function(a){return e.isSetStageTap(i,t.$index,t.row.is_setting_in_advance)}}},[a("el-checkbox",{attrs:{disabled:""},model:{value:1==t.row.is_setting_in_advance,callback:function(a){e.$set(t.row,"is_setting_in_advance == 1",a)},expression:"scope.row.is_setting_in_advance == 1"}}),e._v("  提前搭建 ")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.row.is_setting_in_advance,expression:"scope.row.is_setting_in_advance == 1"}],staticClass:"width-100__"},[a("p",{staticClass:"label"},[e._v("搭建入场时间")]),a("div",{staticClass:"double_input width-100__"},[a("el-date-picker",{staticClass:"width_130",staticStyle:{width:"130px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"搭建日期",size:"mini","picker-options":e.datePickers[i]},on:{change:function(a){return e.setLimitEnd(t.row.setting_in_advance_date,t.row.setting_in_advance_time,t.row.rehearsal_date,t.row.rehearsal_time,i,t.$index)}},model:{value:t.row.setting_in_advance_date,callback:function(a){e.$set(t.row,"setting_in_advance_date",a)},expression:"scope.row.setting_in_advance_date"}}),a("el-time-select",{staticClass:"width_130",staticStyle:{width:"120px"},attrs:{placeholder:"搭建时间","picker-options":{start:"00:00",step:"01:00",end:"24:00"},size:"mini"},on:{change:function(a){return e.setLimitEnd(t.row.setting_in_advance_date,t.row.setting_in_advance_time,t.row.rehearsal_date,t.row.rehearsal_time,i,t.$index)}},model:{value:t.row.setting_in_advance_time,callback:function(a){e.$set(t.row,"setting_in_advance_time",a)},expression:"scope.row.setting_in_advance_time"}})],1),a("p",{staticClass:"label",staticStyle:{"margin-top":"10px"}},[e._v("搭建彩排完成时间")]),a("div",{staticClass:"double_input",staticStyle:{display:"flex","margin-bottom":"10px"}},[a("el-date-picker",{staticClass:"width_130",staticStyle:{width:"130px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"搭建日期",size:"mini","picker-options":e.datePickers[i]},on:{change:function(a){return e.setLimitEnd(t.row.setting_in_advance_date,t.row.setting_in_advance_time,t.row.rehearsal_date,t.row.rehearsal_time,i,t.$index)}},model:{value:t.row.rehearsal_date,callback:function(a){e.$set(t.row,"rehearsal_date",a)},expression:"scope.row.rehearsal_date"}}),a("el-time-select",{staticClass:"width_130",staticStyle:{width:"120px"},attrs:{placeholder:"彩排时间","picker-options":{start:"00:00",step:"01:00",end:"24:00"},size:"mini"},on:{change:function(a){return e.setLimitEnd(t.row.setting_in_advance_date,t.row.setting_in_advance_time,t.row.rehearsal_date,t.row.rehearsal_time,i,t.$index)}},model:{value:t.row.rehearsal_time,callback:function(a){e.$set(t.row,"rehearsal_time",a)},expression:"scope.row.rehearsal_time"}})],1),a("el-input",{staticClass:"font_14",attrs:{type:"textarea",placeholder:"提前进场搭建酒店会收取相应费用，请根据实际需求进行填写，但务必预留充分搭建彩排时间。",size:"small",rows:5},model:{value:t.row.describe,callback:function(a){e.$set(t.row,"describe",a)},expression:"scope.row.describe"}})],1)],1)]}}],null,!0)}),a("el-table-column",{attrs:{label:"会场设备"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("div",{staticClass:"stage flex_column align_start"},[a("div",{staticClass:"implementor"},[a("span",{staticClass:"label t666"},[e._v("会场设备：")]),a("div",{staticClass:"equipment_tag"},e._l(t.row.equipment,(function(t){return a("span",{key:t.id,staticClass:"t333"},[e._v(e._s(t.value))])})),0)]),a("div",{staticClass:"implementor"},[a("span",{staticClass:"label t666"},[e._v("说明：")]),a("div",{staticClass:"equipment_tag"},[a("span",{staticClass:"t333"},[e._v(e._s(t.row.microphone_describe))])])])]):e._e(),e.isCheck?e._e():a("div",{staticClass:"tag flex_column align_start",staticStyle:{"min-height":"320px"}},[a("div",{staticClass:"implementor"},[a("span",{staticClass:"label"},[e._v("会场设备")]),a("el-button",{staticClass:"el-icon-delete checked_delete",attrs:{type:"text"},on:{click:function(a){return e.clearCheckTap(i,t.$index)}}},[e._v("清空勾选")])],1),a("div",{staticClass:"equipment_tag"},e._l(t.row.equipment,(function(s,n){return a("span",{class:0==s.is_delete?"select_tag tag":"tag",on:{click:function(a){return e.selectTagTap(n,i,t.$index)}}},[e._v(e._s(s.value))])})),0),a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"说明以上设备数量和尺寸 / 补充其他设备"},model:{value:t.row.microphone_describe,callback:function(a){e.$set(t.row,"microphone_describe",a)},expression:"scope.row.microphone_describe"}})],1)]}}],null,!0)})],1)],1)])})),a("div",{staticClass:"bottom_tr"},[a("el-button",{staticClass:"mar_5",attrs:{type:"primary",size:"medium"},on:{click:e.addOtherEvent}},[e._v("添加其他会场需求")])],1)],2)]),a("el-dialog",{attrs:{visible:e.setStageShow,width:"30%",title:"提示",align:"center"},on:{"update:visible":function(t){e.setStageShow=t}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.stageBtn,expression:"stageBtn"}]},[e._v("提前进场搭建酒店会收取相应费用，请根据实际需求进行填写，但务必预留充分搭建彩排时间。")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.stageBtn,expression:"!stageBtn"}]},[e._v("如果您在会议时间之外还需占用场地（如搭建、彩排），请务必填写此项。")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.stageBtn,expression:"stageBtn"}],attrs:{type:"primary"},on:{click:function(t){return e.changeStageTap(1)}}},[e._v("确 定")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.stageBtn,expression:"!stageBtn"}],attrs:{type:"primary"},on:{click:function(t){return e.changeStageTap(1)}}},[e._v("保 留")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.stageBtn,expression:"!stageBtn"}],attrs:{type:"primary"},on:{click:function(t){return e.changeStageTap(0)}}},[e._v("不需要")])],1)])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"demand_main_base flex_row align_center",staticStyle:{"justify-content":"flex-end"}},[a("div")])}],n=a("5530"),r=(a("d3b7"),a("25f0"),a("ac1f"),a("5319"),a("159b"),a("a434"),a("e9c4"),a("4de4"),a("393b")),o=a("cf45"),l={name:"event",props:["swingList","dateArr","isCheck"],directives:{inputFilter:r["a"]},data:function(){return{is_conference_rooms:!0,conference_rooms_budget:0,conferenceList:[{conference_date:"",conference:[{id:"",order_name:1,conference_id:"",event_info_id:"",is_important:0,conference_start_time:"09:00",conference_end_time:"16:00",attendees:"",room_setup_type:"001-1",is_setting_in_advance:1,setting_in_advance_date:"",setting_in_advance_time:"09:00",rehearsal_date:"",rehearsal_time:"18:00",describe:"",wire_microphone_count:"",wireless_microphone_count:"",microphone_describe:"",equipment:[],is_delete:0}]}],isChangeStageIdx_a:0,isChangeStageIdx_b:0,setStageShow:!1,stageBtn:!1,step:{start:"08:00",step:"01:00",end:"22:00"},tagList:[],meetDate:[],disMeetDate:[],datePickers:[],getStepEnd:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},getStepStart:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},mounted:function(){var e=this;this.$nextTick((function(){e.addDate()}))},methods:{formatNum:function(){var e=this.conference_rooms_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.conference_rooms_budget=e},setLimitEnd:function(e,t,a,i,s,n){var r=e+" "+t,o=a+" "+i;r=new Date(r).getTime(),o=new Date(o).getTime(),e&&a&&r>=o&&(this.$message.warning("搭建入场时间不能早于彩排完成时间"),this.conferenceList[s].conference[n].rehearsal_time="")},getStep:function(e){return{start:"00:00",step:"01:00",end:"24:00",minTime:e}},addDate:function(){var e=this;this.conferenceList.forEach((function(t,a){!t.conference_date&&e.meetDate.length&&0===a&&(t.conference_date=e.meetDate[0]),-1===e.disMeetDate.indexOf(t.conference_date)&&e.disMeetDate.push(t.conference_date)}))},selectDateTap:function(){var e=this;this.disMeetDate=[],this.conferenceList.forEach((function(t){t.conference_date&&e.disMeetDate.push(t.conference_date)}))},getDisTap:function(e){},changeStageTap:function(e){var t=this.isChangeStageIdx_a,a=this.isChangeStageIdx_b,i=this.conferenceList[t].conference[a];i.is_setting_in_advance=e,this.conferenceList[t].conference.splice(a,1,i),this.stageBtn=1===e,this.setStageShow=!1},isSetStageTap:function(e,t,a){this.stageBtn=0==a,this.setStageShow=!0,this.isChangeStageIdx_a=e,this.isChangeStageIdx_b=t},selectTagTap:function(e,t,a){var i=this.conferenceList[t].conference[a].equipment[e];i.is_delete=0==i.is_delete?1:0,this.conferenceList[t].conference[a].equipment.splice(e,1,i)},clearCheckTap:function(e,t){this.conferenceList[e].conference[t].equipment=JSON.parse(JSON.stringify(this.tagList))},deleteEvent:function(e,t){1===this.conferenceList.length?1===this.conferenceList[e].conference.length?this.is_conference_rooms="0":this.conferenceList[e].conference.splice(t,1):1===this.conferenceList[e].conference.length?this.conferenceList.splice(e,1):this.conferenceList[e].conference.splice(t,1),this.conferenceList.forEach((function(e,t){e.conference.order_name=t+1})),this.selectDateTap()},copyPreEvent:function(e,t){if(t>0){var a=JSON.parse(JSON.stringify(Object(n["a"])({},this.conferenceList[e].conference[t-1])));a.id=this.conferenceList[e].conference[t].id,a.is_important=1,this.conferenceList[e].conference.splice(t,1,a)}},copyPreDate:function(e){var t=this,a=JSON.parse(JSON.stringify(Object(n["a"])({},this.conferenceList[e-1])));a.conference.forEach((function(a,i){a.id=t.conferenceList[e].conference[i]?t.conferenceList[e].conference[i].id:""})),a.conference_date=this.conferenceList[e].conference_date,a.conference[0].order_name=e+1,this.conferenceList.splice(e,1,a)},addTodayEvent:function(e){var t={id:"",conference_id:"",event_info_id:"",conference_date:"",is_important:1,conference_start_time:"",conference_end_time:"",attendees:"",room_setup_type:"",is_setting_in_advance:1,setting_in_advance_date:"",rehearsal_date:"",describe:"",wire_microphone_count:"",wireless_microphone_count:"",microphone_describe:"",equipment:JSON.parse(JSON.stringify(this.tagList)),is_delete:0},a=this.conferenceList[e].conference.length;this.conferenceList[e].conference.splice(a,0,t)},addOtherEvent:function(){var e=this,t=this.meetDate.filter((function(t){return-1===e.disMeetDate.indexOf(t)})),a=[{id:"",order_name:"",event_info_id:"",conference_id:"",conference_date:t.length?t[0]:"",is_important:0,conference_start_time:"09:00",conference_end_time:"16:00",attendees:"",room_setup_type:"001-1",is_setting_in_advance:1,setting_in_advance_date:"",setting_in_advance_time:"09:00",rehearsal_date:"",rehearsal_time:"18:00",describe:"",wire_microphone_count:"",wireless_microphone_count:"",microphone_describe:"",equipment:JSON.parse(JSON.stringify(this.tagList)),is_delete:0}],i=this.conferenceList.length;a[0].setting_in_advance_date=Object(o["h"])(this.meetDate[0],-1),a[0].rehearsal_date=Object(o["h"])(this.meetDate[0],-1),a[0].order_name=i+1,this.conferenceList.splice(i,0,{conference:a,conference_date:t.length?t[0]:""}),this.disMeetDate.push(t.length?t[0]:"")}},watch:{meetDate:{handler:function(e,t){this.conferenceList[0].conference[0].setting_in_advance_date=Object(o["h"])(e[0],-1),this.conferenceList[0].conference[0].rehearsal_date=Object(o["h"])(e[0],-1)},deep:!0,immediate:!0},conferenceList:{handler:function(e,t){var a=this;this.datePickers=[],e.forEach((function(e){a.datePickers.push({disabledDate:function(t){return t.getTime()>new Date(e.conference_date)}})}))},deep:!0,immediate:!0}}},c=l,_=a("2877"),d=Object(_["a"])(c,i,s,!1,null,"5bac3434",null);t["a"]=d.exports},"393b":function(e,t,a){"use strict";a("ac1f"),a("5319"),a("4d63"),a("c607"),a("2c3e"),a("25f0"),a("00b4");var i=function(e,t,a){e.addEventListener(t,a,!1)},s=function(e){i(e,"keyup",(function(){e.value=e.value.replace(/\s+/,"")}))},n=function(e){i(e,"keyup",(function(){e.value=e.value.replace(/\D/g,""),console.log(e.value)}))},r=function(e){i(e,"keyup",(function(){e.value=e.value.replace(/[^\d.]*/g,""),isNaN(e.value)&&(e.value="")}))},o=function(e){i(e,"keyup",(function(){e.value=e.value.replace(/[^\a-\z\A-\Z0-9\u4E00-\u9FA5]/g,"")}))},l=function(e){i(e,"blur",(function(){if(e.value){var t=new RegExp("^(13|14|15|16|17|18|19)[0-9]{9}$");t.test(e.value)||(e.value="")}}))},c=function(e){i(e,"blur",(function(){if(e.value){var t=/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/;t.test(e.value)||(e.value="")}}))},_={bind:function(e,t){switch("input"!==e.tagName.toLowerCase()&&(e=e.getElementsByTagName("input")[0]),s(e),t.arg){case"int":n(e);break;case"price":r(e);break;case"special":o(e);break;case"phone":l(e);break;case"url":c(e);break;default:break}}},d=function(e){e.directive("inputFilter",_)};window.Vue&&(window.inputFilter=_,Vue.use(d)),_.install=d;t["a"]=_},"5f25":function(e,t,a){e.exports=a.p+"img/返回.25769739.png"},6813:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"room"},[a("div",{staticClass:"demand_item"},[a("div",{staticClass:"demand_top flex_row justify_between"},[a("div",{staticClass:"demand_name flex_row align_center"},[a("h2",{staticStyle:{"margin-right":"20px"}},[e._v("客房需求")]),a("el-switch",{model:{value:e.is_guest_room,callback:function(t){e.is_guest_room=t},expression:"is_guest_room"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.is_guest_room,expression:"is_guest_room"}],staticClass:"demand_main"},[e.isCheck?a("div",{staticClass:"demand_main_base flex_row align_center"},[a("div",{staticClass:"mar_r20"},[a("span",{staticClass:"mar_r10"},[e._v("入住 / 离店日期")]),a("el-select",{staticStyle:{width:"120px"},attrs:{disabled:"",size:"small"},on:{change:e.changeCheckDate},model:{value:e.check_in_date,callback:function(t){e.check_in_date=t},expression:"check_in_date"}},e._l(e.dateArr,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1),a("span",{staticClass:"line"},[e._v("—")]),a("el-select",{staticStyle:{width:"120px"},attrs:{disabled:"",size:"small"},on:{change:e.changeCheckDate},model:{value:e.out_date,callback:function(t){e.out_date=t},expression:"out_date"}},e._l(e.outDate,(function(t,i){return a("el-option",{key:i,attrs:{disabled:i<=e.disabledIndex,label:t,value:t}})})),1)],1),a("div",{staticClass:"mar_r20"},[a("span",{staticClass:"mar_r10"},[e._v("房标")]),a("el-input",{staticStyle:{width:"80px"},attrs:{readonly:"",type:"text",placeholder:"非必填",size:"small"},on:{input:function(t){return e.formatNum(2)}},model:{value:e.night_budget,callback:function(t){e.night_budget=t},expression:"night_budget"}}),e._v(" 元/间夜 ")],1),a("div",{staticClass:"mar_r20"},[a("el-checkbox",{attrs:{disabled:""},model:{value:e.is_networks,callback:function(t){e.is_networks=t},expression:"is_networks"}},[e._v("需要宽带")]),a("el-checkbox",{attrs:{disabled:""},model:{value:e.is_breakfast,callback:function(t){e.is_breakfast=t},expression:"is_breakfast"}},[e._v("需要早餐")])],1),a("div",{staticClass:"mar_r20"},[a("el-select",{staticStyle:{width:"160px"},attrs:{disabled:"",size:"small"},model:{value:e.is_Inside_outside,callback:function(t){e.is_Inside_outside=t},expression:"is_Inside_outside"}},e._l(e.inneroutter,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]):e._e(),e.isCheck?e._e():a("div",{staticClass:"demand_main_base flex_row align_center"},[a("div",{staticClass:"mar_r20"},[a("span",{staticClass:"mar_r10"},[e._v("入住 / 离店日期")]),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"small"},on:{change:e.changeCheckDate},model:{value:e.check_in_date,callback:function(t){e.check_in_date=t},expression:"check_in_date"}},e._l(e.dateArr,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1),a("span",{staticClass:"line"},[e._v("—")]),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"small"},on:{change:e.changeCheckDate},model:{value:e.out_date,callback:function(t){e.out_date=t},expression:"out_date"}},e._l(e.outDate,(function(t,i){return a("el-option",{key:i,attrs:{disabled:i<=e.disabledIndex,label:t,value:t}})})),1)],1),a("div",{staticClass:"mar_r20"},[a("span",{staticClass:"mar_r10"},[e._v("房标")]),a("el-input",{staticStyle:{width:"80px"},attrs:{type:"text",placeholder:"非必填",size:"small"},on:{input:function(t){return e.formatNum(2)}},model:{value:e.night_budget,callback:function(t){e.night_budget=t},expression:"night_budget"}}),e._v(" 元/间夜 ")],1),a("div",{staticClass:"mar_r20"},[a("el-checkbox",{model:{value:e.is_networks,callback:function(t){e.is_networks=t},expression:"is_networks"}},[e._v("需要宽带")]),a("el-checkbox",{model:{value:e.is_breakfast,callback:function(t){e.is_breakfast=t},expression:"is_breakfast"}},[e._v("需要早餐")])],1),a("div",{staticClass:"mar_r20"},[a("el-select",{staticStyle:{width:"160px"},attrs:{size:"small"},model:{value:e.is_Inside_outside,callback:function(t){e.is_Inside_outside=t},expression:"is_Inside_outside"}},e._l(e.inneroutter,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),a("div",{staticClass:"demand_hotel"},[a("el-table",{attrs:{border:"",data:e.room,size:"small"}},[a("el-table-column",{attrs:{label:"日期",prop:"check_in_date",width:"125",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{class:e.isCheck?"text_left":"text_left pad_lr10"},[e._v(e._s(t.row.check_in_date.substring(0,10)))])]}}])}),a("el-table-column",{attrs:{label:"双床房",prop:"twin_bed_count",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("div",{staticClass:"text_right"},[a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"}]},[e._v(e._s(t.row.twin_bed_count))]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}],staticClass:"cell_content text_left"},[a("p",[a("span",[e._v("内部数量")]),a("span",[e._v(e._s(t.row.in_twin_bed_count))])]),a("p",[a("span",[e._v("外部数量")]),a("span",[e._v(e._s(t.row.out_twin_bed_count))])])])]):e._e(),e.isCheck?e._e():a("div",[a("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"},{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"请填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:t.row.twin_bed_count,callback:function(a){e.$set(t.row,"twin_bed_count",a)},expression:"scope.row.twin_bed_count"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}]},[a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"内部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:t.row.in_twin_bed_count,callback:function(a){e.$set(t.row,"in_twin_bed_count",a)},expression:"scope.row.in_twin_bed_count"}}),a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"外部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:t.row.out_twin_bed_count,callback:function(a){e.$set(t.row,"out_twin_bed_count",a)},expression:"scope.row.out_twin_bed_count"}})],1)],1)]}}])}),a("el-table-column",{attrs:{label:"大床房",prop:"king_bed_count",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("div",{staticClass:"text_right"},[a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"}]},[e._v(e._s(t.row.king_bed_count))]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}],staticClass:"cell_content text_left"},[a("p",[a("span",[e._v("内部数量")]),a("span",[e._v(e._s(t.row.in_king_bed_count))])]),a("p",[a("span",[e._v("外部数量")]),a("span",[e._v(e._s(t.row.out_king_bed_count))])])])]):e._e(),e.isCheck?e._e():a("div",[a("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"},{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"请填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:t.row.king_bed_count,callback:function(a){e.$set(t.row,"king_bed_count",a)},expression:"scope.row.king_bed_count"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}]},[a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"内部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:t.row.in_king_bed_count,callback:function(a){e.$set(t.row,"in_king_bed_count",a)},expression:"scope.row.in_king_bed_count"}}),a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"外部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:t.row.out_king_bed_count,callback:function(a){e.$set(t.row,"out_king_bed_count",a)},expression:"scope.row.out_king_bed_count"}})],1)],1)]}}])}),a("el-table-column",{attrs:{label:"行政房/套房",prop:"superior_room_count",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("div",{staticClass:"text_right"},[a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"}],staticClass:"pad_r10"},[e._v(e._s(t.row.superior_room_count))]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}],staticClass:"cell_content text_left"},[a("p",[a("span",[e._v("内部数量")]),a("span",[e._v(e._s(t.row.in_superior_room_count))])]),a("p",[a("span",[e._v("外部数量")]),a("span",[e._v(e._s(t.row.out_superior_room_count))])])])]):e._e(),e.isCheck?e._e():a("div",[a("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"},{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"请填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:t.row.superior_room_count,callback:function(a){e.$set(t.row,"superior_room_count",a)},expression:"scope.row.superior_room_count"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}],staticClass:"cell_content"},[a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"内部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:t.row.in_superior_room_count,callback:function(a){e.$set(t.row,"in_superior_room_count",a)},expression:"scope.row.in_superior_room_count"}}),a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"外部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:t.row.out_superior_room_count,callback:function(a){e.$set(t.row,"out_superior_room_count",a)},expression:"scope.row.out_superior_room_count"}})],1)],1)]}}])}),a("el-table-column",{attrs:{label:"总计",prop:"superior_room_count",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==e.is_Inside_outside?a("div",{staticStyle:{"text-align":"right"}},[e._v(" "+e._s(parseInt(t.row.superior_room_count||0)+parseInt(t.row.king_bed_count||0)+parseInt(t.row.twin_bed_count||0))+" ")]):e._e(),1==e.is_Inside_outside?a("div",{staticStyle:{"text-align":"right"}},[e._v(" "+e._s(parseInt(t.row.in_twin_bed_count||0)+parseInt(t.row.out_twin_bed_count||0)+parseInt(t.row.in_superior_room_count||0)+parseInt(t.row.out_superior_room_count||0)+parseInt(t.row.in_king_bed_count||0)+parseInt(t.row.out_king_bed_count||0))+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"其他需求",prop:"superior_room_count",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?e._e():a("el-input",{attrs:{size:"small",placeholder:"几间无烟／有烟、无窗／有窗"},model:{value:t.row.other_requirements,callback:function(a){e.$set(t.row,"other_requirements",a)},expression:"scope.row.other_requirements"}}),e.isCheck?a("p",{staticClass:"text_left"},[e._v(" "+e._s(t.row.other_requirements)+" ")]):e._e()]}}])}),e.isCheck?e._e():a("el-table-column",{attrs:{label:"操作",prop:"superior_room_count",align:"center",width:"165"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"light",content:"复制昨日数据",offset:"10",placement:"top-start"}},[0!==t.$index?a("el-button",{staticClass:"el-icon-document-copy",attrs:{type:"text",size:"small"},on:{click:function(a){return e.copyPreTap("room",t.$index)}}}):e._e()],1)]}}],null,!1,2022971524)})],1)],1)])])])},s=[],n=a("2909"),r=(a("d3b7"),a("25f0"),a("ac1f"),a("5319"),a("159b"),a("fb6a"),a("393b")),o=(a("cf45"),{name:"room",props:["dateArr","outDate","isCheck"],directives:{inputFilter:r["a"]},data:function(){return{is_guest_room:!0,guest_room_budget:0,check_in_date:"",out_date:"",disabledIndex:0,night_budget:0,is_networks:!0,is_breakfast:!0,checkDate:[],roomItem:{check_in_date:"",twin_bed_count:"",king_bed_count:"",superior_room_count:"",other_requirements:""},orgRoom:[],room:[],outDateArr:[],inneroutter:[{label:"不区分内外部人员",value:0},{label:"区分内外部人员",value:1}],is_Inside_outside:"0"}},mounted:function(){},methods:{formatNum:function(e){var t;1===e&&(t=this.guest_room_budget.toString()),2===e&&(t=this.night_budget.toString()),t=t.replace(/。/g,"."),t=t.replace(/\b(0+)/gi,""),t=t.replace(/[^\d.]/g,""),t=t.replace(/^\./g,""),t=t.replace(/\.{2,}/g,""),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),1===e&&(this.guest_room_budget=t),2===e&&(this.night_budget=t)},changeInout:function(){},changeCheckDate:function(){var e=this,t=this.dateArr.indexOf(this.check_in_date);this.disabledIndex=t;var a=this.outDate.indexOf(this.out_date);t>=a?(this.out_date=this.dateArr[this.dateArr.length-1],this.room.forEach((function(t){e.orgRoom.forEach((function(a,i){t.check_in_date.slice(0,10)==a.check_in_date&&(e.orgRoom[i]=t)}))})),this.room=this.orgRoom.slice(t,this.dateArr.length-1)):(this.room.forEach((function(t){e.orgRoom.forEach((function(a,i){t.check_in_date.slice(0,10)==a.check_in_date&&(e.orgRoom[i]=t)}))})),this.room=this.orgRoom.slice(t,a))},copyPreTap:function(e,t){if("room"===e){var a=this.room[t].id,i=this.room[t].check_in_date,s=this.room[t].is_delete;this.room[t]=Object.assign(this.room[t],this.room[t-1]),this.room[t].id=a,this.room[t].check_in_date=i,this.room[t].is_delete=s,console.log(this.room[t-1]),console.log(this.room[t])}else console.log(e)}},watch:{dateArr:{handler:function(e,t){this.checkDate=Object(n["a"])(e),this.check_in_date=e[1];var a=this.dateArr.indexOf(this.check_in_date);this.room=this.orgRoom.slice(a),this.out_date=this.outDate[this.outDate.length-1]},deep:!0,immediate:!0}}}),l=o,c=a("2877"),_=Object(c["a"])(l,i,s,!1,null,"75f05855",null);t["a"]=_.exports},"6dd6":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"car"},[a("div",{staticClass:"demand_item"},[a("div",{staticClass:"demand_top flex_row justify_between"},[a("div",{staticClass:"demand_name flex_row align_center"},[a("h2",{staticStyle:{"margin-right":"20px"}},[e._v("地面交通")]),a("el-switch",{model:{value:e.is_car_rental,callback:function(t){e.is_car_rental=t},expression:"is_car_rental"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_car_rental,expression:"is_car_rental == '1'"}]},[e._l(e.carList,(function(t,i){return a("div",[a("div",{staticClass:"flex_row"},[e.isCheck?e._e():a("div",{staticClass:"demand_date mar_t20 mar_l20"},[a("span",[e._v("日期")]),a("el-select",{attrs:{size:"small"},on:{change:e.selectDateTap},model:{value:t.car_date,callback:function(a){e.$set(t,"car_date",a)},expression:"item.car_date"}},e._l(e.dateArr,(function(t,i){return a("el-option",{attrs:{disabled:e.getDisTap(t),label:t,value:t}})})),1)],1),a("el-button",{staticClass:"mar_20 add_new_item",attrs:{type:"text",size:"medium"},on:{click:function(t){return e.addOtherCar(i)}}},[e._v("添加该日交通需求 ")])],1),a("el-table",{attrs:{border:"",data:t.car}},[e.isCheck?a("el-table-column",{attrs:{label:"日期",width:"180",align:"center"}},[[a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.car_date))])])]],2):e._e(),a("el-table-column",{attrs:{label:"用车目的",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},e._l(e.purposeList,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.purpose,expression:"item.key == scope.row.purpose"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e(),e.isCheck?e._e():a("el-select",{staticClass:"demand_120",attrs:{size:"small"},model:{value:t.row.purpose,callback:function(a){e.$set(t.row,"purpose",a)},expression:"scope.row.purpose"}},e._l(e.purposeList,(function(e){return a("el-option",{attrs:{label:e.value,value:e.key}})})),1)]}}],null,!0)}),a("el-table-column",{attrs:{label:"用车类型",prop:"is_important",width:e.isCheck?180:140,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},e._l(e.carType,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.vehicle_type,expression:"item.key == scope.row.vehicle_type"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e(),e.isCheck?e._e():a("el-select",{staticClass:"demand_120",attrs:{size:"small"},on:{change:function(a){return e.selectTraffic(t.row.vehicle_type)}},model:{value:t.row.vehicle_type,callback:function(a){e.$set(t.row,"vehicle_type",a)},expression:"scope.row.vehicle_type"}},e._l(e.carType,(function(e){return a("el-option",{attrs:{label:e.value,value:e.key}})})),1)]}}],null,!0)}),a("el-table-column",{attrs:{label:"用车数量",prop:"is_important",width:e.isCheck?110:140,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_right"},[a("span",[e._v(e._s(t.row.car_count))])]):e._e(),e.isCheck?e._e():a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],attrs:{size:"small",placeholder:"必填"},model:{value:t.row.car_count,callback:function(a){e.$set(t.row,"car_count",e._n(a))},expression:"scope.row.car_count"}})]}}],null,!0)}),a("el-table-column",{attrs:{label:"搭乘人数",prop:"is_important",width:e.isCheck?125:140,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_right"},[a("span",[e._v(e._s(t.row.vehicle_count))])]):e._e(),e.isCheck?e._e():a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],attrs:{size:"small",placeholder:"非必填"},model:{value:t.row.vehicle_count,callback:function(a){e.$set(t.row,"vehicle_count",a)},expression:"scope.row.vehicle_count"}})]}}],null,!0)}),a("el-table-column",{attrs:{label:"用车城市",prop:"is_important",width:e.isCheck?130:140,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.city))])]):e._e(),e.isCheck?e._e():a("el-input",{attrs:{size:"small",placeholder:"非必填"},model:{value:t.row.city,callback:function(a){e.$set(t.row,"city",a)},expression:"scope.row.city"}})]}}],null,!0)}),a("el-table-column",{attrs:{label:"用车说明",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.explain))])]):e._e(),e.isCheck?e._e():a("el-input",{attrs:{type:"text",rows:5,size:"small",placeholder:"请填写用车说明"},model:{value:t.row.explain,callback:function(a){e.$set(t.row,"explain",a)},expression:"scope.row.explain"}})]}}],null,!0)}),e.isCheck?e._e():a("el-table-column",{attrs:{label:"操作",prop:"is_important",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"light",content:"删除",offset:"10",placement:"top-start"}},[a("el-button",{staticClass:"el-icon-delete",staticStyle:{"font-size":"18px"},attrs:{type:"text"},on:{click:function(a){return e.deleteCar(i,t.$index)}}})],1)]}}],null,!0)})],1)],1)})),a("div",{staticClass:"bottom_tr"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.carList.length<e.dateArr.length,expression:"carList.length < dateArr.length"}],staticClass:"mar_5",attrs:{type:"primary",size:"medium"},on:{click:e.addOther}},[e._v("添加其他日期地面交通")])],1)],2)])])},s=[],n=a("5530"),r=(a("d3b7"),a("159b"),a("25f0"),a("ac1f"),a("5319"),a("a434"),a("4de4"),a("393b")),o={name:"car",props:["purposeList","carType","dateArr","isCheck"],directives:{inputFilter:r["a"]},data:function(){return{is_car_rental:"1",car_rental_budget:0,eventCity:"",carDate:[],disCarDate:[],carList:[{car_date:"",car:[{id:"",event_info_id:"",purpose:"",vehicle_type:"",car_count:"",vehicle_count:"",city:this.eventCity,explain:"",is_delete:0}]}]}},mounted:function(){var e=this;this.$nextTick((function(){e.addDate(),e.carList.forEach((function(t){t.car.forEach((function(t){var a;t.city=null!==(a=t.city)&&void 0!==a?a:e.eventCity}))}))}))},updated:function(){var e=this;this.carList.forEach((function(t){t.car.forEach((function(t){t.city=t.city?t.city:e.eventCity}))}))},methods:{formatNum:function(){var e=this.car_rental_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.car_rental_budget=e},addDate:function(){var e=this;this.carList.forEach((function(t){!t.car_date&&e.carDate.length&&(t.car_date=e.carDate[0],-1===e.disCarDate.indexOf(t.car_date)&&e.disCarDate.push(t.car_date))}))},selectDateTap:function(){var e=this;this.disCarDate=[],this.carList.forEach((function(t){t.car_date&&e.disCarDate.push(t.car_date)}))},getDisTap:function(e){return-1!==this.disCarDate.indexOf(e)},selectTraffic:function(e){},addOtherCar:function(e){var t=this.carList[e].car.length,a=Object(n["a"])({},this.carList[e].car[t-1]);a.id="",this.carList[e].car.push(a)},deleteCar:function(e,t){1===this.carList.length?1===this.carList[e].car.length?this.is_car_rental="0":this.carList[e].car.splice(t,1):0!==t?this.carList[e].car.splice(t,1):this.carList.splice(e,1),this.selectDateTap()},addOther:function(){var e=this,t=this.carDate.filter((function(t){return-1===e.disCarDate.indexOf(t)})),a={car_date:t.length?t[0]:"",car:[{id:"",event_info_id:"",purpose:"",vehicle_type:"",car_count:"",vehicle_count:"",city:this.eventCity,explain:"",is_delete:0}]},i=this.carList.length;"0"===this.is_car_rental?this.is_car_rental="1":this.carList.splice(i,0,a),this.selectDateTap()}}},l=o,c=a("2877"),_=Object(c["a"])(l,i,s,!1,null,"561c098e",null);t["a"]=_.exports},a365:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"foodDemand"},[a("div",{staticClass:"demand_item"},[a("div",{staticClass:"demand_top flex_row justify_between"},[a("div",{staticClass:"demand_name flex_row align_center"},[a("h2",{staticStyle:{"margin-right":"20px"}},[e._v("酒店外餐饮需求")]),a("el-switch",{model:{value:e.is_food_outside,callback:function(t){e.is_food_outside=t},expression:"is_food_outside"}})],1),a("div",{staticClass:"budget flex_row align_center"},[a("span",{staticClass:"nowrap"},[e._v("餐标：")]),a("span",[e._v("￥"+e._s(Number(e.food_limit).toFixed(2)))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_food_outside,expression:"is_food_outside == '1'"}]},[a("el-table",{attrs:{border:"",data:e.foodBudgetList}},[a("el-table-column",{attrs:{label:"日期",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"text_left"},[e.isCheck?a("span",[e._v(e._s(t.row.food_date.split(" ")[0]))]):e._e()]),e.isCheck?e._e():a("el-select",{staticClass:"demand_120",attrs:{size:"small"},model:{value:t.row.food_date,callback:function(a){e.$set(t.row,"food_date",a)},expression:"scope.row.food_date"}},e._l(e.dateArr,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)]}}])}),a("el-table-column",{attrs:{label:"用餐时间",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},e._l(e.foodTime,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.value==t.row.food_time,expression:"item.value == scope.row.food_time"}],key:i.value},[e._v(e._s(i.label))])})),0):e._e(),e.isCheck?e._e():a("el-select",{staticClass:"demand_120 mar_t10",attrs:{size:"small"},model:{value:t.row.food_time,callback:function(a){e.$set(t.row,"food_time",a)},expression:"scope.row.food_time"}},e._l(e.foodTime,(function(e){return a("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})})),1)]}}])}),a("el-table-column",{attrs:{label:"用餐类型",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},e._l(e.FoodOutside,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.food_type,expression:"item.key == scope.row.food_type"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e(),e.isCheck?e._e():a("el-select",{staticClass:"demand_120 mar_t10",attrs:{size:"small"},model:{value:t.row.food_type,callback:function(a){e.$set(t.row,"food_type",a)},expression:"scope.row.food_type"}},e._l(e.FoodOutside,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)]}}])}),a("el-table-column",{attrs:{label:"用餐人数",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.food_count)+"人")])]):e._e(),e.isCheck?e._e():a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],attrs:{size:"small",placeholder:"人数",clearable:""},model:{value:t.row.food_count,callback:function(a){e.$set(t.row,"food_count",a)},expression:"scope.row.food_count"}})]}}])}),a("el-table-column",{attrs:{label:"需求备注",prop:"is_important",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.comments))])]):e._e(),e.isCheck?e._e():a("el-input",{attrs:{type:"textarea",rows:3,size:"small",placeholder:"酒店一般用餐时间为午餐12:00-14:00、晚餐18:00-20:00，如有特殊需求请在此注明。"},model:{value:t.row.comments,callback:function(a){e.$set(t.row,"comments",a)},expression:"scope.row.comments"}})]}}])}),e.isCheck?e._e():a("el-table-column",{attrs:{label:"操作",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"light",content:"删除",offset:"10",placement:"top-start"}},[a("el-button",{staticClass:"el-icon-delete",staticStyle:{"font-size":"18px"},attrs:{size:"small",type:"text"},on:{click:function(a){return e.deleteFoodDemand(t.$index)}}})],1)]}}],null,!1,1330280209)})],1),a("div",{staticClass:"bottom_tr"},[a("el-button",{staticClass:"mar_5",attrs:{type:"primary",size:"medium"},on:{click:e.addFoodDemand}},[e._v("添加酒店外餐饮需求")])],1)],1)])])},s=[],n=a("5530"),r=(a("d3b7"),a("159b"),a("25f0"),a("ac1f"),a("5319"),a("a434"),a("393b")),o={name:"foodDemand",props:["foodList","isCheck"],directives:{inputFilter:r["a"]},data:function(){return{is_food_outside:"1",food_outside_budget:0,food_limit:0,dateArr:[],FoodOutside:[],foodBudgetList:[{id:"",event_info_id:"",food_date:"",food_time:"",food_count:"",food_type:"",comments:""}],foodTime:[{label:"早餐",value:2},{label:"午餐",value:0},{label:"茶歇",value:3},{label:"晚餐",value:1}]}},mounted:function(){var e=this;this.$nextTick((function(){e.foodBudgetList.forEach((function(t){t.food_date||(t.food_date=e.dateArr[0])}))}))},methods:{formatNum:function(){var e=this.food_outside_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.food_outside_budget=e},isSHow:function(){return this.foodBudgetList.length<this.dateArr.length},deleteFoodDemand:function(e){0===e&&1===this.foodBudgetList.length?this.is_food_outside="0":this.foodBudgetList.splice(e,1)},addFoodDemand:function(){if(0!=this.is_food_outside){var e=this.foodBudgetList.length-1,t=Object(n["a"])({},this.foodBudgetList[e]);t.id="",this.foodBudgetList.push(t)}else this.is_food_outside="1"}}},l=o,c=a("2877"),_=Object(c["a"])(l,i,s,!1,null,"284c94a8",null);t["a"]=_.exports},a434:function(e,t,a){"use strict";var i=a("23e7"),s=a("da84"),n=a("23cb"),r=a("5926"),o=a("07fa"),l=a("7b0b"),c=a("65f0"),_=a("8418"),d=a("1dde"),u=d("splice"),p=s.TypeError,f=Math.max,m=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var a,i,s,d,u,w,g=l(this),b=o(g),k=n(e,b),y=arguments.length;if(0===y?a=i=0:1===y?(a=0,i=b-k):(a=y-2,i=m(f(r(t),0),b-k)),b+a-i>h)throw p(v);for(s=c(g,i),d=0;d<i;d++)u=k+d,u in g&&_(s,d,g[u]);if(s.length=i,a<i){for(d=k;d<b-i;d++)u=d+i,w=d+a,u in g?g[w]=g[u]:delete g[w];for(d=b;d>b-i+a;d--)delete g[d-1]}else if(a>i)for(d=b-i;d>k;d--)u=d+i-1,w=d+a-1,u in g?g[w]=g[u]:delete g[w];for(d=0;d<a;d++)g[d+k]=arguments[d+2];return g.length=b-i+a,s}})},d81d:function(e,t,a){"use strict";var i=a("23e7"),s=a("b727").map,n=a("1dde"),r=n("map");i({target:"Array",proto:!0,forced:!r},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},e45d:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"other"},[a("div",{staticClass:"demand_item"},[a("div",{staticClass:"demand_top flex_row justify_between"},[a("div",{staticClass:"demand_name flex_row align_center"},[a("div",{staticStyle:{"margin-right":"20px"}},[a("h2",{staticClass:"title"},[e._v("其它服务")]),e.isCheck?e._e():a("span",[e._v("(必填内容若无服务，请填写1)")])])])]),a("div",{staticClass:"demand_main"},[a("div",[e.isCheck?e._e():a("div",{staticClass:"equipment_tag"},[e._l(e.otherList,(function(t,i){return a("span",{directives:[{name:"show",rawName:"v-show",value:"其他"!=t.order_name,expression:"item.order_name != '其他'"}],key:i,class:0==t.is_delete?"select_tag":"",on:{click:function(a){return e.selectTagTap(t)}}},[e._v(e._s(t.order_name))])})),e._l(e.otherList,(function(t,i){return a("span",{directives:[{name:"show",rawName:"v-show",value:"其他"==t.order_name,expression:"item.order_name == '其他'"}],key:i,on:{click:function(a){return e.selectTagTap(t)}}},[e._v(e._s(t.order_name))])}))],2),a("div",[e.isCheck?a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.otherAddList}},[a("el-table-column",{attrs:{prop:"order_name",label:"项目",width:"285",align:"center"}}),a("el-table-column",{attrs:{label:"数量",width:"115",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"participate_count"},[a("span",[e._v(e._s(t.row.participate_count))])])]}}],null,!1,1074877287)}),a("el-table-column",{attrs:{prop:"describe",label:"需求备注",align:"center"}})],1),a("p",{staticClass:"other_text t666"},[e._v("其他需求："),a("span",{staticClass:"t333"},[e._v(e._s(e.order_describe)+"针对这个项目的特殊需求")])])],1):e._e(),e._l(e.otherAddList,(function(t,i){return a("div",{key:i},[e.isCheck?e._e():a("div",{staticClass:"mar_b10 flex_row",staticStyle:{"min-width":"100px"}},[a("span",{staticClass:"dis_block demand_100 text_left",staticStyle:{"padding-right":"30px","line-height":"32px"}},[e._v(e._s(t.order_name))]),a("div",{staticStyle:{"min-width":"250px"}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:["009-5","009-6","009-7","009-11","009-12"].includes(t.order_code),expression:"['009-5','009-6','009-7','009-11','009-12'].includes(item.order_code)"}],staticStyle:{width:"200px"},attrs:{clearable:"",size:"small"},model:{value:t.two_level_code,callback:function(a){e.$set(t,"two_level_code",a)},expression:"item.two_level_code"}},e._l(t.detail,(function(e){return a("el-option",{key:e.order_code,attrs:{label:e.order_name,value:e.order_code}})})),1)],1),a("div",{staticStyle:{"min-width":"150px"}},[a("span",{staticClass:"dis_block demand_50"},[e._v("数量")]),a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100 input_small",attrs:{size:"small"},model:{value:t.participate_count,callback:function(a){e.$set(t,"participate_count",e._n(a))},expression:"item.participate_count"}})],1),a("el-input",{staticClass:"mar_l20",staticStyle:{width:"50%"},attrs:{clearable:"",placeholder:"请填写针对这个项目的特殊需求",size:"small"},model:{value:t.describe,callback:function(a){e.$set(t,"describe",a)},expression:"item.describe"}}),a("i",{staticClass:"pad_lr5 pad_tb15 el-icon-delete mar_r20",staticStyle:{cursor:"pointer","font-size":"16px",color:"#409eff","line-height":"32px"},on:{click:function(t){return e.deleteOther(i)}}})],1)])}))],2),a("div",{staticClass:"other_list mar_t10"},e._l(e.otherCustom,(function(t,i){return a("div",{key:i,staticClass:"flex_row align_center mar_b10"},[a("div",{staticClass:"mar_b10 flex_row"},[a("span",{staticClass:"dis_block demand_100 text_left",staticStyle:{"padding-right":"30px","line-height":"32px"}},[e._v(e._s(t.order_name))]),a("div",{staticStyle:{"min-width":"200px"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small"},model:{value:t.two_level_code,callback:function(a){e.$set(t,"two_level_code",a)},expression:"item.two_level_code"}},e._l(t.detail,(function(e){return a("el-option",{key:e.order_code,attrs:{label:e.order_name,value:e.order_code}})})),1)],1),a("div",{staticStyle:{"min-width":"150px"}},[a("span",{staticClass:"dis_block demand_50"},[e._v("数量")]),a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small"},model:{value:t.participate_count,callback:function(a){e.$set(t,"participate_count",e._n(a))},expression:"item.participate_count"}})],1),a("el-input",{staticClass:"mar_l20",staticStyle:{width:"50%"},attrs:{clearable:"",placeholder:"请填写针对这个项目的特殊需求",size:"small"},model:{value:t.describe,callback:function(a){e.$set(t,"describe",a)},expression:"item.describe"}}),a("i",{staticClass:"pad_lr5 pad_tb5 el-icon-close mar_r20",staticStyle:{cursor:"pointer","font-size":"22px","line-height":"32px"},on:{click:function(t){return e.deleteCustom(i)}}})],1)])})),0),e.isCheck?e._e():a("el-input",{staticClass:"mar_t10",attrs:{type:"textarea",size:"small",rows:6,placeholder:"如果您还有什么额外的需求，请在此填写..."},model:{value:e.order_describe,callback:function(t){e.order_describe=t},expression:"order_describe"}})],1)])])])},s=[],n=(a("a434"),a("d3b7"),a("25f0"),a("ac1f"),a("5319"),a("393b")),r={name:"other",directives:{inputFilter:n["a"]},data:function(){return{is_other:"",other_budget:0,order_describe:"",otherList:[],otherCustom:[],otherAddList:[]}},props:["isCheck"],mounted:function(){},updated:function(){console.log(this.otherAddList),console.log(this.otherList)},methods:{selectTagTap:function(e){var t={id:"",event_info_id:this.$route.query.id,order_code:e.order_code,order_name:e.order_name,two_level_code:"",type:0,participate_count:"",describe:"",detail:e.detail};this.otherAddList.splice(this.otherAddList.length,0,t)},addOtherDemand:function(){var e={id:"",order_name:"其他"+(this.otherCustom.length+1),participate_count:"",describe:""};this.otherCustom.splice(this.otherCustom.length,0,e)},deleteOther:function(e){this.otherAddList.splice(e,1)},deleteCustom:function(e){this.otherCustom.splice(e,1)},formatNum:function(){var e=this.other_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.other_budget=e}}},o=r,l=a("2877"),c=Object(l["a"])(o,i,s,!1,null,"2637bd13",null);t["a"]=c.exports},e885:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"foodDemand"},[a("div",{staticClass:"demand_item"},[a("div",{staticClass:"demand_top flex_row justify_between"},[a("div",{staticClass:"demand_name flex_row align_center"},[a("h2",{staticStyle:{"margin-right":"20px"}},[e._v("酒店内餐饮需求")]),a("el-switch",{model:{value:e.is_food_beverage,callback:function(t){e.is_food_beverage=t},expression:"is_food_beverage"}})],1),a("div",{staticClass:"budget flex_row align_center"},[a("span",{staticClass:"nowrap"},[e._v("餐标：")]),a("span",[e._v("￥"+e._s(Number(e.food_limit).toFixed(2)))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_food_beverage,expression:"is_food_beverage == '1'"}]},[a("el-table",{attrs:{border:"",data:e.foodBudgetList}},[a("el-table-column",{attrs:{label:"日期",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"text_left"},[e.isCheck?a("span",[e._v(e._s(t.row.food_date.split(" ")[0]))]):e._e()]),e.isCheck?e._e():a("el-select",{staticClass:"demand_120",attrs:{size:"small"},model:{value:t.row.food_date,callback:function(a){e.$set(t.row,"food_date",a)},expression:"scope.row.food_date"}},e._l(e.dateArr,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)]}}])}),a("el-table-column",{attrs:{label:"上午茶歇",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.moring_break_count)+"人")])]):e._e(),e.isCheck?e._e():a("el-input",{attrs:{size:"small",placeholder:"人数",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:t.row.moring_break_count,callback:function(a){e.$set(t.row,"moring_break_count",a)},expression:"scope.row.moring_break_count"}})]}}])}),a("el-table-column",{attrs:{label:"午餐",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("div",[a("p",{staticClass:"text_left"},e._l(e.foodList,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.lunch_use_type,expression:"item.key == scope.row.lunch_use_type"}],key:i.key},[e._v(e._s(i.value))])})),0),a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.lunch_count)+"人")])])]):e._e(),e.isCheck?e._e():a("div",[0==t.row.lunch_address_type?a("el-select",{staticClass:"demand_120 mar_t5",attrs:{size:"small"},model:{value:t.row.lunch_use_type,callback:function(a){e.$set(t.row,"lunch_use_type",a)},expression:"scope.row.lunch_use_type"}},e._l(e.foodList,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1):e._e(),a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_120 mar_t5",attrs:{size:"small",placeholder:"人数",clearable:""},model:{value:t.row.lunch_count,callback:function(a){e.$set(t.row,"lunch_count",a)},expression:"scope.row.lunch_count"}})],1)]}}])}),a("el-table-column",{attrs:{label:"下午茶歇",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.afternoon_break_count)+"人")])]):e._e(),e.isCheck?e._e():a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],attrs:{size:"small",placeholder:"人数",clearable:""},model:{value:t.row.afternoon_break_count,callback:function(a){e.$set(t.row,"afternoon_break_count",a)},expression:"scope.row.afternoon_break_count"}})]}}])}),a("el-table-column",{attrs:{label:"晚餐",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("div",[a("p",{staticClass:"text_left"},e._l(e.foodList,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.dinner_use_type,expression:"item.key == scope.row.dinner_use_type"}],key:i.key},[e._v(e._s(i.value))])})),0),a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.dinner_count)+"人")])])]):e._e(),e.isCheck?e._e():a("div",[0==t.row.dinner_address_type?a("el-select",{staticClass:"demand_120 mar_t5",attrs:{size:"small"},model:{value:t.row.dinner_use_type,callback:function(a){e.$set(t.row,"dinner_use_type",a)},expression:"scope.row.dinner_use_type"}},e._l(e.foodList,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1):e._e(),a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_120 mar_t5",attrs:{size:"small",placeholder:"人数",clearable:""},model:{value:t.row.dinner_count,callback:function(a){e.$set(t.row,"dinner_count",a)},expression:"scope.row.dinner_count"}})],1)]}}])}),a("el-table-column",{attrs:{label:"需求备注",prop:"is_important",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.comments))])]):e._e(),e.isCheck?e._e():a("el-input",{attrs:{type:"textarea",rows:3,size:"small",placeholder:"酒店一般用餐时间为午餐12:00-14:00、晚餐18:00-20:00，如有特殊需求请在此注明。"},model:{value:t.row.comments,callback:function(a){e.$set(t.row,"comments",a)},expression:"scope.row.comments"}})]}}])}),e.isCheck?e._e():a("el-table-column",{attrs:{label:"操作",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"light",content:"删除",offset:"10",placement:"top-start"}},[a("el-button",{staticClass:"el-icon-delete",staticStyle:{"font-size":"18px"},attrs:{size:"small",type:"text"},on:{click:function(a){return e.deleteFoodDemand(t.$index)}}})],1)]}}],null,!1,1330280209)})],1),a("div",{staticClass:"bottom_tr"},[a("el-button",{staticClass:"mar_5",attrs:{type:"primary",size:"medium"},on:{click:e.addFoodDemand}},[e._v("添加酒店内餐饮需求")])],1)],1)])])},s=[],n=a("5530"),r=(a("d3b7"),a("159b"),a("25f0"),a("ac1f"),a("5319"),a("a434"),a("393b")),o={name:"foodDemand",props:["foodList","isCheck"],directives:{inputFilter:r["a"]},data:function(){return{is_food_beverage:"1",food_beverage_budget:0,food_limit:"",dateArr:[],foodBudgetList:[{id:"",food_date:"",moring_break_count:"",lunch_count:"",lunch_address_type:"",lunch_use_type:"",afternoon_break_count:"",dinner_count:"",dinner_address_type:"",dinner_use_type:"",comments:"",is_delete:0}]}},mounted:function(){var e=this;this.$nextTick((function(t){e.foodBudgetList.forEach((function(t){t.food_date||(t.food_date=e.dateArr[0])}))}))},methods:{formatNum:function(){var e=this.food_beverage_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.food_beverage_budget=e},isSHow:function(){return this.foodBudgetList.length<this.dateArr.length},deleteFoodDemand:function(e){0===e&&1===this.foodBudgetList.length?(this.is_food_beverage="0",console.log(this.is_food_beverag,66)):this.foodBudgetList.splice(e,1)},addFoodDemand:function(){if(0!=this.is_food_beverage){var e=this.foodBudgetList.length-1,t=Object(n["a"])({},this.foodBudgetList[e]);t.id="",this.foodBudgetList.push(t)}else this.is_food_beverage="1"}}},l=o,c=a("2877"),_=Object(c["a"])(l,i,s,!1,null,"36ce4cba",null);t["a"]=_.exports},e99c:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"intercity"},[a("div",{staticClass:"demand_item"},[a("div",{staticClass:"demand_top flex_row justify_between"},[a("div",{staticClass:"demand_name flex_row align_center"},[a("H2",{staticStyle:{"margin-right":"20px"}},[e._v("大交通")]),a("el-switch",{model:{value:e.is_intercity_transportation,callback:function(t){e.is_intercity_transportation=t},expression:"is_intercity_transportation"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_intercity_transportation,expression:"is_intercity_transportation == 1"}]},[e._l(e.transportationList,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"flex_row"},[e.isCheck?e._e():a("div",{staticClass:"demand_date mar_t20 mar_l20"},[a("span",[e._v("日期")]),a("el-select",{attrs:{size:"small"},on:{change:e.selectDateTap},model:{value:t.transportation_date,callback:function(a){e.$set(t,"transportation_date",a)},expression:"item.transportation_date"}},e._l(e.interDate,(function(t){return a("el-option",{key:t,attrs:{disabled:e.getDisTap(t),label:t,value:t}})})),1)],1),a("el-button",{staticClass:"mar_20 add_new_item",attrs:{type:"text",size:"medium"},on:{click:function(t){return e.addOtherTraffic(i)}}},[e._v("添加该日交通需求")])],1),a("el-table",{attrs:{border:"",data:t.transportation}},[e.isCheck?a("el-table-column",{attrs:{label:"日期",width:"180",align:"center"}},[[a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.transportation_date))])])]],2):e._e(),a("el-table-column",{attrs:{label:"始发地",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.origin_city))])]):e._e(),e.isCheck?e._e():a("el-input",{attrs:{size:"small",placeholder:"出发城市"},model:{value:t.row.origin_city,callback:function(a){e.$set(t.row,"origin_city",a)},expression:"scope.row.origin_city"}})]}}],null,!0)}),a("el-table-column",{attrs:{label:"目的地",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.destination_city))])]):e._e(),e.isCheck?e._e():a("el-input",{attrs:{size:"small",placeholder:"到达城市"},model:{value:t.row.destination_city,callback:function(a){e.$set(t.row,"destination_city",a)},expression:"scope.row.destination_city"}})]}}],null,!0)}),a("el-table-column",{attrs:{label:"交通工具",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},e._l(e.trafficType,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.trans_type,expression:"item.key == scope.row.trans_type"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e(),e.isCheck?e._e():a("el-select",{attrs:{size:"small"},on:{change:function(a){return e.selectTraffic(t.row.trans_type,i,t.$index)}},model:{value:t.row.trans_type,callback:function(a){e.$set(t.row,"trans_type",a)},expression:"scope.row.trans_type"}},e._l(e.trafficType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.key}})})),1)]}}],null,!0)}),a("el-table-column",{attrs:{label:"搭乘人数",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_right"},[a("span",[e._v(e._s(t.row.passenger_count))])]):e._e(),e.isCheck?e._e():a("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],attrs:{size:"small",placeholder:"人数"},model:{value:t.row.passenger_count,callback:function(a){e.$set(t.row,"passenger_count",a)},expression:"scope.row.passenger_count"}})]}}],null,!0)}),a("el-table-column",{attrs:{label:"抵达时间",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.arrive_time))])]):e._e(),e.isCheck?e._e():a("el-time-select",{staticStyle:{width:"100%"},attrs:{placeholder:"抵达时间",size:"small","picker-options":e.step},model:{value:t.row.arrive_time,callback:function(a){e.$set(t.row,"arrive_time",a)},expression:"scope.row.arrive_time"}})]}}],null,!0)}),a("el-table-column",{attrs:{label:"座位等级",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.trans_type&&"003-3"!==t.row.trans_type?[e.trainSeatType.length&&"003-2"===t.row.trans_type?[e.isCheck?a("p",{staticClass:"text_left"},e._l(e.trainSeatType,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.seat_classes,expression:"item.key == scope.row.seat_classes"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e()]:e._e(),e.airSeatType.length&&"003-1"===t.row.trans_type?[e.isCheck?a("p",{staticClass:"text_left"},e._l(e.airSeatType,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.seat_classes,expression:"item.key == scope.row.seat_classes"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e()]:e._e(),e.isCheck?e._e():a("el-select",{attrs:{size:"small"},model:{value:t.row.seat_classes,callback:function(a){e.$set(t.row,"seat_classes",a)},expression:"scope.row.seat_classes"}},[e.trainSeatType.length&&"003-2"===t.row.trans_type?e._l(e.trainSeatType,(function(e){return a("el-option",{attrs:{label:e.value,value:e.key}})})):e._e(),e.airSeatType.length&&"003-1"===t.row.trans_type?e._l(e.airSeatType,(function(e){return a("el-option",{attrs:{label:e.value,value:e.key}})})):e._l(t.row.seatList,(function(e){return a("el-option",{attrs:{label:e.value,value:e.key}})}))],2)]:void 0}}],null,!0)}),a("el-table-column",{attrs:{label:"票价/折扣",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return"003-1"===t.row.trans_type?[e.isCheck?a("div",[e.trainSeatType.length&&"003-2"===t.row.trans_type?[e.isCheck?a("p",{staticClass:"text_left"},e._l(e.trainDiscount,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.special_price,expression:"item.key == scope.row.special_price"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e()]:e._e(),e.airSeatType.length&&"003-1"===t.row.trans_type?[e.isCheck?a("p",{staticClass:"text_left"},e._l(e.airDiscount,(function(i){return a("span",{directives:[{name:"show",rawName:"v-show",value:i.key==t.row.special_price,expression:"item.key == scope.row.special_price"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e()]:e._e()],2):e._e(),e.isCheck?e._e():a("el-select",{attrs:{size:"small"},model:{value:t.row.special_price,callback:function(a){e.$set(t.row,"special_price",a)},expression:"scope.row.special_price"}},[e.trainSeatType.length&&"003-2"===t.row.trans_type?e._l(e.trainDiscount,(function(e){return a("el-option",{attrs:{label:e.value,value:e.key}})})):e._e(),e.airSeatType.length&&"003-1"===t.row.trans_type?e._l(e.airDiscount,(function(e){return a("el-option",{attrs:{label:e.value,value:e.key}})})):e._l(t.row.discountList,(function(e){return a("el-option",{attrs:{label:e.value,value:e.key}})}))],2)]:void 0}}],null,!0)}),a("el-table-column",{attrs:{label:"需求备注",prop:"is_important",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheck?a("p",{staticClass:"text_left"},[a("span",[e._v(e._s(t.row.requirement))])]):e._e(),e.isCheck?e._e():a("el-input",{attrs:{type:"text",rows:5,size:"small",placeholder:"请备注退改条件等"},model:{value:t.row.requirement,callback:function(a){e.$set(t.row,"requirement",a)},expression:"scope.row.requirement"}})]}}],null,!0)}),e.isCheck?e._e():a("el-table-column",{attrs:{label:"操作",prop:"is_important",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"buttons"},[a("el-tooltip",{attrs:{effect:"light",content:"删除",offset:"10",placement:"top-start"}},[a("el-button",{staticClass:"el-icon-delete",staticStyle:{"font-size":"18px"},attrs:{size:"small",type:"text"},on:{click:function(a){return e.deleteIntercity(i,t.$index)}}})],1),a("el-tooltip",{attrs:{effect:"light",content:"添加返程",offset:"10",placement:"top-start"}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"18px"},attrs:{size:"small",type:"text"},on:{click:function(a){return e.addBack(i,t.$index)}}})],1)],1)]}}],null,!0)})],1)],1)})),a("div",{staticClass:"bottom_tr"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.transportationList.length<e.dateArr.length,expression:"transportationList.length < dateArr.length"}],staticClass:"mar_5",attrs:{type:"primary",size:"medium"},on:{click:e.addOther}},[e._v("添加其他日期交通需求")])],1)],2)])])},s=[],n=a("5530"),r=(a("4de4"),a("d3b7"),a("159b"),a("a434"),a("e9c4"),a("d81d"),a("25f0"),a("ac1f"),a("5319"),a("393b")),o={name:"intercity",props:["dateArr","isCheck"],directives:{inputFilter:r["a"]},data:function(){return{trafficType:[],interDate:[],disInterDate:[],discountList:[],seatList:[],is_intercity_transportation:"1",intercity_transportation_budget:0,transportationList:[{transportation_date:"",transportation:[{id:"",origin_city:"",destination_city:"",trans_type:"",passenger_count:"",arrive_time:"",seat_classes:"",special_price:"",requirement:"",trip_type:0,group_transportation:"",is_delete:0}]}],step:{start:"00:00",step:"00:30",end:"23:59"},airSeatType:[],trainSeatType:[],trainDiscount:[],airDiscount:[],eventEndTime:""}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.trafficType.filter((function(e){return"003-2"===e.key})),a=e.trafficType.filter((function(e){return"003-1"===e.key}));e.trainSeatType=t.length?t[0].DiscountDetaile:[],e.airSeatType=a.length?a[0].DiscountDetaile:[],e.trainDiscount=t.length?t[0].GradeDetaile:[],e.airDiscount=a.length?a[0].GradeDetaile:[],e.addDate()}))},methods:{init:function(){var e=this.trafficType.filter((function(e){return"003-2"===e.key})),t=this.trafficType.filter((function(e){return"003-1"===e.key}));this.trainSeatType=e.length?e[0].DiscountDetaile:[],this.airSeatType=t.length?t[0].DiscountDetaile:[],this.trainDiscount=e.length?e[0].GradeDetaile:[],this.airDiscount=t.length?t[0].GradeDetaile:[]},addDate:function(){var e=this;this.transportationList.forEach((function(t){!t.transportation_date&&e.interDate.length&&(t.transportation_date=e.interDate[0],-1===e.disInterDate.indexOf(t.transportation_date)&&e.disInterDate.push(t.transportation_date))}))},selectDateTap:function(){var e=this;this.disInterDate=[],this.transportationList.forEach((function(t){t.transportation_date&&e.disInterDate.push(t.transportation_date)}))},getDisTap:function(e){return-1!==this.disInterDate.indexOf(e)},selectTraffic:function(e,t,a){this.airSeatType=[],this.trainSeatType=[],this.trainDiscount=[],this.airDiscount=[],console.log(this.trafficType);var i=this.trafficType.filter((function(t){return t.key===e}));this.transportationList[t].transportation[a].special_price="",this.transportationList[t].transportation[a].seat_classes="",this.transportationList[t].transportation[a].discountList=i[0].GradeDetaile,this.transportationList[t].transportation[a].seatList=i[0].DiscountDetaile,this.discountList=i[0].GradeDetaile,this.seatList=i[0].DiscountDetaile},addOtherTraffic:function(e){var t={id:"",origin_city:"",destination_city:"",trans_type:"",passenger_count:"",arrive_time:"",seat_classes:"",special_price:"",requirement:"",trip_type:0,group_transportation:"",is_delete:0},a=this.transportationList[e].transportation.length;this.transportationList[e].transportation.splice(a,0,t)},addBack:function(e,t){var a=JSON.parse(JSON.stringify(this.transportationList[e].transportation[t]));a.id&&(a.id="");var i=Object(n["a"])({},a);i.origin_city=a.destination_city,i.destination_city=a.origin_city,i.trip_type=1;var s=this.interDate.indexOf(this.eventEndTime),r=this.interDate.indexOf(this.transportationList[e].transportation_date);if(s>=r)if(this.isHasLast()){var o=this.interDate[this.interDate.length-3],l=this.transportationList.map((function(e){return e.transportation_date===o})),c=l.indexOf(!0),_=this.transportationList[c].transportation.length;this.transportationList[c].transportation.splice(_,0,i)}else{var d={transportation_date:this.interDate[this.interDate.length-3],transportation:[i]},u=this.transportationList.length;this.transportationList.splice(u,0,d)}else this.transportationList[e].transportation.splice(t+1,0,i)},isHasLast:function(){var e=this.interDate[this.interDate.length-3];return this.transportationList.filter((function(t){return t.transportation_date===e})).length},deleteIntercity:function(e,t){var a=this.transportationList[e].transportation.length,i=this.transportationList.length;1===i?1===a?this.is_intercity_transportation="0":this.transportationList[e].transportation.splice(t,1):1===a?this.transportationList.splice(e,1):this.transportationList[e].transportation.splice(t,1),this.selectDateTap()},addOther:function(){var e=this,t=this.interDate.filter((function(t){return-1===e.disInterDate.indexOf(t)})),a={event_info_id:"",transportation_date:t.length?t[0]:"",transportation:[{id:"",origin_city:"",destination_city:"",trans_type:"",passenger_count:"",arrive_time:"",seat_classes:"",special_price:"",requirement:"",trip_type:0,group_transportation:"",is_delete:0}]},i=this.transportationList.length;"0"===this.is_intercity_transportation?this.is_intercity_transportation="1":this.transportationList.splice(i,0,a),this.selectDateTap()},formatNum:function(){var e=this.intercity_transportation_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.intercity_transportation_budget=e}}},l=o,c=a("2877"),_=Object(c["a"])(l,i,s,!1,null,"14a078ed",null);t["a"]=_.exports}}]);