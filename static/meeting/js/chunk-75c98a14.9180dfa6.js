(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75c98a14"],{"0e5c":function(e,t,i){"use strict";i("d3b7");var o=i("5829"),n=i("2b0e");t["a"]=function(e){return new Promise((function(t,i){var r=[],a={},s=e.length;console.log(e.length,e);var c=function i(){return 0==e.length?t(r):String(e[0].file).IsPicture()?(e.shift(),i()):void o["a"].upload({file:e[0].file},"POST",{type:"form"}).then((function(o){console.log(o);var c=!0;if(void 0!=o&&""==o.FilePath&&""==o.OriginalFileName&&(console.log("重复了"),o=void 0,c=!1),void 0==o&&c){n["default"].prototype.$alert("网络不稳定, 文件上传失败, 请重新上传","提示",{confirmButtonText:"确定",callback:function(e){n["default"].prototype.$message({message:"上传失败的文件已标记",type:"warning"})}});var l=s-e.length;return t({tag:l,uploadImageList:r})}a=o,r.push(a),e.shift(),i()}))};c()}))}},"1da1":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("d3b7");function o(e,t,i,o,n,r,a){try{var s=e[r](a),c=s.value}catch(l){return void i(l)}s.done?t(c):Promise.resolve(c).then(o,n)}function n(e){return function(){var t=this,i=arguments;return new Promise((function(n,r){var a=e.apply(t,i);function s(e){o(a,n,r,s,c,"next",e)}function c(e){o(a,n,r,s,c,"throw",e)}s(void 0)}))}}},2654:function(e,t,i){"use strict";i.d(t,"j",(function(){return n})),i.d(t,"k",(function(){return r})),i.d(t,"i",(function(){return a})),i.d(t,"h",(function(){return s})),i.d(t,"l",(function(){return c})),i.d(t,"e",(function(){return l})),i.d(t,"f",(function(){return f})),i.d(t,"b",(function(){return d})),i.d(t,"g",(function(){return u})),i.d(t,"a",(function(){return _})),i.d(t,"c",(function(){return p})),i.d(t,"d",(function(){return h}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}i("ac1f"),i("00b4"),i("d9e2"),i("a9e3"),i("159b");function n(e,t,i){var o=/^((0\d{2,3}-\d{7,8})|(1[34578]\d{9}))$/;""==t||void 0==t||null==t||o.test(t)||""==t?i():i(new Error("请输入正确的电话号码或者固话号码"))}function r(e,t,i){var o=/0\d{2}-\d{7,8}/;""==t||void 0==t||null==t||o.test(t)||""==t?i():i(new Error("请输入正确的固话（格式：区号+号码,如010-1234567）"))}function a(e,t,i){var o=/^[1][3,4,5,7,8][0-9]{9}$/;""==t||void 0==t||null==t||o.test(t)||""==t?i():i(new Error("请输入正确的电话号码"))}function s(e,t,i){var o=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;""==t||void 0==t||null==t||o.test(t)?i():i(new Error("请输入正确的邮箱地址"))}function c(e,t,i){var o=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;""==t||void 0==t||null==t||o.test(t)?i():i(new Error("请输入正确的URL"))}function l(e,t,i){if(!t)return i(new Error("输入不可以为空"));setTimeout((function(){if(Number(t)){var e=/^[0-9]*[1-9][0-9]*$/,o=e.test(t);o?i():i(new Error("请输入正整数"))}else i(new Error("请输入正整数"))}),0)}function f(e,t,i){t||i(),setTimeout((function(){if(Number(t)){var e=/^[0-9]*[1-9][0-9]*$/,o=e.test(t);o?i():i(new Error("请输入正整数"))}else i(new Error("请输入正整数"))}),1e3)}function d(e,t){var i={},n=[];if(e=Array.isArray(e)?e:[],t)for(var r=0;r<e.length;r++)if(i[e[r].date]){for(var a=0;a<n.length;a++)if(e[r].date===n[a].date){n[a].settlement+=Number("object"==o(e[r].settlement_total_price)?e[r].settlement_total_price.value:e[r].settlement_total_price),n[a].orgSettlement+=Number("object"==o(e[r].total_price)?e[r].total_price.value:e[r].total_price),n[a].data.push(e[r]);break}}else n.push({date:e[r].date,settlement:Number("object"==o(e[r].settlement_total_price)?e[r].settlement_total_price.value:e[r].settlement_total_price),orgSettlement:Number("object"==o(e[r].total_price)?e[r].total_price.value:e[r].total_price),data:[e[r]]}),i[e[r].date]=e[r];else for(var s=0;s<e.length;s++)if(i[e[s].date]){for(var c=0;c<n.length;c++)if(e[s].date===n[c].date){n[c].settlement+="object"==o(e[s].settlement_price)?e[s].settlement_price.value:e[s].settlement_price,n[c].orgSettlement+="object"==o(e[s].price)?e[s].price.value:e[s].price,n[c].data.push(e[s]);break}}else n.push({date:e[s].date,settlement:"object"==o(e[s].settlement_price)?e[s].settlement_price.value:e[s].settlement_price,orgSettlement:"object"==o(e[s].price)?e[s].price.value:e[s].price,data:[e[s]]}),i[e[s].date]=e[s];return n}function u(e){var t={},i=[];e=Array.isArray(e)?e:[];for(var o=0;o<e.length;o++)if(t[e[o].checkindate]){for(var n=0;n<i.length;n++)if(e[o].checkindate===i[n].checkindate){"大床房"==e[o].roomtype?(i[n].bigBedNum=e[o].roomcount,i[n].totalNum+=e[o].roomcount):"双床房"==e[o].roomtype?(i[n].doubleBedNum=e[o].roomcount,i[n].totalNum+=e[o].roomcount):(i[n].suiteNum=e[o].roomcount,i[n].totalNum+=e[o].roomcount);break}}else e[o].bigBedNum=0,e[o].doubleBedNum=0,e[o].suiteNum=0,e[o].totalNum=0,"大床房"==e[o].roomtype?(e[o].bigBedNum=e[o].roomcount,e[o].totalNum+=e[o].roomcount):"双床房"==e[o].roomtype?(e[o].doubleBedNum=e[o].roomcount,e[o].totalNum+=e[o].roomcount):(e[o].suiteNum=e[o].roomcount,e[o].totalNum+=e[o].roomcount),i.push(e[o]),t[e[o].checkindate]=e[o];return i}function _(e){for(var t={},i=[],o=0;o<e.length;o++){var n=(e[o].build?e[o].build.price:0)+(e[o].rentalCosts?e[o].rentalCosts.price:0);if(e[o].equipment&&e[o].equipment.forEach((function(e){n+=e.price||0})),t[e[o].rentalCosts.time])for(var r=function(t){if(e[o].rentalCosts.time===i[t].time)return i[t].totalPrice+=(e[o].build?e[o].build.price:0)+(e[o].rentalCosts?e[o].rentalCosts.price:0),e[o].equipment&&e[o].equipment.forEach((function(e){i[t].totalPrice+=e.price||0})),i[t].data.push(e[o]),"break"},a=0;a<i.length;a++){var s=r(a);if("break"===s)break}else i.push({time:e[o].rentalCosts.time,totalPrice:n,data:[e[o]]}),t[e[o].rentalCosts.time]=e[o]}return i}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time",i={},o=[];e=e||[];for(var n=0;n<e.length;n++)if(i[e[n][t]]){for(var r=0;r<o.length;r++)if(e[n][t]===o[r].time){o[r].data.push(e[n]),o[r].car.push(e[n]);break}}else o.push({time:e[n][t],car_date:e[n][t].substring(0,10),breakfast:e[n].breakfast,networks:e[n].networks,describe:e[n].describe,otherrequirements:e[n].otherrequirements,type:e[n].type,room_budget:e[n].room_budget,purpose:e[n].purpose,offer_remarks:e[n].offer_remarks,comments:e[n].comments,data:[e[n]],car:[e[n]]}),i[e[n][t]]=e[n];return o}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time",i={},o=[];e=e||[];for(var n=0;n<e.length;n++)o.push({time:e[n][t],car_date:e[n][t].substring(0,10),breakfast:e[n].breakfast,networks:e[n].networks,describe:e[n].describe,otherrequirements:e[n].otherrequirements,type:e[n].type,room_budget:e[n].room_budget,purpose:e[n].purpose,offer_remarks:e[n].offer_remarks,comments:e[n].comments,data:[e[n]],car:[e[n]]}),i[e[n][t]]=e[n];return o}},"33e0":function(e,t,i){},"6d49":function(e,t,i){"use strict";i.r(t);var o,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"quotedprice"},[i("div",{staticClass:"path"},[i("ul",[i("li",{staticStyle:{color:"#409eff",cursor:"pointer"},on:{click:function(t){return e.$router.replace({path:"/activityInquiry/orderList"})}}},[e._v(" 活动询价订单列表 ")]),i("li",{staticStyle:{color:"#7c7f82"}},[e._v(">")]),i("li",{staticStyle:{color:"#409eff",cursor:"pointer"},on:{click:function(t){return e.$router.replace({path:"/activityInquiry/DMCorderList/"+e.info.inquiry_sheet_object_id})}}},[e._v(" 活动询价订单详情 ")]),i("li",{staticStyle:{color:"#7c7f82"}},[e._v(">")]),i("li",{staticStyle:{color:"#7c7f82"}},[e._v("活动询价订单报价")])])]),e.info?i("div",{staticClass:"content"},[i("p",{staticStyle:{"margin-bottom":"15px","font-size":"16px","font-family":"PingFang SC-特粗, PingFang SC","font-weight":"600",color:"#000000","padding-left":"5px","border-left":"4px solid rgb(24, 135, 255)"}},[e._v(" RFP信息 ")]),i("div",{staticClass:"info"},[i("div",{staticClass:"line"},[i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("询价单号")]),i("div",{staticClass:"context"},[e._v(e._s(e.info.inquiry_sheet_code))])]),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("报名截至日期")]),i("div",{staticClass:"context"},[e._v(e._s(e._f("date_ex")(e.info.offerenddate)))])])]),i("div",{staticClass:"line"},[i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("活动名称")]),i("div",{staticClass:"context"},[e._v(e._s(e.info.activity_name))])]),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("城市")]),i("div",{staticClass:"context"},[e._v(e._s(e.info.event_city))])])]),i("div",{staticClass:"line"},[i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("最多活动人数")]),i("div",{staticClass:"context"},[e._v(e._s(e.info.activity_count))])]),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("活动日期")]),i("div",{staticClass:"context"},[e._v(" "+e._s(e._f("date_day")(e.info.activity_startdate))+" 至 "+e._s(e._f("date_day")(e.info.activity_enddate))+" "+e._s(1==e.info.isadjustdate?"[会议日期可以调整]":"[会议日期不可调整]")+" ")])])]),i("div",{staticClass:"line"},[i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("公司名称")]),i("div",{staticClass:"context"},[e._v(e._s(e.info.company_name))])]),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("联系人")]),i("div",{staticClass:"context"},[e._v(e._s(e.info.contacts))])])]),i("div",{staticClass:"line"},[i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("联系邮箱")]),i("div",{staticClass:"context"},[e._v(e._s(e.info.mailbox))])]),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("联系电话")]),i("div",{staticClass:"context"},[e._v(" "+e._s(e.info.customer_service_telephone_numbers)+" ")])])])]),i("p",{staticStyle:{"margin-bottom":"15px","margin-top":"15px","font-size":"16px","font-family":"PingFang SC-特粗, PingFang SC","font-weight":"600",color:"#000000","padding-left":"5px","border-left":"4px solid rgb(24, 135, 255)"}},[e._v(" 您的信息 ")]),i("div",{staticClass:"info"},[i("div",{staticClass:"line"},[i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("供应商")]),i("div",{staticClass:"context"},[e._v(e._s(e.info.hotelname))])]),i("div",{staticClass:"item"},[e._m(0),i("div",{staticClass:"context contextSel"},[i("el-select",{attrs:{size:"small",disabled:e.readonly,placeholder:"请选择"},on:{change:e.changeSel},model:{value:e.contractsId,callback:function(t){e.contractsId=t},expression:"contractsId"}},e._l(e.info.contactslist,(function(e){return i("el-option",{key:e.id,attrs:{label:e.contacts,value:e.id}})})),1),i("el-input",{attrs:{size:"small",disabled:e.disabled||e.readonly,placeholder:"请输入您的姓名"},model:{value:e.info.biddername,callback:function(t){e.$set(e.info,"biddername",t)},expression:"info.biddername"}})],1)])]),i("div",{staticClass:"line"},[i("div",{staticClass:"item"},[e._m(1),i("div",{staticClass:"context"},[i("el-input",{attrs:{size:"small",disabled:e.disabled||e.readonly,placeholder:"请输入您的联系电话"},model:{value:e.info.biddertel,callback:function(t){e.$set(e.info,"biddertel",t)},expression:"info.biddertel"}})],1)]),i("div",{staticClass:"item"},[e._m(2),i("div",{staticClass:"context"},[i("el-input",{attrs:{size:"small",disabled:e.disabled||e.readonly,placeholder:"请输入您的联系邮箱"},model:{value:e.info.bidderemail,callback:function(t){e.$set(e.info,"bidderemail",t)},expression:"info.bidderemail"}})],1)])])]),e._m(3),i("div",{staticClass:"excel"},[i("p",{staticStyle:{"font-size":"16px","font-family":"PingFang SC-特粗, PingFang SC","font-weight":"600",color:"#000000","padding-left":"5px","border-left":"4px solid rgb(24, 135, 255)"}},[e._v(" 采购需求报价 ")]),0==this.$route.params.isSubmit?i("a",{staticStyle:{cursor:"pointer"},attrs:{download:""},on:{click:e.excelexport}},[e._v("下载excel")]):e._e()]),e.hotelVisible?i("div",{staticClass:"title_item"},[e._v("采购酒店")]):e._e(),e.hotelVisible?i("div",{staticClass:"section",staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",{staticStyle:{width:"50%"}},[i("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入采购酒店",size:"small",readonly:e.readonly},model:{value:e.info.hotel_name,callback:function(t){e.$set(e.info,"hotel_name",t)},expression:"info.hotel_name"}}),i("el-checkbox",{staticStyle:{"line-height":"30px","margin-left":"20px"},attrs:{"true-label":1,"false-label":0},model:{value:e.info.isuser_preferred_hotel,callback:function(t){e.$set(e.info,"isuser_preferred_hotel",t)},expression:"info.isuser_preferred_hotel"}},[e._v("是否使用首选酒店")])],1),1==e.info.event_info_configure.bjqrisdisplay&&0==this.$route.params.isSubmit?i("span",{staticStyle:{color:"rgb(22, 155, 213)","line-height":"30px",cursor:"pointer"},on:{click:e.downloadOfferConfirm}},[e._v(" 下载报价确认单 ")]):e._e()]):e._e(),e.roomVisible?i("div",{staticClass:"title_item title_item_sel"},[i("div",[e._v("客房需求")]),i("div",[e._v(" 房标："+e._s(e.info.night_budget)+" /夜/间 "),i("span",{staticStyle:{margin:"0px 10px"}},[i("span",[e._v(" "+e._s(e.info.is_breakfast?"需要含早餐":"不需要含早餐")+" ")]),i("span",[e._v(" "+e._s(e.info.is_networks?"需要宽带":"不需要宽带")+" ")])]),i("el-checkbox",{attrs:{disabled:"","true-label":1,"false-label":0},model:{value:e.info.event_info_configure.room_inquiry_isnotservice,callback:function(t){e.$set(e.info.event_info_configure,"room_inquiry_isnotservice",t)},expression:"info.event_info_configure.room_inquiry_isnotservice"}},[e._v("计入服务费")])],1)]):e._e(),e.roomVisible?i("div",{staticClass:"section"},[e._l(e.info.quoted_price_room,(function(t,o){return i("table",{key:"kefang"+o,style:o>0?"margin-top: 15px":""},[t.room_list&&t.room_list.length>0?i("thead",[i("tr",{staticClass:"color_1"},[i("th",{staticClass:"topleft datecolor",attrs:{colspan:"4"}},[e._v(" 日期: "+e._s(e._f("date_day_ex")(t.date))+" "),0!=o&&1==e.$route.params.isSubmit?i("el-button",{staticClass:"copy",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.copyRoomDay(o)}}},[e._v("复制上一天")]):e._e()],1),i("th",{staticClass:"topleft"},[e._v(" 一天总金额 ￥"+e._s(e.dayMoney(t.room_list).toFixed(2))+" ")])]),e._m(4,!0)]):e._e(),i("tbody",[e._l(t.room_list,(function(o,n){return i("tr",{key:"c_"+n},[i("td",[null!=o.inquiry_sheet_room_id?[e._v(" "+e._s(o.roomtypename)+" ")]:i("el-select",{attrs:{size:"small",filterable:""},on:{change:function(t){return e.changeCostProject(t,o)}},model:{value:o.roomtype,callback:function(t){e.$set(o,"roomtype",t)},expression:"item_c.roomtype"}},e._l(e.roomcostProjects,(function(e){return i("el-option",{directives:[{name:"show",rawName:"v-show",value:"0"!==e.detail_type,expression:"rc.detail_type !== '0'"}],key:e.code,attrs:{label:e.name,value:e.code}})})),1)],2),i("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(o.roomcount))]),i("td",[i("el-input",{class:{difference:e.roomProvideCountDifference(o),aaa:e.aaa},attrs:{readonly:e.readonly},on:{input:function(t){o.provide_count=e.formatNum(o.provide_count,3)}},model:{value:o.provide_count,callback:function(t){e.$set(o,"provide_count",t)},expression:"item_c.provide_count"}})],1),i("td",[i("el-input",{class:{difference:e.roomDifference(o),aaa:e.aaa},attrs:{readonly:e.readonly},on:{input:function(t){o.unitprice=e.formatNum(o.unitprice,2)}},model:{value:o.unitprice,callback:function(t){e.$set(o,"unitprice",t)},expression:"item_c.unitprice"}})],1),i("td",[i("el-input",{class:{room_line:!o.inquiry_sheet_room_id},style:o.inquiry_sheet_room_id||1!=e.$route.params.isSubmit?"":"width: 70%",attrs:{readonly:e.readonly},model:{value:o.remarks,callback:function(t){e.$set(o,"remarks",t)},expression:"item_c.remarks"}}),o.inquiry_sheet_room_id||1!=e.$route.params.isSubmit?e._e():i("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"medium",type:"danger",icon:"el-icon-delete"},on:{click:function(i){return e.delNewRoomType(t,n)}}})],1)])})),1==e.$route.params.isSubmit?i("tr",[i("td",[e._v("其他要求")]),i("td",{attrs:{colspan:"3"}},[t.room_list.length>0?[e._v(" "+e._s(t.room_list[0].otherrequirements)+" ")]:e._e()],2),i("td",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return e.addNewRoomType(t.room_list)}}},[e._v("添加新房型")])],1)]):e._e()],2)])})),i("div",{staticClass:"combined"},[i("div",{staticStyle:{width:"70%","margin-left":"20px"}},[e._v(" 客房报价总备注： "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.room_remarks,expression:"info.room_remarks"}],staticStyle:{height:"30px",width:"285px",border:"1px solid #ccc"},attrs:{type:"text",placeholder:" 请备注您的客房优势",readonly:e.readonly},domProps:{value:e.info.room_remarks},on:{input:function(t){t.target.composing||e.$set(e.info,"room_remarks",t.target.value)}}})]),i("div",[e._v(" 客房报价总价: "),i("span",{staticStyle:{"font-size":"18px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#eb5851"}},[e._v("￥"+e._s(e.positiveFloat(e.allMoney).toFixed(2)))])])])],2):e._e(),e.conferenceVisible?i("div",{staticClass:"title_item title_item_sel"},[i("div",[e._v("会场需求")]),i("div",{},[i("el-checkbox",{attrs:{disabled:"","true-label":1,"false-label":0},model:{value:e.info.event_info_configure.conference_inquiry_isnotservice,callback:function(t){e.$set(e.info.event_info_configure,"conference_inquiry_isnotservice",t)},expression:"info.event_info_configure.conference_inquiry_isnotservice"}},[e._v("计入服务费")])],1)]):e._e(),e.conferenceVisible?i("div",{staticClass:"section"},[e._l(e.info.quoted_price_conference,(function(t,o){return i("table",{key:o,style:o>0?"margin-top: 15px":""},[i("thead",[i("tr",{staticClass:"color_1"},[i("th",{staticClass:"topleft datecolor",attrs:{colspan:"3"}},[e._v(" 日期: "+e._s(e._f("date_day_ex")(t.date))+" ")]),i("th",{staticClass:"topleft",attrs:{colspan:"2"}},[e._v(" 一天总金额 ￥"+e._s(e.meetingDayMoney(t.conference_list).toFixed(2))+" ")])]),e._m(5,!0)]),i("tbody",e._l(t.conference_list,(function(o,n){return i("tr",{key:"c_"+n},[i("td",[1==o.type?[e._v(" "+e._s("场租-会场"+o.order_name+" ("+o.roomsetuptypename+")")+" ")]:e._e(),2==o.type?[e._v(" "+e._s("会场搭建费-"+o.related_information+" ("+o.roomsetuptypename+")")+" ")]:e._e(),3==o.type?[e._v(" "+e._s("设备-会场"+o.order_name+" ("+o.roomsetuptypename+")")+" ")]:e._e(),4==o.type?[i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.conferenceTypeChange(o)}},model:{value:o.quoted_code,callback:function(t){e.$set(o,"quoted_code",t)},expression:"item_c.quoted_code"}},e._l(e.addConferenceSelects,(function(e){return i("el-option",{directives:[{name:"show",rawName:"v-show",value:"0"!==e.detail_type,expression:"option.detail_type !== '0'"}],key:e.code,attrs:{label:e.name,value:e.code}})})),1)]:e._e()],2),i("td",[1==o.type?[i("p",[e._v("会议时间:"+e._s(o.starttime)+"~"+e._s(o.endtime))]),i("p",[e._v("出席人数: "+e._s(o.attendees)+"人")]),i("p",[e._v("会场台型: "+e._s(o.roomsetuptypename))]),i("p",[e._v(" 会场面积范围:"+e._s(o.min_area)+"~"+e._s(o.max_area)+" sqm ")])]:e._e(),2==o.type?[i("p",[e._v(" "+e._s(e._f("date_day")(t.date))+" "+e._s(o.starttime)+"~"+e._s(e._f("date_day")(o.advance_date))+" "+e._s(o.endtime)+" "),i("br"),e._v(" "+e._s(o.related_information)+" ")])]:e._e(),3==o.type?[i("p",[e._v(e._s(o.equipment))])]:e._e(),4==o.type?[i("div",[e._v(" 数量： "),i("el-input-number",{staticStyle:{width:"50%"},attrs:{controls:!1,precision:0,placeholder:"请输入数量",readonly:e.readonly},model:{value:o.count,callback:function(t){e.$set(o,"count",e._n(t))},expression:"item_c.count"}})],1)]:e._e()],2),i("td",[1==o.type?[e._v(" "+e._s(o.describe)+" ")]:e._e(),2==o.type?[e._v(" "+e._s(o.describe)+" ")]:e._e(),3==o.type?[e._v(" "+e._s(o.microphonedescribe)+" ")]:e._e(),4==o.type?[i("div",[e._v(" 单价： ￥ "),i("el-input",{staticStyle:{width:"60%"},attrs:{readonly:e.readonly},on:{input:function(t){o.price=e.formatNum(o.price,2)}},model:{value:o.price,callback:function(t){e.$set(o,"price",t)},expression:"item_c.price"}})],1)]:e._e()],2),i("td",{staticStyle:{width:"150px"}},[4==o.type?[e._v(" ￥ "+e._s(e.positiveFloat(o.price*o.count).toFixed(2))+" ")]:[i("el-input",{class:{difference:e.conferenceDifference(o)},attrs:{readonly:e.readonly},on:{input:function(t){o.price=e.formatNum(o.price,2)}},model:{value:o.price,callback:function(t){e.$set(o,"price",t)},expression:"item_c.price"}})]],2),i("td",[i("el-input",{style:4==o.type?"width: 70%":"",attrs:{readonly:e.readonly},model:{value:o.comments,callback:function(t){e.$set(o,"comments",t)},expression:"item_c.comments"}}),1==o.type?i("p",{staticStyle:{"margin-top":"10px","margin-left":"2px",color:"#409eff",cursor:"pointer"},on:{click:function(i){return e.addConferenceOther(t,o,n)}}},[e._v(" 添加其他费用 ")]):e._e(),4==o.type?i("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"medium",type:"danger",icon:"el-icon-delete"},on:{click:function(i){return e.delConferenceOther(t,o,n)}}}):e._e()],1)])})),0)])})),i("div",{staticClass:"combined"},[i("div",{staticStyle:{width:"70%","margin-left":"20px"}},[e._v(" 会议报价总备注： "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.conference_remarks,expression:"info.conference_remarks"}],staticStyle:{height:"30px",width:"285px",border:"1px solid #ccc"},attrs:{type:"text",placeholder:" 您可以填写详细的报价备注",readonly:e.readonly},domProps:{value:e.info.conference_remarks},on:{input:function(t){t.target.composing||e.$set(e.info,"conference_remarks",t.target.value)}}})]),i("div",[e._v(" 会场报价总计: "),i("span",{staticStyle:{"font-size":"18px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#eb5851"}},[e._v("￥"+e._s(e.positiveFloat(e.meetingAllMoney).toFixed(2)))])])])],2):e._e(),e.foodVisible?i("div",{staticClass:"title_item title_item_sel"},[i("div",[e._v("酒店内餐饮需求")]),i("div",[e._v("餐标:￥"+e._s(e.positiveFloat(e.info.food_limit)))]),i("div",{},[i("el-checkbox",{attrs:{disabled:"","true-label":1,"false-label":0},model:{value:e.info.event_info_configure.hotel_food_inquiry_isnotservice,callback:function(t){e.$set(e.info.event_info_configure,"hotel_food_inquiry_isnotservice",t)},expression:"info.event_info_configure.hotel_food_inquiry_isnotservice"}},[e._v("计入服务费")])],1)]):e._e(),e.foodVisible?i("div",{staticClass:"section"},[e._l(e.info.quoted_price_food,(function(t,o){return i("table",{key:o,style:o>0?"margin-top: 15px":""},[i("thead",[i("tr",{staticClass:"color_1"},[i("th",{staticClass:"topleft datecolor",attrs:{colspan:"3"}},[e._v(" 日期: "+e._s(e._f("date_day_ex")(t.date))+" ")]),i("th",{staticClass:"topleft titleStyle",attrs:{colspan:"1"}},[e._v(" 一天总金额￥"+e._s(e.repastDayMoney(t.food_list).toFixed(2))+" ")])]),e._m(6,!0)]),i("tbody",[e._l(t.food_list,(function(t,o){return i("tr",{key:"c_"+o},[i("td",[e._v(" "+e._s(t.foodtypename)+" "),t.usetypename?i("span",[e._v("["+e._s(t.usetypename)+"]")]):e._e()]),i("td",{staticStyle:{"text-align":"right"}},[e._v(" "+e._s(t.personcount)+" ")]),i("td",[i("el-input",{class:{difference:e.foodDifference(t),aaa:e.aaa},attrs:{type:"text",readonly:e.readonly},on:{input:function(i){t.price=e.formatNum(t.price,2)}},model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"item_c.price"}})],1),i("td",[1==t.addresstype?i("el-input",{attrs:{readonly:e.readonly,placeholder:"请注明餐厅名称或其他备注"},model:{value:t.offer_remarks,callback:function(i){e.$set(t,"offer_remarks",i)},expression:"item_c.offer_remarks"}}):i("el-input",{attrs:{placeholder:"请填写针对这个项目的特殊备注",readonly:e.readonly},model:{value:t.offer_remarks,callback:function(i){e.$set(t,"offer_remarks",i)},expression:"item_c.offer_remarks"}})],1)])})),i("tr",[i("td",{attrs:{colspan:"4"}},[e._v(" 客户特殊要求: "+e._s(t.food_list[0].comments)+" ")])])],2)])})),i("div",{staticClass:"combined"},[i("div",{staticStyle:{width:"70%","margin-left":"20px"}},[e._v(" 酒店内餐饮报价总备注: "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.food_remarks,expression:"info.food_remarks"}],staticStyle:{height:"30px",width:"285px",border:"1px solid #ccc"},attrs:{type:"text",placeholder:" 您可以填写详细的报价备注",readonly:e.readonly},domProps:{value:e.info.food_remarks},on:{input:function(t){t.target.composing||e.$set(e.info,"food_remarks",t.target.value)}}})]),i("div",[e._v(" 酒店内餐饮报价总计: "),i("span",{staticStyle:{"font-size":"18px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#eb5851"}},[e._v("￥"+e._s(e.positiveFloat(e.repastAllMoney).toFixed(2)))])])])],2):e._e(),e.foodOutsideVisible?i("div",{staticClass:"title_item title_item_sel"},[i("div",[e._v("酒店外餐饮需求")]),i("div",[e._v("餐标:￥"+e._s(e.positiveFloat(e.info.food_limit)))]),i("div",{},[i("el-checkbox",{attrs:{disabled:"","true-label":1,"false-label":0},model:{value:e.info.event_info_configure.others_food_inquiry_isnotservice,callback:function(t){e.$set(e.info.event_info_configure,"others_food_inquiry_isnotservice",t)},expression:"info.event_info_configure.others_food_inquiry_isnotservice"}},[e._v("计入服务费")])],1)]):e._e(),e.foodOutsideVisible?i("div",{staticClass:"section"},[e._l(e.info.quoted_price_outside_food,(function(t,o){return i("table",{key:o,style:o>0?"margin-top: 15px":""},[i("thead",[i("tr",{staticClass:"color_1"},[i("th",{staticClass:"topleft datecolor",attrs:{colspan:"4"}},[e._v(" 日期: "+e._s(e._f("date_day_ex")(t.date))+" ")]),i("th",{staticClass:"topleft titleStyle",attrs:{colspan:"1"}},[e._v(" 一天总金额 ￥"+e._s(e.otherFoodDayMoney(t.food_list).toFixed(2))+" ")])]),e._m(7,!0)]),i("tbody",e._l(t.food_list,(function(t,o){return i("tr",{key:"c_"+o},[i("td",[e._v(" "+e._s(t.foodtypename)+" "),t.usetypename?i("span",[e._v("["+e._s(t.usetypename)+"]")]):e._e()]),i("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.personcount))]),i("td",[e._v(e._s(t.comments))]),i("td",[i("el-input",{class:{difference:e.othersFoodDifference(t),aaa:e.aaa},attrs:{type:"text",readonly:e.readonly},on:{input:function(i){t.price=e.formatNum(t.price,2)}},model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"item_c.price"}})],1),i("td",[1==t.addresstype?i("el-input",{attrs:{readonly:e.readonly,placeholder:"请注明餐厅名称或其他备注"},model:{value:t.offer_remarks,callback:function(i){e.$set(t,"offer_remarks",i)},expression:"item_c.offer_remarks"}}):i("el-input",{attrs:{placeholder:"请填写针对这个项目的特殊备注",readonly:e.readonly},model:{value:t.offer_remarks,callback:function(i){e.$set(t,"offer_remarks",i)},expression:"item_c.offer_remarks"}})],1)])})),0)])})),i("div",{staticClass:"combined"},[i("div",{staticStyle:{width:"70%","margin-left":"20px"}},[e._v(" 酒店外餐饮报价总备注: "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.food_qutside_remarks,expression:"info.food_qutside_remarks"}],staticStyle:{height:"30px",width:"285px",border:"1px solid #ccc"},attrs:{type:"text",placeholder:" 您可以填写详细的报价备注",readonly:e.readonly},domProps:{value:e.info.food_qutside_remarks},on:{input:function(t){t.target.composing||e.$set(e.info,"food_qutside_remarks",t.target.value)}}})]),i("div",[e._v(" 酒店外餐饮报价总计: "),i("span",{staticStyle:{"font-size":"18px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#eb5851"}},[e._v("￥"+e._s(e.positiveFloat(e.otherFoodAllMoney).toFixed(2)))])])])],2):e._e(),e.transportationVisible?i("div",{staticClass:"title_item title_item_sel"},[i("div",[e._v("大交通需求")]),i("div",[i("el-checkbox",{attrs:{disabled:"","true-label":1,"false-label":0},model:{value:e.info.event_info_configure.transportation_inquiry_isnotservice,callback:function(t){e.$set(e.info.event_info_configure,"transportation_inquiry_isnotservice",t)},expression:"\n              info.event_info_configure.transportation_inquiry_isnotservice\n            "}},[e._v("计入服务费")])],1)]):e._e(),e.transportationVisible?i("div",{staticClass:"section"},[e._l(e.info.quoted_price_transportation,(function(t,o){return i("table",{key:o,style:o>0?"margin-top: 15px":""},[i("thead",[i("tr",{staticClass:"color_1"},[i("th",{staticClass:"topleft datecolor",attrs:{colspan:"9"}},[e._v(" 日期: "+e._s(e._f("date_day_ex")(t.date))+" ")]),i("th",{staticClass:"topleft titleStyle",attrs:{colspan:"2"}},[e._v(" 一天总金额 ￥"+e._s(e.IntercityTransportationDayMoney(t.transportation_list).toFixed(2))+" ")])]),e._m(8,!0)]),i("tbody",e._l(t.transportation_list,(function(t,o){return i("tr",{key:"c_"+o},[i("td",[e._v(e._s(t.origincity)+" - "+e._s(t.destinationcity))]),i("td",[e._v(e._s(t.transtypename))]),i("td",[e._v(e._s(t.seatclassesname))]),i("td",[e._v(e._s(t.specialpricename))]),i("td",[e._v(e._s(t.passengercount))]),i("td",[e._v(e._s(t.arrivetime))]),i("td",[i("el-input",{class:{difference:e.transportationDifference(t),aaa:e.aaa},attrs:{readonly:e.readonly},on:{input:function(i){t.unitprice=e.formatNum(t.unitprice,2)}},model:{value:t.unitprice,callback:function(i){e.$set(t,"unitprice",i)},expression:"item_c.unitprice"}})],1),i("td",{staticStyle:{"text-align":"right"}},[e._v(" ￥"+e._s(e.positiveFloat(e.positiveInteger(t.passengercount)*e.positiveFloatSix(t.unitprice)).toFixed(2))+" ")]),i("td",[e._v(e._s(t.requirement))]),i("td",[i("el-input",{attrs:{readonly:e.readonly},model:{value:t.offerremarks,callback:function(i){e.$set(t,"offerremarks",i)},expression:"item_c.offerremarks"}})],1),i("td",{staticStyle:{"text-align":"right"}},[e._v(" "+e._s(e.positiveFloat(e.positiveInteger(t.passengercount)*e.positiveFloatSix(t.unitprice)))+" ")])])})),0)])})),i("div",{staticClass:"combined"},[i("div",{staticStyle:{width:"70%","margin-left":"20px"}},[e._v(" 大交通报价总备注: "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.transportation_remarks,expression:"info.transportation_remarks"}],staticStyle:{height:"30px",width:"285px",border:"1px solid #ccc"},attrs:{placeholder:" 您可以填写详细的报价备注",readonly:e.readonly},domProps:{value:e.info.transportation_remarks},on:{input:function(t){t.target.composing||e.$set(e.info,"transportation_remarks",t.target.value)}}})]),i("div",[e._v(" 大交通报价总计: "),i("span",{staticStyle:{"font-size":"18px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#eb5851"}},[e._v("￥"+e._s(e.positiveFloat(e.IntercityTransportationAllMoney).toFixed(2)))])])])],2):e._e(),e.carVisible?i("div",{staticClass:"title_item title_item_sel"},[i("div",[e._v("地面交通")]),i("div",[i("el-checkbox",{attrs:{disabled:"","true-label":1,"false-label":0},model:{value:e.info.event_info_configure.car_inquiry_isnotservice,callback:function(t){e.$set(e.info.event_info_configure,"car_inquiry_isnotservice",t)},expression:"info.event_info_configure.car_inquiry_isnotservice"}},[e._v("计入服务费")])],1)]):e._e(),e.carVisible?i("div",{staticClass:"section"},[e._l(e.info.quoted_price_car,(function(t,o){return i("table",{key:o,style:o>0?"margin-top: 15px":""},[i("thead",[i("tr",{staticClass:"color_1"},[i("th",{staticClass:"topleft datecolor",attrs:{colspan:"5"}},[e._v(" 日期: "+e._s(e._f("date_day_ex")(t.date))+" ")]),i("th",{staticClass:"topleft titleStyle",attrs:{colspan:"1"}},[e._v(" 一天总金额 ￥"+e._s(e.CityDayMoney(t.carlist).toFixed(2))+" ")])]),e._m(9,!0)]),i("tbody",e._l(t.carlist,(function(t,o){return i("tr",{key:"c_"+o},[i("td",[e._v(e._s(t.purposename))]),i("td",[i("p",[e._v(e._s(t.vehicletypename))]),t.vehiclecount?i("p",{staticStyle:{"padding-top":"5px"}},[e._v(" 搭乘人数："+e._s(t.vehiclecount)+" ")]):e._e(),t.city?i("p",{staticStyle:{"padding-top":"5px"}},[e._v(" 用车城市： "+e._s(t.city)+" ")]):e._e()]),i("td",[e._v(e._s(t.explain))]),i("td",[e._v(e._s(t.carcount))]),i("td",[i("el-input",{class:{difference:e.carDifference(t),aaa:e.aaa},attrs:{type:"text",readonly:e.readonly},on:{input:function(i){t.price=e.formatNum(t.price,2)}},model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"item_c.price"}})],1),i("td",[i("el-input",{attrs:{readonly:e.readonly},model:{value:t.offer_remarks,callback:function(i){e.$set(t,"offer_remarks",i)},expression:"item_c.offer_remarks"}})],1)])})),0)])})),i("div",{staticClass:"combined"},[i("div",{staticStyle:{width:"70%","margin-left":"20px"}},[e._v(" 地面交通报价总备注: "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.car_remarks,expression:"info.car_remarks"}],staticStyle:{height:"30px",width:"285px",border:"1px solid #ccc"},attrs:{type:"text",placeholder:" 您可以填写详细的报价备注",readonly:e.readonly},domProps:{value:e.info.car_remarks},on:{input:function(t){t.target.composing||e.$set(e.info,"car_remarks",t.target.value)}}})]),i("div",[e._v(" 地面交通报价总计: "),i("span",{staticStyle:{"font-size":"18px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#eb5851"}},[e._v("￥"+e._s(e.positiveFloat(e.CityAllMoney).toFixed(2)))])])])],2):e._e(),e.otherVisible?i("div",{staticClass:"title_item title_item_sel"},[i("div",[e._v("其他服务")])]):e._e(),e.otherVisible?i("div",{staticClass:"section"},[i("table",[e._m(10),i("tbody",[e._l(e.info.quoted_price_other,(function(t,o){return i("tr",{key:"c_"+o},[i("td",[t.inquiry_sheet_other_id?i("span",[e._v(e._s(t.servicetypename))]):[i("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small"},on:{change:function(i){return e.addOtherChange(t)}},model:{value:t.other_code,callback:function(i){e.$set(t,"other_code",i)},expression:"item_c.other_code"}},e._l(e.addOtherSelects,(function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)]],2),i("td",[t.inquiry_sheet_other_id?i("span",[e._v(e._s(t.describe))]):[i("el-select",{directives:[{name:"show",rawName:"v-show",value:["009-5","009-6","009-7","009-11","009-12"].includes(t.other_code),expression:"\n                      ['009-5', '009-6', '009-7', '009-11', '009-12'].includes(\n                        item_c.other_code\n                      )\n                    "}],staticStyle:{width:"200px"},attrs:{clearable:"",size:"small"},model:{value:t.two_level_code,callback:function(i){e.$set(t,"two_level_code",i)},expression:"item_c.two_level_code"}},e._l(t.detail,(function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)]],2),i("td",[i("el-input",{staticClass:"line",class:{difference:e.otherNumDifference(t)},attrs:{disabled:null!=t.inquiry_sheet_other_id},on:{input:function(i){t.offerparticipatecount=e.formatNum(t.offerparticipatecount,1)}},model:{value:t.offerparticipatecount,callback:function(i){e.$set(t,"offerparticipatecount",i)},expression:"item_c.offerparticipatecount"}})],1),i("td",[e._v(" ￥ "),i("el-input",{class:{difference:e.otherDifference(t),aaa:e.aaa},staticStyle:{width:"90%"},attrs:{type:"text",readonly:e.readonly},on:{input:function(i){t.price=e.formatNum(t.price,2)}},model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"item_c.price"}})],1),i("td",[i("el-input",{attrs:{readonly:e.readonly},model:{value:t.offer_remarks,callback:function(i){e.$set(t,"offer_remarks",i)},expression:"item_c.offer_remarks"}})],1),i("td",[i("el-checkbox",{attrs:{disabled:"009-12"!=t.other_code,"true-label":1,"false-label":0},model:{value:t.isnotservice,callback:function(i){e.$set(t,"isnotservice",i)},expression:"item_c.isnotservice"}},[e._v("计入服务费")]),t.inquiry_sheet_other_id?e._e():i("span",{staticStyle:{"margin-left":"10px",color:"#409eff",cursor:"pointer"},on:{click:function(i){return e.delOther(t,o)}}},[e._v("删除")])],1)])})),i("tr",[i("td",{attrs:{colspan:4}},[e._v("其他需求备注：")]),i("td",{attrs:{colspan:2}},[i("span",{staticStyle:{"margin-left":"10px",color:"#409eff",cursor:"pointer"},on:{click:function(t){return e.addOther()}}},[e._v(" 添加其他服务 ")])])])],2)]),i("div",{staticClass:"combined"},[i("div",{staticStyle:{width:"70%","margin-left":"20px"}},[e._v(" 其他服务报价总备注: "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.other_remarks,expression:"info.other_remarks"}],staticStyle:{height:"30px",width:"285px",border:"1px solid #ccc"},attrs:{type:"text",placeholder:" 您可以填写详细的报价备注",readonly:e.readonly},domProps:{value:e.info.other_remarks},on:{input:function(t){t.target.composing||e.$set(e.info,"other_remarks",t.target.value)}}})]),i("div",[e._v(" 其他服务报价总计: "),i("span",{staticStyle:{"font-size":"18px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#eb5851"}},[e._v("￥"+e._s(e.otherAllMoney.toFixed(2)))])])])]):e._e(),e.hotelVisible?i("div",{staticClass:"title_item"},[e._v("服务费")]):e._e(),e.hotelVisible?i("div",{staticClass:"section"},[i("table",[e._m(11),i("tbody",[1==e.info.event_info_configure.service_fee_calculation_method?e._l(e.info.event_info_ladder_taxrates,(function(t,o){return i("tr",{key:o},[i("td",{attrs:{colspan:"2"}},[i("span",{staticStyle:{"margin-left":"10px"}},[e._v("阶梯"+e._s(o+1)+"：")]),i("el-input",{staticClass:"line",staticStyle:{width:"210px"},attrs:{readonly:0==o,disabled:!e.info.event_info_configure.servicecanedit,type:"text",size:"mini",placeholder:""},on:{input:function(i){t.ladder_min=e.formatNum(t.ladder_min)}},model:{value:t.ladder_min,callback:function(i){e.$set(t,"ladder_min",i)},expression:"item.ladder_min"}}),e._v(" - "),i("el-input",{staticClass:"line",staticStyle:{width:"210px"},attrs:{disabled:!e.info.event_info_configure.servicecanedit,type:"text",size:"mini",placeholder:""},on:{input:function(i){t.ladder_max=e.formatNum(t.ladder_max)}},model:{value:t.ladder_max,callback:function(i){e.$set(t,"ladder_max",i)},expression:"item.ladder_max"}}),e._v(" * "),i("el-input",{staticClass:"line",attrs:{size:"mini",disabled:!e.info.event_info_configure.servicecanedit},on:{input:function(i){t.ladder_taxrate=e.formatNum(t.ladder_taxrate)}},model:{value:t.ladder_taxrate,callback:function(i){e.$set(t,"ladder_taxrate",i)},expression:"item.ladder_taxrate"}}),e._v(" % (请输入阶梯金额范围和服务费比例) "),e.info.event_info_configure.service_fee_ratio&&o==e.info.event_info_ladder_taxrates.length-1?i("span",[e._v(" * "),i("el-input",{staticClass:"line",attrs:{size:"mini",readonly:e.readonly},on:{input:function(t){e.info.fzc_service=e.formatNum(e.info.fzc_service)}},model:{value:e.info.fzc_service,callback:function(t){e.$set(e.info,"fzc_service",t)},expression:"info.fzc_service"}}),e._v(" % ")],1):e._e()],1),i("td",{staticStyle:{"text-align":"right"}},[e._v(" ￥"+e._s(e.positiveFloat(e.severEveryMoneyList[o]||0).toFixed(2))+" ")])])})):e._e(),2==e.info.event_info_configure.service_fee_calculation_method?[i("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e.serviceTotalMoney)+" * "+e._s(e.grade_taxrate)+"% "),e.info.event_info_configure.service_fee_ratio?i("span",[e._v(" * "),i("el-input",{staticClass:"line",attrs:{size:"mini",readonly:e.readonly},model:{value:e.info.fzc_service,callback:function(t){e.$set(e.info,"fzc_service",t)},expression:"info.fzc_service"}}),e._v(" % ")],1):e._e()]),i("td",[1==e.info.event_info_configure.minimum_service_fee&&e.info.feizhicai_service<=e.info.event_info_configure.minimum_service_fee_money?i("span",[e._v(" ￥ "+e._s(e.positiveFloat(e.info.event_info_configure.minimum_service_fee_money))+" ")]):i("span",[e._v(e._s(e.positiveFloat(e.grade_taxrate*e.serviceTotalMoney/100*e.info.fzc_service/100)))])])]:e._e(),1==e.info.zhicai_service?i("tr",[i("td",{attrs:{colspan:"2"}},[i("div",{staticStyle:{display:"flex"}},[i("div",[i("p",{staticStyle:{"font-size":"14px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"rgba(0, 0, 0, 0.85)","margin-left":"10px"}},[e._v(" 直采服务费 ")]),e._l(e.info.event_quoted_price_zhicai_service,(function(t,o){return i("p",{key:o,staticStyle:{display:"flex","justify-content":"space-between",margin:"10px 0","line-height":"32px","margin-left":"10px"}},[i("span",{staticStyle:{"margin-right":"80px"}},[e._v(" "+e._s(t.grade_name)+" ")]),i("span",[i("span",{staticStyle:{margin:"0 30px"}},[e._v("￥ "+e._s(t.grade_price.toFixed(2))+" ")]),i("span",[e._v(" * "),i("el-input",{staticStyle:{width:"100px"},attrs:{type:"number",size:"small",readonly:e.readonly,placeholder:"请输入数量"},on:{input:function(i){t.grade_count=e.positiveFloatOne(t.grade_count)}},model:{value:t.grade_count,callback:function(i){e.$set(t,"grade_count",e._n(i))},expression:"item.grade_count"}})],1)])])}))],2)])]),i("td",{staticStyle:{"text-align":"right"}},[e._v(" ￥"+e._s(e.positiveFloat(e.baierSeversMoney).toFixed(2))+" ")])]):i("tr",[i("td",{attrs:{colspan:"2"}},[e._v(" 直采服务费 "),i("el-input",{staticClass:"line",attrs:{size:"mini",readonly:e.readonly},on:{input:function(t){e.info.advance_amount=e.formatNum(e.info.advance_amount)}},model:{value:e.info.advance_amount,callback:function(t){e.$set(e.info,"advance_amount",t)},expression:"info.advance_amount"}}),e._v("* "),i("el-input",{staticClass:"line",attrs:{size:"mini",readonly:e.readonly},on:{input:function(t){e.info.advance_proportion=e.formatNum(e.info.advance_proportion)}},model:{value:e.info.advance_proportion,callback:function(t){e.$set(e.info,"advance_proportion",t)},expression:"info.advance_proportion"}}),e._v(" % ")],1),i("td",[e._v("￥"+e._s(e.positiveFloat(e.OutsideHotelMoney).toFixed(2)))])])],2)])]):e._e(),i("div",{staticClass:"combined",staticStyle:{"margin-top":"-10px"}},[i("div",{staticStyle:{width:"70%","margin-left":"20px"}}),i("div",[e._v(" 服务费报价总计: "),i("span",{staticStyle:{"font-size":"18px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#eb5851"}},[e._v("￥"+e._s(e.vatAllMoney.toFixed(2)))])])]),i("div",{staticClass:"title_item",staticStyle:{"margin-top":"24px"}},[e._v("VAT")]),i("div",{staticClass:"section"},[i("table",[e._m(12),i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"right"}},["VAT"==e.info.taxtype?[e._v(" (￥"+e._s(e.positiveFloat(e.money))+" + ￥"+e._s(e.positiveFloat(e.serveAllMoney-(0==e.info.event_info_configure.fzc_service_fee_money?e.info.feizhicai_service:0)))+") ")]:e._e()],2),i("td",[e._v(" * "),i("el-input",{staticClass:"line",attrs:{readonly:e.readonly,size:"mini",disabled:0==e.info.event_info_configure.vatcanedit},on:{input:function(t){e.info.taxrate=e.formatNum(e.info.taxrate)}},model:{value:e.info.taxrate,callback:function(t){e.$set(e.info,"taxrate",t)},expression:"info.taxrate"}}),e._v(" % ")],1),i("td",{attrs:{rowspan:"2"}},[e._v("￥"+e._s(e.positiveFloat(e.Taxes).toFixed(2)))])])])])]),i("div",{staticClass:"section",staticStyle:{"padding-top":"0","padding-bottom":"30px"}},[i("div",{staticClass:"total"},[i("div",[0==this.$route.params.isSubmit?i("a",{staticStyle:{cursor:"pointer",color:"#428bca","font-size":"17px","margin-right":"30px"},attrs:{download:""},on:{click:e.excelexport}},[e._v("下载excel")]):e._e(),i("span",{staticStyle:{"font-size":"20px","font-family":"PingFang SC-粗体, PingFang SC","font-weight":"normal",color:"#eb5851"}},[e._v("RFP总报价: ￥"+e._s((e.positiveFloat(e.money)+e.positiveFloat(e.serveAllMoney)+e.positiveFloat(e.Taxes)).toFixed(2)))])])])]),i("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"a_click",attrs:{href:e.downloadUrl,target:"_blank",download:""}}),i("div",{staticClass:"title_item"},[e._v("报价书、报价说明（付款条件及其他备注）")]),i("div",{staticClass:"section"},[i("div",{staticClass:"uploadFile"},[i("span",{staticStyle:{"font-size":"14px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"rgba(0, 0, 0, 0.65)"}},[e._v("上传报价书：")]),i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"on-change":function(t,i){e.handleChangeAttach(t,i)},"on-remove":function(t,i){e.handleRemoveAttach(t,i)},"on-preview":e.handlePreview,"auto-upload":!1,"file-list":this.fileList,multiple:!1,action:"",disabled:e.readonly}},[i("el-button",{attrs:{disabled:e.readonly,size:"small",type:"primary"}},[e._v("选择文件")])],1)],1),e._m(13),i("div",{staticClass:"selDate"},[i("span",{staticStyle:{"font-size":"14px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"rgba(0, 0, 0, 0.65)"}},[e._v("报价有效期  ")]),i("span",[e._v(" *")]),i("p",{staticStyle:{display:"inline-block"}},[e._v("：")]),i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{readonly:e.readonly,type:"datetime",placeholder:"选择日期时间"},on:{change:e.dataChange},model:{value:e.info.quotationenddate,callback:function(t){e.$set(e.info,"quotationenddate",t)},expression:"info.quotationenddate"}})],1)]),e._m(14),i("el-input",{attrs:{type:"textarea",placeholder:"请填写会场可使用面积、订金比例、订金支付和尾款结算方式等。",readonly:e.readonly},model:{value:e.info.offer_remarks,callback:function(t){e.$set(e.info,"offer_remarks",t)},expression:"info.offer_remarks"}})],1),1==this.$route.params.isSubmit?i("div",{staticClass:"section btn_sec"},[i("el-button",{staticClass:"btn",attrs:{type:"primary",plain:""},on:{click:e.saveAndDownload}},[e._v("保存草稿，下载报价单")]),i("el-button",{staticClass:"btn",attrs:{type:"primary",plain:""},on:{click:e.submit}},[e._v("提交报价")])],1):e._e()]):e._e()])},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"label"},[e._v(" 报价人 "),i("span",[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"label"},[e._v(" 联系电话 "),i("span",[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"label"},[e._v(" 联系邮箱 "),i("span",[e._v("*")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"margin-top":"10px"}},[i("span",{staticStyle:{"font-size":"13px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"#8f9299"}},[i("i",{staticClass:"el-icon-info",staticStyle:{"margin-right":"6px","font-size":"15px"}}),e._v("所有标红星内容都需要填写，如果这个内容是免费的，请填写“0”")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"color_2"},[i("th",[e._v("房型")]),i("th",[e._v("所需数量")]),i("th",[e._v("酒店可提供数量")]),i("th",[e._v("单价")]),i("th",[e._v("报价备注")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"color_2"},[i("th",[e._v("项目")]),i("th",[e._v("需求")]),i("th",[e._v("需求备注")]),i("th",[e._v("报价")]),i("th",[e._v("报价备注")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"color_2"},[i("th",[e._v("项目")]),i("th",[e._v("人数/人次")]),i("th",[e._v("单价（RMB/人）")]),i("th",[e._v("报价备注")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"color_2"},[i("th",[e._v("项目")]),i("th",[e._v("人数/人次")]),i("th",[e._v("需求备注")]),i("th",[e._v("单价（RMB/人）")]),i("th",[e._v("报价备注")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"color_2"},[i("th",[e._v("目的地")]),i("th",[e._v("交通工具")]),i("th",[e._v("座位等级")]),i("th",[e._v("票价/折扣")]),i("th",[e._v("搭乘人数")]),i("th",[e._v("抵达时间")]),i("th",[e._v("单价（RMB/人）")]),i("th",[e._v("小计")]),i("th",[e._v("备注")]),i("th",[e._v("报价备注")]),i("th",[e._v("总价（¥）")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"color_2"},[i("th",[e._v("项目")]),i("th",[e._v("需求")]),i("th",[e._v("需求备注")]),i("th",[e._v("数量")]),i("th",[e._v("单价（RMB/车次）")]),i("th",[e._v("报价备注")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",{staticClass:"color_2"},[i("th",[e._v("项目")]),i("th",[e._v("需求备注")]),i("th",[e._v("数量")]),i("th",[e._v("单价")]),i("th",[e._v("报价备注")]),i("th",[e._v("服务费")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",{staticClass:"color_2"},[i("th",{attrs:{colspan:"2"}},[e._v("服务费")]),i("th",[e._v("金额")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",{staticClass:"color_2"},[i("th",{attrs:{colspan:"2"}},[e._v("VAT")]),i("th",[e._v("金额")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"remark"},[i("i",{staticClass:"el-icon-info",staticStyle:{"margin-right":"4px","font-size":"15px"}}),e._v(" 您可以上传您的官方报价书给终端客户。这份报价书将为保存保证此次交易的合规性。 ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"explain"},[e._v(" 报价说明"),i("span",{staticStyle:{"font-size":"14px","font-family":"PingFang SC-Regular, PingFang SC","font-weight":"400",color:"rgba(0, 0, 0, 0.65)"}},[e._v("（付款条件及其他备注）")])])}],a=i("1da1"),s=i("ade3"),c=(i("96cf"),i("d3b7"),i("159b"),i("a434"),i("4de4"),i("b0c0"),i("ac1f"),i("5319"),i("caad"),i("25f0"),i("00b4"),i("a9e3"),i("b680"),i("2654")),l=(i("b587"),i("0e5c")),f=i("cf45"),d=i("acd6"),u=i("df68"),_={data:function(){var e;return e={aaa:[{date:"2022/9/13 0:00:00",totalprice:15576,transportation_list:[{TableName:"event_quoted_price_transportation",quoted_price_transportation_id:"afd89550-db5e-4611-a5d8-03cf51bf1cdd",transportation_date:"2022/9/13 0:00:00",origincity:"武汉",destinationcity:"北京",transtype:"003-2",transtypename:"火车",arrivetime:"02:00",seatclasses:"00000000-0000-0000-0000-000000000000",seatclassesname:"一等座",specialprice:"00000000-0000-0000-0000-000000000000",specialpricename:null,triptype:0,triptypename:"去程",passengercount:44,joinname:"武汉 - 北京(火车, 一等座, )",requirement:"测试",id:null,quoted_price_id:null,offerremarks:null,unitprice:354,inquiry_sheet_transportation_id:"90164555-7181-4788-bae2-54ffe271e320",othername:null,indexs:1},{TableName:"event_quoted_price_transportation",quoted_price_transportation_id:"afd89550-db5e-4611-a5d8-03cf51bf1cdd1",transportation_date:"2022/9/13 0:00:00",origincity:"武汉",destinationcity:"北京",transtype:"003-2",transtypename:"火车",arrivetime:"02:00",seatclasses:"00000000-0000-0000-0000-000000000000",seatclassesname:"一等座",specialprice:"00000000-0000-0000-0000-000000000000",specialpricename:null,triptype:0,triptypename:"去程",passengercount:44,joinname:"武汉 - 北京(火车, 一等座, )",requirement:"测试",id:null,quoted_price_id:null,offerremarks:null,unitprice:354,inquiry_sheet_transportation_id:"90164555-7181-4788-bae2-54ffe271e321",othername:null,indexs:1}]},{date:"2022/9/13 0:00:00",totalprice:15576,transportation_list:[{TableName:"event_quoted_price_transportation",quoted_price_transportation_id:"afd89550-db5e-4611-a5d8-03cf51bf1cb1",transportation_date:"2022/9/13 0:00:00",origincity:"武汉",destinationcity:"北京",transtype:"003-2",transtypename:"火车",arrivetime:"02:00",seatclasses:"00000000-0000-0000-0000-000000000000",seatclassesname:"一等座",specialprice:"00000000-0000-0000-0000-000000000000",specialpricename:null,triptype:0,triptypename:"去程",passengercount:44,joinname:"武汉 - 北京(火车, 一等座, )",requirement:"测试",id:null,quoted_price_id:null,offerremarks:null,unitprice:354,inquiry_sheet_transportation_id:"90164555-7181-4788-bae2-54ffe271e330",othername:null,indexs:1},{TableName:"event_quoted_price_transportation",quoted_price_transportation_id:"afd89550-db5e-4611-a5d8-03cf51bf1cfd1",transportation_date:"2022/9/13 0:00:00",origincity:"武汉",destinationcity:"北京",transtype:"003-2",transtypename:"火车",arrivetime:"02:00",seatclasses:"00000000-0000-0000-0000-000000000000",seatclassesname:"一等座",specialprice:"00000000-0000-0000-0000-000000000000",specialpricename:null,triptype:0,triptypename:"去程",passengercount:44,joinname:"武汉 - 北京(火车, 一等座, )",requirement:"测试",id:null,quoted_price_id:null,offerremarks:null,unitprice:354,inquiry_sheet_transportation_id:"90164555-7181-4788-bae2-54fff271e321",othername:null,indexs:1}]}],info:{event_info_configure:{},fzc_service:100},severEveryMoneyList:[],grade_taxrate:0,serviceTotalMoney:0,hotelList:[],rules:{IntegerNotMust:[{validator:c["f"],trigger:"change"}]},readonly:!1,loading:!1,addConferenceSelects:[],addOtherSelects:[],errormsg:[],demandList:{},warningmsg:"",foodlimitwarningmsg:[],selVat:""},Object(s["a"])(e,"info",{}),Object(s["a"])(e,"contractsId",""),Object(s["a"])(e,"fileList",[]),Object(s["a"])(e,"roomOut",1),Object(s["a"])(e,"conferenceOut",1),Object(s["a"])(e,"foodOut",1),Object(s["a"])(e,"transportationOut",1),Object(s["a"])(e,"carOut",1),Object(s["a"])(e,"otherOut",1),Object(s["a"])(e,"disabled",!0),Object(s["a"])(e,"downloadUrl",""),Object(s["a"])(e,"roomcostProjects",[]),e},methods:(o={guid:f["k"],positiveInteger:f["q"],positiveFloatSix:f["o"],positiveFloatOne:f["n"],positiveFloat:f["m"],formatNum:f["e"],formatDate:f["d"],getNextDateFormat:f["i"],excelExport:d["a"],getFormatDate:f["g"],CompareDate:f["a"],limitsEffect:u["a"]},Object(s["a"])(o,"excelExport",d["a"]),Object(s["a"])(o,"downloadOfferConfirm",(function(){var e="报价确认单";this.excelExport("/Template/GetTemplate",{eventid:this.info.activity_id,type:5,param:this.info.id},e)})),Object(s["a"])(o,"addConferenceOther",(function(e,t,i){var o=0;e.conference_list.forEach((function(e){4==e.type&&(o+=1)}));var n={quoted_firstid:t.inquiry_sheet_conference_id,order_name:t.order_name,date:t.date,indexs:o+1,type:4,quoted_code:"",quoted_name:"",count:"",price:"",comments:""};e.conference_list.splice(i+o+1,0,n)})),Object(s["a"])(o,"delConferenceOther",(function(e,t,i){var o=0;e.conference_list.splice(i,1),e.conference_list.forEach((function(e){4==e.type&&(o+=1,e.indexs=o)}))})),Object(s["a"])(o,"addOther",(function(){var e={type:4,other_code:"",servicetypename:"",two_level_code:"",offerparticipatecount:"",price:"",offer_remarks:"",isnotservice:0,detail:[],indexs:this.info.quoted_price_other.length+1};this.info.quoted_price_other.push(e)})),Object(s["a"])(o,"delOther",(function(e,t){this.info.quoted_price_other.splice(t,1),this.info.quoted_price_other.forEach((function(e,t){e.indexs=t+1}))})),Object(s["a"])(o,"addOtherChange",(function(e){this.addOtherSelects.forEach((function(t){t.code==e.other_code&&(e.detail=t.detail.filter((function(e){return"0"!==e.detail_type})),console.log(e.detail),e.two_level_code="",e.isnotservice=t.isnotservice)}))})),Object(s["a"])(o,"searchSelectOption",(function(e){var t=this;this.$api.getCostProjects({code:e,meetingid:this.info.meeting_id},"POST").then((function(i){"0049"==e?t.addConferenceSelects=i:(t.addOtherSelects=i,t.info.quoted_price_other.forEach((function(e){t.addOtherSelects.forEach((function(t){t.code!=e.other_code||e.inquiry_sheet_other_id||(e.detail=t.detail.filter((function(e){return"0"!==e.detail_type})),console.log(e.detail),e.isnotservice=t.isnotservice)}))})))}))})),Object(s["a"])(o,"conferenceTypeChange",(function(e){this.addConferenceSelects.forEach((function(t){e.quoted_code==t.code&&(e.quoted_name=t.name)}))})),Object(s["a"])(o,"excelexport",(function(){var e="DMC报价单"+this.info.id;this.excelExport("/Template/GetTemplate",{eventid:this.info.activity_id,type:3,param:this.info.id},e)})),Object(s["a"])(o,"saveAndDownload",(function(){this.info.status="0014-5",this.save()})),Object(s["a"])(o,"dataChange",(function(e){this.info.quotationenddate=this.formatDate("YYYY-mm-dd HH:MM:SS",e)})),Object(s["a"])(o,"changeCostProject",(function(e,t){t.roomtypename=t.custom_roomtype=this.roomcostProjects.filter((function(t){return t.code==e}))[0].name,t.custom_roomtypeid=e,t.roomtypid=e})),Object(s["a"])(o,"changeSel",(function(e){var t=this;this.info.contactslist.forEach((function(i,o){e==i.id&&(t.info.bidder=i.id,t.info.biddername=i.contacts,t.info.biddertel=i.telephone,t.info.bidderemail=i.email,t.disabled=!0),e==i.id&&"其他"==i.contacts&&(t.disabled=!1,t.info.bidder=null,t.info.biddername="")}))})),Object(s["a"])(o,"initVat",(function(){var e=this;null==this.info.roomtaxid&&(this.info.roomtaxid=this.info.taxlist[0].id),null==this.info.conferencetaxid&&(this.info.conferencetaxid=this.info.taxlist[0].id),null==this.info.foodtaxid&&this.info.taxlist.forEach((function(t,i){1==t.outtaxrate&&1==t.invoicetype&&(e.info.foodtaxid=t.id)})),this.info.taxlist.forEach((function(t,i){t.id==e.info.roomtaxid&&(e.roomOut=t.outtaxrate),t.id==e.info.conferencetaxid&&(e.conferenceOut=t.outtaxrate),t.id==e.info.foodtaxid&&(e.foodOut=t.outtaxrate),t.id==e.info.transportationtaxid&&(e.transportationOut=t.outtaxrate),t.id==e.info.cartaxid&&(e.carOut=t.outtaxrate),t.id==e.info.othertaxid&&(e.otherOut=t.outtaxrate)}))})),Object(s["a"])(o,"roomVat",(function(e){var t=this;this.info.taxlist.forEach((function(i,o){i.id==e&&(t.roomOut=i.outtaxrate)})),this.info.roomtaxid=e})),Object(s["a"])(o,"conferenceVat",(function(e){var t=this;this.info.taxlist.forEach((function(i,o){i.id==e&&(t.conferenceOut=i.outtaxrate)})),this.info.conferencetaxid=e})),Object(s["a"])(o,"foodVat",(function(e){var t=this;this.info.taxlist.forEach((function(i,o){i.id==e&&(t.foodOut=i.outtaxrate)})),this.info.foodtaxid=e})),Object(s["a"])(o,"transportationVat",(function(e){var t=this;this.info.taxlist.forEach((function(i,o){i.id==e&&(t.transportationOut=i.outtaxrate)})),this.info.transportationtaxid=e})),Object(s["a"])(o,"carVat",(function(e){var t=this;this.info.taxlist.forEach((function(i,o){i.id==e&&(t.carOut=i.outtaxrate)})),this.info.cartaxid=e})),Object(s["a"])(o,"otherVat",(function(e){var t=this;this.info.taxlist.forEach((function(i,o){i.id==e&&(t.otherOut=i.outtaxrate)})),this.info.othertaxid=e})),Object(s["a"])(o,"handleChangeAttach",(function(e,t){var i=e.size/1024/1024<30;if(this.limitsEffect(e))return i?void(this.fileList=t):(this.$message.error("上传附件大小不能超过 30MB!"),void this.$refs.upload.handleRemove(e,t));this.$refs.upload.handleRemove(e,t)})),Object(s["a"])(o,"handleRemoveAttach",(function(e,t){this.fileList=t})),Object(s["a"])(o,"handlePreview",(function(e){var t=this;if(e.url){var i=e.url.substring(e.url.lastIndexOf(".")+1),o=["pdf","jpeg","jpg","png","txt"],n=["docx","doc","xls","xlsx","xlsm","ppt","pptx"];e.url=e.url.replace(/http:/,"https:"),this.downloadUrl=e.url,n.includes(i)?this.downloadUrl="https://view.officeapps.live.com/op/view.aspx?src="+encodeURIComponent(e.url):o.includes(i)?this.downloadUrl=e.url:this.$message.info("文件格式不支持预览，下载后查看"),setTimeout((function(){t.$refs.a_click.click()}),100)}})),Object(s["a"])(o,"remoteMethod",(function(e){var t=this;this.loading=!0,this.$api.hotelList({Page:1,Rows:99,keyword:e},"POST").then((function(e){t.loading=!1,t.hotelList=e.List}))})),Object(s["a"])(o,"addNewRoomType",(function(e){e.push({roomtypename:"免房",provide_count:0,remarks:"",unitprice:0,roomtype:"0034-4",custom_roomtype:"免房",custom_roomtypeid:"0034-4"})})),Object(s["a"])(o,"delNewRoomType",(function(e,t){e.room_list.splice(t,1)})),Object(s["a"])(o,"copyRoomDay",(function(e){var t=this;this.info.quoted_price_room[e-1].room_list.forEach((function(i,o){t.info.quoted_price_room[e].room_list.forEach((function(e,t){i.roomtype==e.roomtype&&(e.provide_count=i.provide_count,e.unitprice=i.unitprice,e.remarks=i.remarks)}))}))})),Object(s["a"])(o,"differenceShowErrorMessage",(function(){var e="";this.errormsg.forEach((function(t){e+="<p style='padding:5px;'>"+t+"</p>"})),this.$message({message:e,dangerouslyUseHTMLString:!0,type:"error",lockScroll:!1})})),Object(s["a"])(o,"addroomProvidecountwarningmsg",(function(){var e=this;this.warningmsg="";var t=!1,i=[],o=[],n=[],r=[],a=[];if(this.info.quoted_price_room&&this.info.quoted_price_room.length>0&&(this.info.quoted_price_room.forEach((function(e){e.room_list&&e.room_list.length>0&&e.room_list.forEach((function(e,t){i.push(e),e.inquiry_sheet_room_id&&!o.includes(e.roomtypename)&&o.push(e.roomtypename),e.inquiry_sheet_room_id||n.includes(e.roomtypename)||n.push(e.roomtypename)}))})),o.length>0&&o.forEach((function(e){var o=0,n=0,a=i.filter((function(t){return t.roomtypename==e}));a.length>0&&a.forEach((function(e){o+=Object(f["q"])(e.roomcount),n+=Object(f["q"])(e.provide_count)})),n<o&&(t=!0),r.push({name:e,roomcount:o,provide_count:n})})),n.length>0&&n.forEach((function(e){var t=0,o=i.filter((function(t){return t.roomtypename==e}));o.length>0&&o.forEach((function(e){t+=Object(f["q"])(e.provide_count)})),a.push({name:e,provide_count:t})})),t)){var s="",c="";r.forEach((function(e,t){s+=e.name+e.roomcount.toString(),c+=e.name+e.provide_count.toString(),t<r.length-1&&(s+=" ",c+=" "),console.log(s)})),a.length>0&&(""!=c&&(c+=" "),a.forEach((function(e,t){c+=e.name+e.provide_count.toString(),t<a.length-1&&(c+=" ")})));var l="<p>客户所需客房数量<"+s+"></p>",d="<p>与您填写的数量<"+c+"></p>";this.warningmsg=l+d}this.foodlimitwarningmsg.length>0&&this.foodlimitwarningmsg.forEach((function(t){e.warningmsg+="<p>"+t+"</p>"})),""!=this.warningmsg&&(this.warningmsg+="<p>确认提交当前报价吗？</p>")})),Object(s["a"])(o,"validate",(function(){return this.errormsg=[],this.checkRoomDifference,this.checkConferenceDifference,this.checkFoodDifference,this.checkTransportationDifference,this.checkCarDifference,this.checkOtherDifference,this.errormsg.length>0&&this.differenceShowErrorMessage(),0==this.errormsg.length})),Object(s["a"])(o,"submit",(function(){var e=this;if(!this.disabled){var t=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(!(this.info.biddername&&this.info.biddertel&&this.info.bidderemail))return void this.$message.error("姓名、手机、邮箱缺一不可！");if(!t.test(this.info.bidderemail))return void this.$message.error("邮箱格式不正确！")}null!=this.info.roomtaxid&&null!=this.info.conferencetaxid&&null!=this.info.foodtaxid?this.info.quotationenddate?this.CompareDate(this.info.quotationenddate,this.formatDate("YYYY-mm-dd HH:MM:SS",new Date))?this.validate()&&(this.addroomProvidecountwarningmsg(),this.info.status="0014-6",""==this.warningmsg?this.save():this.$confirm(this.warningmsg,"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定提交",cancelButtonText:"返回修改",type:"warning"}).then((function(){e.save()})).catch((function(){}))):this.$message.error("有效期不允许在当前日期之前!"):this.$message.error("报价有效期未填写!"):this.$message.error("税率未选择！")})),Object(s["a"])(o,"save",(function(){var e=this,t=[],i=this.fileList.filter((function(e){return""!=e.uid}));this.fileList.length>0&&i.forEach((function(e){t.push({key:e.uid,file:e.raw})})),console.log(t),Object(l["a"])(t).then((function(t){e.info.attachlist&&e.info.attachlist.length>0&&e.info.attachlist.forEach((function(t){0==e.fileList.filter((function(e){return e.id==t.id})).length&&(e.fileList.filter((function(i){return console.log(i.id,t.id,e.fileList.filter((function(e){return e.id==t.id})).length),i.id==t.id})),t.delete=!0)})),t.forEach((function(t){t&&e.info.attachlist.push({filepath:t.FilePath,filename:t.OriginalFileName,filetype:1})}));var i=e.positiveFloat(e.quotedPrice);e.$confirm("您报价￥"+i+"元,确认提交?","提示",{confirmButtonText:"确定提交报价",cancelButtonText:"取消",type:"warning"}).then((function(){"非VAT"==e.info.taxtype&&(e.info.taxrate=0),1==e.info.zhicai_service&&(e.info.advance_amount=e.baierSeversMoney,e.info.advance_proportion=100);for(var t=e.info.quoted_price_room,i=0;i<t.length;i++)for(var o=t[i].room_list,n=0;n<o.length;n++)o[n].TableName?(0==e.info.is_Inside_outside&&(o[n].inside_roomcount=0,o[n].outside_roomcount=o[n].provide_count),1==e.info.is_Inside_outside&&(o[n].provide_count<=o[n].outside_roomcount?(o[n].outside_roomcount=o[n].provide_count,o[n].inside_roomcount=0):o[n].provide_count>o[n].outside_roomcount&&(o[n].inside_roomcount=o[n].provide_count-o[n].outside_roomcount))):(o[n].indexs=n+1,o[n].inside_roomcount=0,o[n].outside_roomcount=o[n].provide_count);e.info.total_amount&&(e.info.total_amount=e.positiveFloat(e.info.total_amount),console.log(e.info)),e.$api.quotationsubmit(e.info,"POST").then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(i){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i?("0014-5"==e.info.status&&(o="DMC报价单"+i.event_quoted_price_id,e.excelExport("/Template/GetTemplate",{eventid:e.info.activity_id,type:3,param:i.event_quoted_price_id},o)),e.$router.push({name:"DMCactivityOrderInfo",params:{id:e.info.inquiry_sheet_object_id}})):e.$message({message:"提交失败",type:"fail"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})).catch((function(){}))}))})),Object(s["a"])(o,"addLadder",(function(){this.info.event_info_ladder_taxrates[this.info.event_info_ladder_taxrates.length-1].ladder_max?this.info.event_info_ladder_taxrates.push({event_info_id:this.info.activity_id,id:this.guid(),ladder_min:1*this.info.event_info_ladder_taxrates[this.info.event_info_ladder_taxrates.length-1].ladder_max+1,ladder_max:0,ladder_taxrate:8}):this.$message.error("请将上一阶梯信息填写完整")})),Object(s["a"])(o,"delLadder",(function(e){this.info.event_info_ladder_taxrates.splice(e,1)})),o),computed:{formateDate:function(){return function(e){return Object(f["d"])("YYYY年mm月dd日",new Date(e))}},hotelVisible:function(){return 1==this.info.inquirysheetType},roomVisible:function(){return this.info.quoted_price_room&&this.info.quoted_price_room.length>0},conferenceVisible:function(){return this.info.quoted_price_conference&&this.info.quoted_price_conference.length>0},foodVisible:function(){return this.info.quoted_price_food&&this.info.quoted_price_food.length>0},foodOutsideVisible:function(){return this.info.quoted_price_outside_food&&this.info.quoted_price_outside_food.length>0},transportationVisible:function(){return this.info.quoted_price_transportation&&this.info.quoted_price_transportation.length>0},carVisible:function(){return this.info.quoted_price_car&&this.info.quoted_price_car.length>0},otherVisible:function(){return this.info.quoted_price_other&&this.info.quoted_price_other.length>0},adddifferenceerrormsg:function(){return function(e,t,i){var o="";1==e?o=this.formateDate(t)+"客房,第"+i+"行,单价未填写,请填写单价":2==e?o=this.formateDate(t)+"会场,第"+i+"行,报价未填写,请填写报价":3==e?o=this.formateDate(t)+"餐饮,第"+i+"行,单价未填写,请填写单价":4==e?o=this.formateDate(t)+"大交通,第"+i+"单价未填写,请填写单价":5==e?o=this.formateDate(t)+"地面交通,第"+i+"行,单价未填写,请填写单价":6==e?o="其他服务,第"+i+"行,单价未填写,请填写单价":7==e&&(o="其他服务,第"+i+"行,数量未填写,请填写数量"),this.errormsg.push(o)}},addnewitemerrormsg:function(){return function(e,t,i){var o="";1==e?o=this.formateDate(t)+"新增客房,第"+i+"行,消费项目名称为必填项,请填写房型":2==e?o=this.formateDate(t)+"新增会场,第"+i+"行,消费项目名称为必填项,请填写消费项目名称":3==e?o=this.formateDate(t)+"新增餐饮,第"+i+"行,消费项目名称为必填项,请填写消费项目名称":4==e?o=this.formateDate(t)+"新增大交通,第"+i+"行,消费项目名称为必填项,请填写消费项目名称":5==e&&(o=this.formateDate(t)+"新增地面交通,第"+i+"行,消费项目名称为必填项,请填写消费项目名称"),this.errormsg.push(o)}},addfoodlimiterrormsg:function(){return function(e,t,i){var o="";3==e&&(o=this.formateDate(t)+"酒店内餐饮,第"+i+"行,超过餐标"),this.foodlimitwarningmsg.push(o)}},roomProvideCountDifference:function(){return function(e){return Object(f["q"])(e.provide_count)<Object(f["q"])(e.roomcount)}},roomDifference:function(){return function(e){return""===e.unitprice}},checkRoomDifference:function(){var e=this,t=!1;this.info.quoted_price_room&&this.info.quoted_price_room.length>0&&this.info.quoted_price_room.forEach((function(i){if(i.room_list&&i.room_list.length>0){i.room_list.forEach((function(o,n){t=e.roomDifference(o),t&&e.adddifferenceerrormsg(1,i.date,n+1)}));var o=i.room_list.filter((function(e){return null==e.inquiry_sheet_room_id&&""==e.roomtypename}));o.length>0&&o.forEach((function(t,o){e.addnewitemerrormsg(1,i.date,o+1)}))}}))},dayMoney:function(){return function(e){var t=this,i=0;return e.forEach((function(e){var o=0;o=e.provide_count<0?Number(e.provide_count):t.positiveInteger(e.provide_count),i+=o*t.positiveFloatSix(e.unitprice)})),this.positiveFloatSix(i*parseFloat(this.roomOut))}},allMoney:function(){var e=this,t=0;return this.info.quoted_price_room&&this.info.quoted_price_room.length>0&&this.info.quoted_price_room.forEach((function(i){t+=e.positiveFloatSix(e.dayMoney(i.room_list))})),this.positiveFloatSix(t)},meetingDayMoney:function(){return function(e){var t=this,i=0;return e.forEach((function(e){var o;i+=t.positiveFloatSix(e.price*(null!==(o=e.count)&&void 0!==o?o:0))})),this.positiveFloatSix(i*parseFloat(this.conferenceOut))}},meetingAllMoney:function(){var e=this,t=0;return this.info.quoted_price_conference&&this.info.quoted_price_conference.length>0&&this.info.quoted_price_conference.forEach((function(i){t+=e.meetingDayMoney(i.conference_list)})),this.positiveFloatSix(t)},conferenceDifference:function(){return function(e){return""===e.price}},checkConferenceDifference:function(){var e=this,t=!1;this.info.quoted_price_conference&&this.info.quoted_price_conference.length>0&&this.info.quoted_price_conference.forEach((function(i){i.conference_list&&i.conference_list.length>0&&i.conference_list.forEach((function(o,n){t=e.conferenceDifference(o),t&&e.adddifferenceerrormsg(2,i.date,n+1)}))}))},repastDayMoney:function(){return function(e){var t=this,i=0;return e.forEach((function(e){i+=t.positiveInteger(e.personcount)*t.positiveFloatSix(e.price)})),this.positiveFloatSix(i*parseFloat(this.foodOut))}},repastAllMoney:function(){var e=this,t=0;return this.info.quoted_price_food&&this.info.quoted_price_food.length>0&&this.info.quoted_price_food.forEach((function(i){t+=e.repastDayMoney(i.food_list)})),this.positiveFloatSix(t)},foodDifference:function(){return function(e){return""===e.price}},foodLimit:function(){return function(e,t){return parseFloat(e.price)>parseFloat(t)}},checkFoodDifference:function(){var e=this,t=!1,i=!1;this.foodlimitwarningmsg=[],this.info.quoted_price_food&&this.info.quoted_price_food.length>0&&this.info.quoted_price_food.forEach((function(o){o.food_list&&o.food_list.length>0&&o.food_list.forEach((function(n,r){t=e.foodDifference(n),t&&e.adddifferenceerrormsg(3,o.date,r+1),i=e.foodLimit(n,e.info.food_limit),i&&e.addfoodlimiterrormsg(3,o.date,r+1)}))}))},otherFoodDayMoney:function(){return function(e){var t=this,i=0;return e.forEach((function(e){i+=t.positiveInteger(e.personcount)*t.positiveFloatSix(e.price)})),this.positiveFloatSix(i)}},otherFoodAllMoney:function(){var e=this,t=0;return this.info.quoted_price_outside_food&&this.info.quoted_price_outside_food.length>0&&this.info.quoted_price_outside_food.forEach((function(i){t+=e.otherFoodDayMoney(i.food_list)})),this.positiveFloatSix(t)},otherFoodTaxMoney:function(){var e=0;return e=this.otherFoodAllMoney*(this.info.event_info_configure.others_food_inquiry_taxrate/100),this.positiveFloatSix(e)},othersFoodDifference:function(){return function(e){return""===e.price}},checkOthersFoodDifference:function(){var e=this,t=!1,i=!1;this.info.quoted_price_outside_food&&this.info.quoted_price_outside_food.length>0&&this.info.quoted_price_outside_food.forEach((function(o){o.food_list&&o.food_list.length>0&&o.food_list.forEach((function(n,r){t=e.othersFoodDifference(n),t&&e.adddifferenceerrormsg(4,o.date,r+1),i=e.foodLimit(n,e.event_info.food_limit),i&&e.addfoodOutsidelimiterrormsg(3,o.date,r+1)}))}))},IntercityTransportationDayMoney:function(){return function(e){var t=this,i=0;return e.forEach((function(e){i+=t.positiveInteger(e.passengercount)*t.positiveFloatSix(e.unitprice)})),this.positiveFloatSix(i)}},IntercityTransportationAllMoney:function(){var e=this,t=0;return this.info.quoted_price_transportation&&this.info.quoted_price_transportation.length>0&&this.info.quoted_price_transportation.forEach((function(i){t+=e.IntercityTransportationDayMoney(i.transportation_list)})),this.positiveFloatSix(t*parseFloat(this.transportationOut))},transportationDifference:function(){return function(e){return""===e.unitprice}},checkTransportationDifference:function(){var e=this,t=!1;this.info.quoted_price_transportation&&this.info.quoted_price_transportation.length>0&&this.info.quoted_price_transportation.forEach((function(i){i.transportation_list&&i.transportation_list.length>0&&i.transportation_list.forEach((function(o,n){t=e.transportationDifference(o),t&&e.adddifferenceerrormsg(4,i.date,n+1)}))}))},CityDayMoney:function(){return function(e){var t=this,i=0;return e.forEach((function(e){i+=t.positiveInteger(e.carcount)*t.positiveFloatSix(e.price)})),this.positiveFloatSix(i)}},CityAllMoney:function(){var e=this,t=0;return this.info.quoted_price_car&&this.info.quoted_price_car.length>0&&this.info.quoted_price_car.forEach((function(i){t+=e.CityDayMoney(i.carlist)})),this.positiveFloatSix(t*parseFloat(this.carOut))},carDifference:function(){return function(e){return""===e.price}},checkCarDifference:function(){var e=this,t=!1;this.info.quoted_price_car&&this.info.quoted_price_car.length>0&&this.info.quoted_price_car.forEach((function(i){i.car_list&&i.car_list.length>0&&i.car_list.forEach((function(o,n){t=e.carDifference(o),t&&e.adddifferenceerrormsg(5,i.date,n+1)}))}))},otherAllMoney:function(){var e=this,t=0;return this.info.quoted_price_other&&this.info.quoted_price_other.length>0&&this.info.quoted_price_other.forEach((function(i){t+=e.positiveInteger(i.offerparticipatecount)*e.positiveFloatSix(i.price)})),this.positiveFloatSix(t*parseFloat(this.otherOut))},vatAllMoney:function(){var e=0;return this.severEveryMoneyList&&this.severEveryMoneyList>0&&this.severEveryMoneyList.forEach((function(t){e+=t})),e+=this.baierSeversMoney,e},otherDifference:function(){return function(e){return""===e.price}},otherNumDifference:function(){return function(e){return""==e.offerparticipatecount}},checkOtherDifference:function(){var e=this,t=!1;this.info.quoted_price_other&&this.info.quoted_price_other.length>0&&this.info.quoted_price_other.forEach((function(i,o){t=e.otherDifference(i),t&&e.adddifferenceerrormsg(6,null,o+1),""==i.offerparticipatecount&&e.adddifferenceerrormsg(7,null,o+1)}))},money:function(){return this.info.total_price=Object(f["o"])(this.allMoney)+Object(f["o"])(this.meetingAllMoney)+Object(f["o"])(this.repastAllMoney)+Object(f["o"])(this.otherFoodAllMoney)+Object(f["o"])(this.IntercityTransportationAllMoney)+Object(f["o"])(this.CityAllMoney)+Object(f["o"])(this.otherAllMoney),Object(f["o"])(this.info.total_price)},InTheHotelMoney:function(){var e=this,t=0;return this.info.quoted_price_food&&this.info.quoted_price_food.length>0&&this.info.quoted_price_food.forEach((function(i){i.food_list.forEach((function(i){0==i.addresstype&&(t+=e.positiveInteger(i.personcount)*e.positiveFloatSix(i.price))}))})),this.info.travelagency_payment_money=Object(f["o"])(this.allMoney)+Object(f["o"])(this.meetingAllMoney)+Object(f["o"])(t),this.positiveFloatSix(this.info.travelagency_payment_money)},OutsideTheHotelMoney:function(){var e=this,t=0,i=0;return this.info.quoted_price_food&&this.info.quoted_price_food.length>0&&this.info.quoted_price_food.forEach((function(i){i.food_list.forEach((function(i){1==i.addresstype&&(t+=e.positiveInteger(i.personcount)*e.positiveFloatSix(i.price))}))})),this.info.quoted_price_other&&this.info.quoted_price_other.length>0&&this.info.quoted_price_other.forEach((function(t){1!=t.islocalguide&&(i+=e.positiveInteger(t.offerparticipatecount)*e.positiveInteger(t.offerservicedaycount)*e.positiveFloatSix(t.price))})),this.info.off_hotel_expenses=Object(f["o"])(this.IntercityTransportationAllMoney)+Object(f["o"])(this.CityAllMoney)+t+i,this.positiveFloatSix(this.info.off_hotel_expenses)},TravelAgencyMoney:function(){return this.positiveFloatSix(Object(f["o"])(this.InTheHotelMoney)*(this.positiveFloatSix(this.info.travelagency_payment_proportion)/100))},AdvancesMoney:function(){return Object(f["o"])(this.positiveFloatSix(this.info.advance_amount)*(this.positiveFloatSix(this.info.advance_proportion)/100))},OutsideHotelMoney:function(){return Object(f["o"])(this.info.advance_amount*(this.positiveFloatSix(this.info.advance_proportion)/100))},serviceAllMoney:function(){return Object(f["o"])(this.TravelAgencyMoney+this.AdvancesMoney+this.OutsideHotelMoney)},baierSeversMoney:function(){var e=0;return this.info.event_quoted_price_zhicai_service.forEach((function(t){var i;e+=null!==(i=t.grade_price*t.grade_count)&&void 0!==i?i:0})),e},serveAllMoney:function(){var e=this,t=0;if(0==this.info.event_info_configure.service_fee_calculation_method)t=this.allMoney.toFixed(2)*(this.info.event_info_configure.room_inquiry_service_taxrate/100)+this.meetingAllMoney.toFixed(2)*(this.info.event_info_configure.conference_inquiry_service_taxrate/100)+this.repastAllMoney.toFixed(2)*(this.info.event_info_configure.hotel_food_inquiry_service_taxrate/100)+this.otherFoodAllMoney.toFixed(2)*(this.info.event_info_configure.others_food_inquiry_service_taxrate/100)+this.IntercityTransportationAllMoney.toFixed(2)*(this.info.event_info_configure.transportation_inquiry_service_taxrate/100)+this.CityAllMoney.toFixed(2)*(this.info.event_info_configure.car_inquiry_service_taxrate/100),this.offline_quoted_price_others.forEach((function(e){t+=e.offerparticipatecount*e.price*e.service_taxrate/100}));else if(1==this.info.event_info_configure.service_fee_calculation_method){var i=0;i+=this.info.event_info_configure.room_inquiry_isnotservice?this.allMoney:0,i+=this.info.event_info_configure.conference_inquiry_isnotservice?this.meetingAllMoney:0,i+=this.info.event_info_configure.hotel_food_inquiry_isnotservice?this.repastAllMoney:0,i+=this.info.event_info_configure.others_food_inquiry_isnotservice?this.otherFoodAllMoney:0,i+=this.info.event_info_configure.transportation_inquiry_isnotservice?this.IntercityTransportationAllMoney:0,i+=this.info.event_info_configure.car_inquiry_isnotservice?this.CityAllMoney:0,this.info.quoted_price_other.forEach((function(e){i+=e.isnotservice?e.offerparticipatecount*e.price:0})),this.severEveryMoneyList=[],this.info.event_info_ladder_taxrates.forEach((function(o,n){i<=o.ladder_min||(i>=o.ladder_min&&i<=o.ladder_max?(t+=(i-o.ladder_min+(0==n?0:1))*o.ladder_taxrate/100,e.severEveryMoneyList.push(Object(f["o"])((i-o.ladder_min+(0==n?0:1))*o.ladder_taxrate/100*e.info.fzc_service/100))):i>o.ladder_max&&e.info.event_info_ladder_taxrates[n+1]?(e.severEveryMoneyList.push(Object(f["o"])((o.ladder_max-o.ladder_min+(0==n?0:1))*o.ladder_taxrate/100*e.info.fzc_service/100)),t+=(o.ladder_max-o.ladder_min+(0==n?0:1))*o.ladder_taxrate/100):i>=o.ladder_max&&!e.info.event_info_ladder_taxrates[n+1]&&(e.severEveryMoneyList.push(Object(f["o"])((i-o.ladder_min+(0==n?0:1))*o.ladder_taxrate/100*e.info.fzc_service/100)),t+=(i-o.ladder_min+(0==n?0:1))*o.ladder_taxrate/100))}))}else if(2==this.info.event_info_configure.service_fee_calculation_method){var o=0;o+=this.info.event_info_configure.room_inquiry_isnotservice?this.allMoney:0,o+=this.info.event_info_configure.conference_inquiry_isnotservice?this.meetingAllMoney:0,o+=this.info.event_info_configure.hotel_food_inquiry_isnotservice?this.repastAllMoney:0,o+=this.info.event_info_configure.others_food_inquiry_isnotservice?this.otherFoodAllMoney:0,o+=this.info.event_info_configure.transportation_inquiry_isnotservice?this.IntercityTransportationAllMoney:0,o+=this.info.event_info_configure.car_inquiry_isnotservice?this.CityAllMoney:0,this.info.quoted_price_other.forEach((function(e){o+=e.isnotservice?e.offerparticipatecount*e.price:0})),this.serviceTotalMoney=o;for(var n=0;n<this.info.event_info_grade_taxrates.length;n++)if(n==this.info.event_info_grade_taxrates.length-1||o>=this.info.event_info_grade_taxrates[n].grade_money&&o<this.info.event_info_grade_taxrates[n+1].grade_money){t=o*this.info.event_info_grade_taxrates[n].grade_taxrate/100,this.grade_taxrate=this.info.event_info_grade_taxrates[n].grade_taxrate;break}}return t*=this.info.fzc_service/100,1==this.info.event_info_configure.minimum_service_fee&&t<this.info.event_info_configure.minimum_service_fee_money&&(t=this.info.event_info_configure.minimum_service_fee_money),this.info.feizhicai_service=t,1==this.info.zhicai_service?t+=this.baierSeversMoney:t+=this.info.advance_amount*this.info.advance_proportion/100,t},Taxes:function(){var e=0;return"VAT"==this.info.taxtype?(e=0==this.info.event_info_configure.fzc_service_fee_money?(this.money+this.serveAllMoney-this.info.feizhicai_service)*this.positiveFloatSix(this.info.taxrate)/100:(this.money+this.serveAllMoney)*this.positiveFloatSix(this.info.taxrate)/100,e):0*(this.money+this.serveAllMoney)},quotedPrice:function(){this.info.taxation=this.Taxes||0;var e=this.positiveFloat(this.money)+this.positiveFloat(this.serveAllMoney)+this.positiveFloat(this.Taxes);return this.info.total_amount=e,this.info.total_amount}},mounted:function(){var e=this;this.$api.getCostProjects({code:"0034"},"POST").then((function(t){e.roomcostProjects=t})),0==this.$route.params.isSubmit&&(this.readonly=!0),this.$api.hotelList({Page:1,Rows:99},"POST").then((function(t){e.hotelList=t.List})),this.$api.quotationInfo({id:this.$route.params.id,type:this.$route.params.type||""},"POST").then((function(t){null!=t.quotationenddate&&(t.quotationenddate=e.getFormatDate(t.quotationenddate)),1==e.$route.params.isSubmit&&(t.quotationenddate=e.getNextDateFormat(new Date,10)),t.quoted_price_other.forEach((function(e){e.isnotservice=Boolean(e.isnotservice)})),e.info=t,0!=e.info.event_info_configure.service_fee_ratio&&null!=e.info.fzc_service||(e.info.fzc_service=100),void 0!=e.info.bidder&&(e.contractsId=e.info.bidder),0==e.info.event_info_ladder_taxrates.length?e.info.event_info_ladder_taxrates=[{ladder_min:0,ladder_max:1e5,ladder_taxrate:8}]:e.info.event_info_ladder_taxrates[0].ladder_min=0,null==e.info.id&&e.info.quoted_price_room.forEach((function(e){e.room_list.forEach((function(e){e.provide_count=e.roomcount}))})),e.initVat(),e.info.attachlist&&e.info.attachlist.forEach((function(t){e.fileList.push({name:t.filename,url:e.info.quotationfile_domin+t.filepath,id:t.id})})),e.searchSelectOption("0049"),e.searchSelectOption("009")}))}},p=_,h=(i("e1f8"),i("2877")),v=Object(h["a"])(p,n,r,!1,null,"e57ead02",null);t["default"]=v.exports},"8ba4":function(e,t,i){var o=i("23e7"),n=i("eac5");o({target:"Number",stat:!0},{isInteger:n})},"96cf":function(e,t){!function(t){"use strict";var i,o=Object.prototype,n=o.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag",l="object"===typeof e,f=t.regeneratorRuntime;if(f)l&&(e.exports=f);else{f=t.regeneratorRuntime=l?e.exports:{},f.wrap=x;var d="suspendedStart",u="suspendedYield",_="executing",p="completed",h={},v={};v[a]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==o&&n.call(y,a)&&(v=y);var g=k.prototype=C.prototype=Object.create(v);S.prototype=g.constructor=k,k.constructor=S,k[c]=S.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(g),e},f.awrap=function(e){return{__await:e}},q(w.prototype),w.prototype[s]=function(){return this},f.AsyncIterator=w,f.async=function(e,t,i,o){var n=new w(x(e,t,i,o));return f.isGeneratorFunction(t)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},q(g),g[c]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){while(t.length){var o=t.pop();if(o in e)return i.value=o,i.done=!1,i}return i.done=!0,i}},f.values=j,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(o,n){return s.type="throw",s.arg=e,t.next=o,n&&(t.method="next",t.arg=i),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),M(i),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var o=i.completion;if("throw"===o.type){var n=o.arg;M(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:j(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=i),h}}}function x(e,t,i,o){var n=t&&t.prototype instanceof C?t:C,r=Object.create(n.prototype),a=new $(o||[]);return r._invoke=F(e,i,a),r}function b(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(o){return{type:"throw",arg:o}}}function C(){}function S(){}function k(){}function q(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){function t(i,o,r,a){var s=b(e[i],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,r,a)}),(function(e){t("throw",e,r,a)})):Promise.resolve(l).then((function(e){c.value=e,r(c)}),a)}a(s.arg)}var i;function o(e,o){function n(){return new Promise((function(i,n){t(e,o,i,n)}))}return i=i?i.then(n,n):n()}this._invoke=o}function F(e,t,i){var o=d;return function(n,r){if(o===_)throw new Error("Generator is already running");if(o===p){if("throw"===n)throw r;return D()}i.method=n,i.arg=r;while(1){var a=i.delegate;if(a){var s=O(a,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===d)throw o=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=_;var c=b(e,t,i);if("normal"===c.type){if(o=i.done?p:u,c.arg===h)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=p,i.method="throw",i.arg=c.arg)}}}function O(e,t){var o=e.iterator[t.method];if(o===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,O(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=b(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){while(++o<e.length)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=i,t.done=!0,t};return r.next=r}}return{next:D}}function D(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},a434:function(e,t,i){"use strict";var o=i("23e7"),n=i("da84"),r=i("23cb"),a=i("5926"),s=i("07fa"),c=i("7b0b"),l=i("65f0"),f=i("8418"),d=i("1dde"),u=d("splice"),_=n.TypeError,p=Math.max,h=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var i,o,n,d,u,y,g=c(this),x=s(g),b=r(e,x),C=arguments.length;if(0===C?i=o=0:1===C?(i=0,o=x-b):(i=C-2,o=h(p(a(t),0),x-b)),x+i-o>v)throw _(m);for(n=l(g,o),d=0;d<o;d++)u=b+d,u in g&&f(n,d,g[u]);if(n.length=o,i<o){for(d=b;d<x-o;d++)u=d+o,y=d+i,u in g?g[y]=g[u]:delete g[y];for(d=x;d>x-o+i;d--)delete g[d-1]}else if(i>o)for(d=x-o;d>b;d--)u=d+o-1,y=d+i-1,u in g?g[y]=g[u]:delete g[y];for(d=0;d<i;d++)g[d+b]=arguments[d+2];return g.length=x-o+i,n}})},acd6:function(e,t,i){"use strict";i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861");var o=i("bc3a"),n=i.n(o),r=i("f121"),a=r["b"];t["a"]=function(e,t,i){return new Promise((function(o,r){var s=function(){"/Template/GetTemplate"==e?n()({method:"post",url:a+e,data:t,headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(e){var o=document.createElement("a"),n=e.data.path.substring(e.data.path.lastIndexOf("."));fetch(e.data.path).then((function(e){return e.blob()})).then((function(e){o.href=URL.createObjectURL(e),console.log(o.href),5==t.type||t.type,o.download=i+n,document.body.appendChild(o),o.click()}))})):n()({method:"post",url:a+e,data:t,responseType:"blob",headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(o){console.log(o);var n=o.data,r=new FileReader;r.readAsDataURL(n),r.onload=function(o){var n=document.createElement("a");n.style.display="none","/quotation/exportexcel"==e||"/SettlementSheet/ExportExcel1"==e||"/orderform/exportexcel"==e||"/Quotation/ExportExcel"==e?n.download=i+".xls":"/Template/GetTemplate"==e?5==t.type||6==t.type?n.download=i+".docx":n.download=i+".xls":"/Reporting/GetExcel"==e&&(n.download=i+".xls"),n.href=o.target.result;document.body;document.body.appendChild(n),n.click(),document.body.removeChild(n)}}))};s()}))}},b587:function(e,t,i){"use strict";i("ac1f"),i("5319"),i("8ba4"),i("a9e3"),i("4d63"),i("c607"),i("2c3e"),i("25f0"),i("1276");var o=i("2b0e");function n(e,t,i,o){function n(){var e=t.value;if(i.modifiers.float){if(e=e.replace(/[^\d.]/g,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(/^\./g,"0."),"undefined"!==typeof i.value){var o=0;if("string"!==typeof i.value&&"number"!==typeof i.value||(o=parseInt(i.value)),!isNaN(o)){(!Number.isInteger(o)||o<0)&&(o=0);var n="^(\\d+)\\.(\\d{"+o+"}).*$",r=new RegExp(n);e=0===o?e.replace(r,"$1"):e.replace(r,"$1.$2")}}}else e=e.replace(/[^\d]/g,"");e.split(".").length-1>1&&(e=e.substring(0,e.length-1)),t.value=e}return n}var r={bind:function(e,t,i){var o="INPUT"===e.tagName?e:e.querySelector("input");o.addEventListener("input",n(e,o,t,i),!1)}};o["default"].directive("number-input",r)},e1f8:function(e,t,i){"use strict";i("33e0")},eac5:function(e,t,i){var o=i("861d"),n=Math.floor;e.exports=Number.isInteger||function(e){return!o(e)&&isFinite(e)&&n(e)===e}}}]);