(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cb49267"],{2295:function(e,t,a){},5386:function(e,t,a){"use strict";a("2295")},c740:function(e,t,a){"use strict";var n=a("23e7"),s=a("b727").findIndex,i=a("44d2"),o="findIndex",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),n({target:"Array",proto:!0,forced:l},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},d65d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"coustom_event_list"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"待处理的会议",name:"0"}}),a("el-tab-pane",{attrs:{label:"已处理的会议",name:"1"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showTable,expression:"!showTable"}],staticStyle:{padding:"5px 0px"}},[a("screen",{ref:"screen_coustom_pending",attrs:{filtrate:e.formPending},on:{screen:e.screen,reset:e.reset}}),a("mettingList",{ref:"mettingList1",attrs:{tableData:e.tableDataPending,columns:e.columnsPending,operate:e.operatePending},on:{classifyName:e.classifyName,handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTable,expression:"showTable"}],staticStyle:{padding:"5px 0px"}},[a("screen",{ref:"screen_coustom_processed",attrs:{filtrate:e.formProcessed},on:{screen:e.screen,reset:e.reset}}),a("mettingList",{ref:"mettingList2",attrs:{tableData:e.tableDataProcessed,columns:e.columnsProcessed,operate:e.operateProcessed},on:{classifyName:e.classifyName,handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"业务员信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",[a("el-select",{attrs:{value:e.form.username,placeholder:"请选择"},on:{change:e.checkUser}},e._l(e.selectList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.username}})})),1)],1),a("el-form-item",[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},s=[],i=(a("c740"),a("d3b7"),a("25f0"),a("159b"),a("ac1f"),a("1276"),a("87da")),o=a("b7e4"),l={components:{screen:i["a"],mettingList:o["a"]},data:function(){return{dialogFormVisible:!1,form:{},selectList:[],formLabelWidth:"120px",showTable:!1,activeName:0,formPending:[{label:"公司名称",type:"input",modelVal:"",fieId:"corporate_name",inputType:"string"},{label:"联系人姓名",type:"input",modelVal:"",fieId:"contact_name",inputType:"string"},{label:"联系人手机",type:"input",fieId:"contact_mobile",modelVal:"",inputType:"string"},{label:"会议开始时间",type:"datePicker",modelVal:"",fieId:"event_start_date"},{label:"会议结束时间",type:"datePicker",modelVal:"",fieId:"event_end_date"}],seekPending:{eventName:"",eventId:"",buyer:"",RFPNo:"",po:"",biddingStatus:"",pageSize:10,page:1,eventSearchType:"3",tourist_group_no:"",event_city:"",createUser:"",ownerUser:"",event_assistant:"",event_settlement:"",cvent_no:"",pr:"",event_startdate:"",event_enddate:""},tableDataPending:[],columnsPending:[{label:"会议城市",minWidth:"10%",prop:"cityname",hidden:!0},{label:"客户名称",minWidth:"15%",prop:"customername",hidden:!0},{label:"联系人姓名",minWidth:"15%",prop:"contactsname",hidden:!1},{label:"手机",minWidth:"15%",prop:"phone",hidden:!1},{label:"参会人数",minWidth:"10%",prop:"attendeenum",hidden:!1},{label:"预算",minWidth:"7%",prop:"budget",hidden:!0},{label:"开始日期",minWidth:"15%",prop:"startdate",hidden:!0},{label:"结束日期",minWidth:"15%",prop:"enddate",hidden:!0},{label:"提报时间",minWidth:"15%",prop:"createdate",hidden:!0}],operatePending:[{propName:"查看详情",classifyName:"particulars"},{propName:"派团",classifyName:"enterGroup"}],formProcessed:[{label:"公司名称",type:"input",modelVal:"",fieId:"corporate_name",inputType:"string"},{label:"联系人姓名",type:"input",modelVal:"",fieId:"contact_name",inputType:"string"},{label:"联系人手机",type:"input",fieId:"contact_mobile",modelVal:"",inputType:"string"},{label:"会议开始时间",type:"datePicker",modelVal:"",fieId:"event_start_date"},{label:"会议结束时间",type:"datePicker",modelVal:"",fieId:"event_end_date"},{label:"状态",type:"select",modelVal:"",fieId:"state",selsetVal:[{code:"1",name:"已派团"},{code:"2",name:"已取消"}]},{label:"业务负责人",type:"input",modelVal:"",inputType:"string",fieId:"fullname"}],seekProcessed:{eventName:"",eventId:"",buyer:"",RFPNo:"",po:"",biddingStatus:"",pageSize:10,page:1,eventSearchType:"3",tourist_group_no:"",event_city:"",createUser:"",ownerUser:"",event_assistant:"",event_settlement:"",cvent_no:"",pr:"",event_startdate:"",event_enddate:""},tableDataProcessed:[],columnsProcessed:[{label:"会议编号",minWidth:"10%",prop:"eventnum",align:"center",hidden:!0},{label:"会议城市",minWidth:"10%",prop:"cityname",hidden:!0},{label:"客户名称",minWidth:"15%",prop:"customername",hidden:!0},{label:"联系人姓名",minWidth:"15%",prop:"contactsname",hidden:!1},{label:"手机",minWidth:"15%",prop:"phone",hidden:!1},{label:"参会人数",minWidth:"10%",prop:"attendeenum",hidden:!1},{label:"预算",minWidth:"7%",prop:"budget",hidden:!0},{label:"开始日期",minWidth:"15%",prop:"startdate",hidden:!0},{label:"结束日期",minWidth:"15%",prop:"enddate",hidden:!0},{label:"业务负责人",minWidth:"15%",prop:"fullname",hidden:!0},{label:"状态",minWidth:"15%",prop:"status",hidden:!0}],operateProcessed:[{propName:"查看详情",classifyName:"particulars"}],seek:{customername:"",contactsname:"",phone:"",startdate:"",enddate:"",status:"",fullname:"",page:"",pageSize:""},status:"0",page:"1",pageSize:"10",row:{},customercontactsid:"",contactmail:""}},mounted:function(){this.seek.status=this.status,this.seek.page=this.page,this.seek.pageSize=this.pageSize,this.$refs.mettingList1.tableTitle="会议列表",this.$refs.mettingList2.tableTitle="会议列表",this.$route.query.tab?(console.log(this.$route.query.tab),this.activeName=this.$route.query.tab,this.handleClick()):this.getEventList()},methods:{submit:function(){this.geteventdetails({code:this.row.code,tenantcode:this.row.tenantcode}),this.dialogFormVisible=!1},geteventdetails:function(e){var t=this;this.$api.getCoustomereventdetails(e,"POST").then((function(e){if(console.log(e),e){var a={eventid:e.id,id:e.id,type:"2",citycode:e.citycode,startdate:e.startdate,enddate:e.enddate,attendeenum:e.attendeenum,budget:e.budget,items:[],remark:e.remark,tenantcode:e.tenantcode,code:e.code,status:"1",username:t.form.userid,optcustomerid:e.customerid,customername:e.customername,customercontactsid:t.customercontactsid,customercontact:t.contactmail,customer:t.form.email};t.$api.Coustomereventdetailsupdate(a,"POST").then((function(e){console.log(e),t.getEventList()}))}1==e.type&&(t.readonly=!0)}))},checkUser:function(e){console.log(e,44);var t=this.selectList.findIndex((function(t){return e===t.username}));this.form=this.selectList[t],console.log(this.form,this.selectList)},handleSizeChange:function(e){console.log("每页 ".concat(e," 条-")),this.pageSize=e.toString(),this.page="1",this.seek.pageSize=this.pageSize,this.seek.page=this.page,this.getEventList()},handleCurrentChange:function(e){console.log(e),console.log("当前页: ".concat(e,"-")),this.page=e.toString(),this.seek.page=this.page,this.getEventList()},classifyName:function(e,t){console.log(e,t);var a=this.$options.methods,n=this;a[e](n,t)},reset:function(){this.seek={customername:"",contactsname:"",phone:"",startdate:"",enddate:"",fullname:"",status:this.showTable?this.status="1,2":this.status="0",page:this.page,pageSize:this.pageSize},this.getEventList()},screen:function(e){console.log(e),0==this.activeName?this.status="0":0==this.status&&(this.status="1,2"),console.log(this.status),this.seek={customername:e.corporate_name,contactsname:e.contact_name,phone:e.contact_mobile,startdate:e.event_start_date,enddate:e.event_end_date,status:this.status,fullname:e.fullname,page:this.page,pageSize:this.pageSize},e.state&&(this.seek.status=e.state),this.getEventList()},getEventList:function(){var e=this;this.$api.getCoustomerEventList(this.seek,"POST").then((function(t){console.log(t),t.EventModels&&t.EventModels.length>0?(t.EventModels.forEach((function(e){1==e.status?e.status="已派团":2==e.status&&(e.status="已取消"),e.startdate=e.startdate.split(" ")[0],e.enddate=e.enddate.split(" ")[0]})),e.tableDataProcessed=e.tableDataPending=t.EventModels):e.tableDataProcessed=e.tableDataPending=[],console.log(e.tableDataProcessed,e.tableDataPending)}))},handleClick:function(e){this.seek={customername:"",contactsname:"",phone:"",startdate:"",enddate:"",fullname:"",status:this.showTable?this.status="1,2":this.status="0",page:this.page,pageSize:this.pageSize},0==this.activeName?(this.formPending.forEach((function(e){e.modelVal=""})),this.showTable=!1,this.$refs.screen_coustom_processed.statusList=!1,this.$refs.screen_coustom_processed.showFlag=!1,this.seek.status="0"):(this.formProcessed.forEach((function(e){e.modelVal=""})),this.showTable=!0,this.$refs.screen_coustom_pending.statusList=!1,this.$refs.screen_coustom_pending.showFlag=!1,this.seek.status="1,2"),this.getEventList()},particulars:function(e,t){console.log(e,t,"详情"),e.$router.push({path:"/coustomEventDetail",query:{code:t.code,tenantcode:t.tenantcode,tab:e.activeName,customercontactsid:t.customercontactsid,contactmail:t.contactmail}})},enterGroup:function(e,t){console.log(e,t,"派团"),e.$api.sentdelegation({customerid:t.customerid},"POST").then((function(a){console.log(a),a&&(e.selectList=a,e.row=t)})),e.customercontactsid=t.customercontactsid,e.contactmail=t.contactmail,e.dialogFormVisible=!0}}},r=l,d=(a("5386"),a("2877")),c=Object(d["a"])(r,n,s,!1,null,null,null);t["default"]=c.exports}}]);