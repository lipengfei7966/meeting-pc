(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67945d90"],{"06c1":function(e,t,s){var i=s("17e9"),a=String,n=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw n("Can't set "+a(e)+" as a prototype")}},2654:function(e,t,s){"use strict";s.d(t,"j",(function(){return i})),s.d(t,"k",(function(){return a})),s.d(t,"i",(function(){return n})),s.d(t,"h",(function(){return r})),s.d(t,"l",(function(){return o})),s.d(t,"e",(function(){return l})),s.d(t,"f",(function(){return c})),s.d(t,"b",(function(){return _})),s.d(t,"g",(function(){return d})),s.d(t,"a",(function(){return u})),s.d(t,"c",(function(){return p})),s.d(t,"d",(function(){return m}));s("9b2a");function i(e,t,s){const i=/^((0\d{2,3}-\d{7,8})|(1[34578]\d{9}))$/;""==t||void 0==t||null==t||i.test(t)||""==t?s():s(new Error("请输入正确的电话号码或者固话号码"))}function a(e,t,s){const i=/0\d{2}-\d{7,8}/;""==t||void 0==t||null==t||i.test(t)||""==t?s():s(new Error("请输入正确的固话（格式：区号+号码,如010-1234567）"))}function n(e,t,s){const i=/^[1][3,4,5,7,8][0-9]{9}$/;""==t||void 0==t||null==t||i.test(t)||""==t?s():s(new Error("请输入正确的电话号码"))}function r(e,t,s){const i=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;""==t||void 0==t||null==t||i.test(t)?s():s(new Error("请输入正确的邮箱地址"))}function o(e,t,s){const i=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;""==t||void 0==t||null==t||i.test(t)?s():s(new Error("请输入正确的URL"))}function l(e,t,s){if(!t)return s(new Error("输入不可以为空"));setTimeout(()=>{if(Number(t)){const e=/^[0-9]*[1-9][0-9]*$/,i=e.test(t);i?s():s(new Error("请输入正整数"))}else s(new Error("请输入正整数"))},0)}function c(e,t,s){t||s(),setTimeout(()=>{if(Number(t)){const e=/^[0-9]*[1-9][0-9]*$/,i=e.test(t);i?s():s(new Error("请输入正整数"))}else s(new Error("请输入正整数"))},1e3)}function _(e,t){let s={},i=[];if(e=Array.isArray(e)?e:[],t)for(let a=0;a<e.length;a++)if(s[e[a].date]){for(let t=0;t<i.length;t++)if(e[a].date===i[t].date){i[t].settlement+=Number("object"==typeof e[a].settlement_total_price?e[a].settlement_total_price.value:e[a].settlement_total_price),i[t].orgSettlement+=Number("object"==typeof e[a].total_price?e[a].total_price.value:e[a].total_price),i[t].data.push(e[a]);break}}else i.push({date:e[a].date,settlement:Number("object"==typeof e[a].settlement_total_price?e[a].settlement_total_price.value:e[a].settlement_total_price),orgSettlement:Number("object"==typeof e[a].total_price?e[a].total_price.value:e[a].total_price),data:[e[a]]}),s[e[a].date]=e[a];else for(let a=0;a<e.length;a++)if(s[e[a].date]){for(let t=0;t<i.length;t++)if(e[a].date===i[t].date){i[t].settlement+="object"==typeof e[a].settlement_price?e[a].settlement_price.value:e[a].settlement_price,i[t].orgSettlement+="object"==typeof e[a].price?e[a].price.value:e[a].price,i[t].data.push(e[a]);break}}else i.push({date:e[a].date,settlement:"object"==typeof e[a].settlement_price?e[a].settlement_price.value:e[a].settlement_price,orgSettlement:"object"==typeof e[a].price?e[a].price.value:e[a].price,data:[e[a]]}),s[e[a].date]=e[a];return i}function d(e){let t={},s=[];e=Array.isArray(e)?e:[];for(let i=0;i<e.length;i++)if(t[e[i].checkindate]){for(let t=0;t<s.length;t++)if(e[i].checkindate===s[t].checkindate){"大床房"==e[i].roomtype?(s[t].bigBedNum=e[i].roomcount,s[t].totalNum+=e[i].roomcount):"双床房"==e[i].roomtype?(s[t].doubleBedNum=e[i].roomcount,s[t].totalNum+=e[i].roomcount):(s[t].suiteNum=e[i].roomcount,s[t].totalNum+=e[i].roomcount);break}}else e[i].bigBedNum=0,e[i].doubleBedNum=0,e[i].suiteNum=0,e[i].totalNum=0,"大床房"==e[i].roomtype?(e[i].bigBedNum=e[i].roomcount,e[i].totalNum+=e[i].roomcount):"双床房"==e[i].roomtype?(e[i].doubleBedNum=e[i].roomcount,e[i].totalNum+=e[i].roomcount):(e[i].suiteNum=e[i].roomcount,e[i].totalNum+=e[i].roomcount),s.push(e[i]),t[e[i].checkindate]=e[i];return s}function u(e){let t={},s=[];for(let i=0;i<e.length;i++){let a=(e[i].build?e[i].build.price:0)+(e[i].rentalCosts?e[i].rentalCosts.price:0);if(e[i].equipment&&e[i].equipment.forEach(e=>{a+=e.price||0}),t[e[i].rentalCosts.time]){for(let t=0;t<s.length;t++)if(e[i].rentalCosts.time===s[t].time){s[t].totalPrice+=(e[i].build?e[i].build.price:0)+(e[i].rentalCosts?e[i].rentalCosts.price:0),e[i].equipment&&e[i].equipment.forEach(e=>{s[t].totalPrice+=e.price||0}),s[t].data.push(e[i]);break}}else s.push({time:e[i].rentalCosts.time,totalPrice:a,data:[e[i]]}),t[e[i].rentalCosts.time]=e[i]}return s}function p(e,t="time"){let s={},i=[];e=e||[];for(let a=0;a<e.length;a++)if(s[e[a][t]]){for(let s=0;s<i.length;s++)if(e[a][t]===i[s].time){i[s].data.push(e[a]),i[s].car.push(e[a]);break}}else i.push({time:e[a][t],car_date:e[a][t].substring(0,10),breakfast:e[a].breakfast,networks:e[a].networks,describe:e[a].describe,otherrequirements:e[a].otherrequirements,type:e[a].type,room_budget:e[a].room_budget,purpose:e[a].purpose,offer_remarks:e[a].offer_remarks,comments:e[a].comments,data:[e[a]],car:[e[a]]}),s[e[a][t]]=e[a];return i}function m(e,t="time"){let s={},i=[];e=e||[];for(let a=0;a<e.length;a++)i.push({time:e[a][t],car_date:e[a][t].substring(0,10),breakfast:e[a].breakfast,networks:e[a].networks,describe:e[a].describe,otherrequirements:e[a].otherrequirements,type:e[a].type,room_budget:e[a].room_budget,purpose:e[a].purpose,offer_remarks:e[a].offer_remarks,comments:e[a].comments,data:[e[a]],car:[e[a]]}),s[e[a][t]]=e[a];return i}},2905:function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"event"},[t("div",{staticClass:"demand_item"},[t("div",{staticClass:"demand_top flex_row justify_between"},[t("div",{staticClass:"demand_name flex_row align_center"},[t("h2",{staticStyle:{"margin-right":"20px"}},[e._v("会场需求")]),t("el-switch",{model:{value:e.is_conference_rooms,callback:function(t){e.is_conference_rooms=t},expression:"is_conference_rooms"}})],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_conference_rooms,expression:"is_conference_rooms == '1'"}]},[e._l(e.conferenceList,(function(s,i){return t("div",{key:i},[t("div",{staticClass:"demand_main"},[e._m(0,!0),t("el-table",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_conference_rooms,expression:"is_conference_rooms == '1'"}],attrs:{border:"","show-header":!1,data:s.conference,"min-width":"1200"}},[t("el-table-column",{attrs:{label:"日期",prop:"is_important",width:e.isCheck?65:200,align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"event_title"},[t("span",[e._v("会场")]),t("span",[e._v(e._s(i+1))])]),e.isCheck?e._e():t("div",{staticClass:"event_date"},[t("span",{staticClass:"label"},[e._v("日期：")]),t("el-select",{staticStyle:{width:"135px"},attrs:{size:"small",placeholder:"请选择"},on:{change:e.selectDateTap},model:{value:s.conference_date,callback:function(t){e.$set(s,"conference_date",t)},expression:"meetItem.conference_date"}},e._l(e.meetDate,(function(s){return t("el-option",{key:s,attrs:{disabled:e.getDisTap(s),label:s,value:s}})})),1)],1),t("el-button",{staticClass:"delete_event",attrs:{size:"small",type:"danger",plain:""},on:{click:function(t){return e.deleteEvent(i,a.$index)}}},[e._v("删除会场")]),0!==a.$index?t("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return e.copyPreEvent(i,a.$index)}}},[e._v("复制上一场")]):e._e(),t("div",[0!==i?t("el-button",{staticClass:"copy_button",staticStyle:{margin:"30px 0"},on:{click:function(t){return e.copyPreDate(i)}}},[e._v("复制上一场")]):e._e()],1)]}}],null,!0)}),e.isCheck?t("el-table-column",{attrs:{label:"日期",prop:"is_important",width:"170"}},[[t("div",{staticClass:"event_date"},[e._v(" 日期： "),t("span",{staticClass:"label"},[e._v(e._s(s.conference_date))])])]],2):e._e(),t("el-table-column",{attrs:{label:"时间",prop:"is_important",width:"245"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("div",{staticClass:"stage flex_column align_start time",staticStyle:{height:"320px"}},[t("div",{staticClass:"text_left label t666"},[e._v("开始时间："),t("span",{staticClass:"333"},[e._v(e._s(s.row.conference_start_time))])]),t("div",{staticClass:"text_left label t666"},[e._v("结束时间："),t("span",{staticClass:"t333"},[e._v(e._s(s.row.conference_end_time))])]),t("div",{staticClass:"text_left label"},[e._v("参与人数："),t("span",[e._v(e._s(s.row.attendees))])]),t("div",{staticClass:"text_left label"},[e._v("会场面积范围："),t("span",[e._v(e._s(s.row.min_area)+"-"+e._s(s.row.max_area)+"sqm")])])]):e._e(),e.isCheck?e._e():t("div",{staticClass:"stage flex_column align_start time",staticStyle:{height:"320px"}},[t("div",{staticClass:"text_left label"},[e._v("会场开始时间")]),t("el-time-select",{staticClass:"width_100__",attrs:{placeholder:"起始时间",value:"12:00","picker-options":{start:"00:00",step:"01:00",end:"24:00"},size:"small"},on:{change:function(e){s.row.conference_end_time=""}},model:{value:s.row.conference_start_time,callback:function(t){e.$set(s.row,"conference_start_time",t)},expression:"scope.row.conference_start_time"}}),t("div",{staticClass:"text_left label"},[e._v("会场结束时间")]),t("el-time-select",{staticClass:"width_100__",attrs:{placeholder:"结束时间",size:"small","picker-options":e.getStep(s.row.conference_start_time)},model:{value:s.row.conference_end_time,callback:function(t){e.$set(s.row,"conference_end_time",t)},expression:"scope.row.conference_end_time"}}),t("div",{staticClass:"text_left label"},[e._v("参与人数")]),t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"width_100__",attrs:{size:"small",clearable:""},model:{value:s.row.attendees,callback:function(t){e.$set(s.row,"attendees",t)},expression:"scope.row.attendees"}}),t("div",{staticClass:"text_left label"},[e._v("会场面积范围")]),t("div",{staticStyle:{display:"flex"}},[t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:number",arg:"number"}],staticClass:"width_80",staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.row.min_area,callback:function(t){e.$set(s.row,"min_area",t)},expression:"scope.row.min_area"}}),t("span",{staticClass:"line"},[e._v("—")]),t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:number",arg:"number"}],staticClass:"width_80",staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:s.row.max_area,callback:function(t){e.$set(s.row,"max_area",t)},expression:"scope.row.max_area"}}),t("span",{staticClass:"sqm"},[e._v("sqm")])],1)],1)]}}],null,!0)}),t("el-table-column",{attrs:{label:"摆台",prop:"is_important",width:"280"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("div",{staticClass:"stage flex_column align_start",staticStyle:{height:"320px"}},[t("div",{staticClass:"text_left label"},[e._v("摆台形式："),e._l(e.swingList,(function(i){return t("span",{directives:[{name:"show",rawName:"v-show",value:i.key==s.row.room_setup_type,expression:"item.key == scope.row.room_setup_type"}],key:i.key},[e._v(e._s(i.value))])}))],2),t("div",{staticClass:"flex_row",on:{click:function(t){return e.isSetStageTap(i,s.$index,s.row.is_setting_in_advance)}}},[t("el-checkbox",{attrs:{disabled:""},model:{value:1==s.row.is_setting_in_advance,callback:function(t){e.$set(s.row,"is_setting_in_advance == 1",t)},expression:"scope.row.is_setting_in_advance == 1"}}),e._v("  提前搭建 ")],1),t("div",{directives:[{name:"show",rawName:"v-show",value:1==s.row.is_setting_in_advance,expression:"scope.row.is_setting_in_advance == 1"}],staticClass:"width-100__"},[t("p",{staticClass:"label"},[e._v("搭建入场时间："),t("span",[e._v(e._s(s.row.setting_in_advance_date)+" "+e._s(s.row.setting_in_advance_time))])]),t("p",{staticClass:"label"},[e._v("搭建彩排完成时间："),t("span",[e._v(e._s(s.row.rehearsal_date)+" "+e._s(s.row.rehearsal_time))])]),t("p",{staticClass:"label"},[e._v("备注："),t("span",[e._v(e._s(s.row.describe))])])])]):e._e(),e.isCheck?e._e():t("div",{staticClass:"stage flex_column align_start",staticStyle:{height:"320px"}},[t("div",{staticClass:"text_left label"},[e._v("摆台形式")]),t("el-select",{staticClass:"width-100__",attrs:{size:"small",clearable:""},model:{value:s.row.room_setup_type,callback:function(t){e.$set(s.row,"room_setup_type",t)},expression:"scope.row.room_setup_type"}},e._l(e.swingList,(function(e){return t("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1),t("div",{staticClass:"flex_row",on:{click:function(t){return e.isSetStageTap(i,s.$index,s.row.is_setting_in_advance)}}},[t("el-checkbox",{attrs:{disabled:""},model:{value:1==s.row.is_setting_in_advance,callback:function(t){e.$set(s.row,"is_setting_in_advance == 1",t)},expression:"scope.row.is_setting_in_advance == 1"}}),e._v("  提前搭建 ")],1),t("div",{directives:[{name:"show",rawName:"v-show",value:1==s.row.is_setting_in_advance,expression:"scope.row.is_setting_in_advance == 1"}],staticClass:"width-100__"},[t("p",{staticClass:"label"},[e._v("搭建入场时间")]),t("div",{staticClass:"double_input width-100__"},[t("el-date-picker",{staticClass:"width_130",staticStyle:{width:"130px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"搭建日期",size:"mini","picker-options":e.datePickers[i]},on:{change:function(t){return e.setLimitEnd(s.row.setting_in_advance_date,s.row.setting_in_advance_time,s.row.rehearsal_date,s.row.rehearsal_time,i,s.$index)}},model:{value:s.row.setting_in_advance_date,callback:function(t){e.$set(s.row,"setting_in_advance_date",t)},expression:"scope.row.setting_in_advance_date"}}),t("el-time-select",{staticClass:"width_130",staticStyle:{width:"120px"},attrs:{placeholder:"搭建时间","picker-options":{start:"00:00",step:"01:00",end:"24:00"},size:"mini"},on:{change:function(t){return e.setLimitEnd(s.row.setting_in_advance_date,s.row.setting_in_advance_time,s.row.rehearsal_date,s.row.rehearsal_time,i,s.$index)}},model:{value:s.row.setting_in_advance_time,callback:function(t){e.$set(s.row,"setting_in_advance_time",t)},expression:"scope.row.setting_in_advance_time"}})],1),t("p",{staticClass:"label",staticStyle:{"margin-top":"10px"}},[e._v("搭建彩排完成时间")]),t("div",{staticClass:"double_input",staticStyle:{display:"flex","margin-bottom":"10px"}},[t("el-date-picker",{staticClass:"width_130",staticStyle:{width:"130px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"搭建日期",size:"mini","picker-options":e.datePickers[i]},on:{change:function(t){return e.setLimitEnd(s.row.setting_in_advance_date,s.row.setting_in_advance_time,s.row.rehearsal_date,s.row.rehearsal_time,i,s.$index)}},model:{value:s.row.rehearsal_date,callback:function(t){e.$set(s.row,"rehearsal_date",t)},expression:"scope.row.rehearsal_date"}}),t("el-time-select",{staticClass:"width_130",staticStyle:{width:"120px"},attrs:{placeholder:"彩排时间","picker-options":{start:"00:00",step:"01:00",end:"24:00"},size:"mini"},on:{change:function(t){return e.setLimitEnd(s.row.setting_in_advance_date,s.row.setting_in_advance_time,s.row.rehearsal_date,s.row.rehearsal_time,i,s.$index)}},model:{value:s.row.rehearsal_time,callback:function(t){e.$set(s.row,"rehearsal_time",t)},expression:"scope.row.rehearsal_time"}})],1),t("el-input",{staticClass:"font_14",attrs:{type:"textarea",placeholder:"提前进场搭建酒店会收取相应费用，请根据实际需求进行填写，但务必预留充分搭建彩排时间。",size:"small",rows:5},model:{value:s.row.describe,callback:function(t){e.$set(s.row,"describe",t)},expression:"scope.row.describe"}})],1)],1)]}}],null,!0)}),t("el-table-column",{attrs:{label:"会场设备"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("div",{staticClass:"stage flex_column align_start"},[t("div",{staticClass:"implementor"},[t("span",{staticClass:"label t666"},[e._v("会场设备：")]),t("div",{staticClass:"equipment_tag"},e._l(s.row.equipment,(function(s){return t("span",{key:s.id,staticClass:"t333"},[e._v(e._s(s.value))])})),0)]),t("div",{staticClass:"implementor"},[t("span",{staticClass:"label t666"},[e._v("说明：")]),t("div",{staticClass:"equipment_tag"},[t("span",{staticClass:"t333"},[e._v(e._s(s.row.microphone_describe))])])])]):e._e(),e.isCheck?e._e():t("div",{staticClass:"tag flex_column align_start",staticStyle:{"min-height":"320px"}},[t("div",{staticClass:"implementor"},[t("span",{staticClass:"label"},[e._v("会场设备")]),t("el-button",{staticClass:"el-icon-delete checked_delete",attrs:{type:"text"},on:{click:function(t){return e.clearCheckTap(i,s.$index)}}},[e._v("清空勾选")])],1),t("div",{staticClass:"equipment_tag"},e._l(s.row.equipment,(function(a,n){return t("span",{class:0==a.is_delete?"select_tag tag":"tag",on:{click:function(t){return e.selectTagTap(n,i,s.$index)}}},[e._v(e._s(a.value))])})),0),t("el-input",{attrs:{type:"textarea",rows:5,placeholder:"说明以上设备数量和尺寸 / 补充其他设备"},model:{value:s.row.microphone_describe,callback:function(t){e.$set(s.row,"microphone_describe",t)},expression:"scope.row.microphone_describe"}})],1)]}}],null,!0)})],1)],1)])})),t("div",{staticClass:"bottom_tr"},[t("el-button",{staticClass:"mar_5",attrs:{type:"primary",size:"medium"},on:{click:e.addOtherEvent}},[e._v("添加其他会场需求")])],1)],2)]),t("el-dialog",{attrs:{visible:e.setStageShow,width:"30%",title:"提示",align:"center"},on:{"update:visible":function(t){e.setStageShow=t}}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.stageBtn,expression:"stageBtn"}]},[e._v("提前进场搭建酒店会收取相应费用，请根据实际需求进行填写，但务必预留充分搭建彩排时间。")]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.stageBtn,expression:"!stageBtn"}]},[e._v("如果您在会议时间之外还需占用场地（如搭建、彩排），请务必填写此项。")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.stageBtn,expression:"stageBtn"}],attrs:{type:"primary"},on:{click:function(t){return e.changeStageTap(1)}}},[e._v("确 定")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.stageBtn,expression:"!stageBtn"}],attrs:{type:"primary"},on:{click:function(t){return e.changeStageTap(1)}}},[e._v("保 留")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.stageBtn,expression:"!stageBtn"}],attrs:{type:"primary"},on:{click:function(t){return e.changeStageTap(0)}}},[e._v("不需要")])],1)])],1)},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"demand_main_base flex_row align_center",staticStyle:{"justify-content":"flex-end"}},[t("div")])}],n=s("393b"),r=s("cf45"),o={name:"event",props:["swingList","dateArr","isCheck"],directives:{inputFilter:n["a"]},data(){return{is_conference_rooms:!0,conference_rooms_budget:0,conferenceList:[{conference_date:"",conference:[{id:"",order_name:1,conference_id:"",event_info_id:"",is_important:0,conference_start_time:"09:00",conference_end_time:"16:00",attendees:"",room_setup_type:"001-1",is_setting_in_advance:1,setting_in_advance_date:"",setting_in_advance_time:"09:00",rehearsal_date:"",rehearsal_time:"18:00",describe:"",wire_microphone_count:"",wireless_microphone_count:"",microphone_describe:"",equipment:[],is_delete:0}]}],isChangeStageIdx_a:0,isChangeStageIdx_b:0,setStageShow:!1,stageBtn:!1,step:{start:"08:00",step:"01:00",end:"22:00"},tagList:[],meetDate:[],disMeetDate:[],datePickers:[],getStepEnd:{disabledDate:e=>e.getTime()<Date.now()-864e5},getStepStart:{disabledDate:e=>e.getTime()<Date.now()-864e5}}},mounted(){this.$nextTick(()=>{this.addDate()})},methods:{formatNum(){let e=this.conference_rooms_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.conference_rooms_budget=e},setLimitEnd(e,t,s,i,a,n){let r=e+" "+t,o=s+" "+i;r=new Date(r).getTime(),o=new Date(o).getTime(),e&&s&&r>=o&&(this.$message.warning("搭建入场时间不能早于彩排完成时间"),this.conferenceList[a].conference[n].rehearsal_time="")},getStep(e){return{start:"00:00",step:"01:00",end:"24:00",minTime:e}},addDate(){this.conferenceList.forEach((e,t)=>{!e.conference_date&&this.meetDate.length&&0===t&&(e.conference_date=this.meetDate[0]),-1===this.disMeetDate.indexOf(e.conference_date)&&this.disMeetDate.push(e.conference_date)})},selectDateTap(){this.disMeetDate=[],this.conferenceList.forEach(e=>{e.conference_date&&this.disMeetDate.push(e.conference_date)})},getDisTap(e){},changeStageTap(e){let t=this.isChangeStageIdx_a,s=this.isChangeStageIdx_b,i=this.conferenceList[t].conference[s];i.is_setting_in_advance=e,this.conferenceList[t].conference.splice(s,1,i),this.stageBtn=1===e,this.setStageShow=!1},isSetStageTap(e,t,s){this.stageBtn=0==s,this.setStageShow=!0,this.isChangeStageIdx_a=e,this.isChangeStageIdx_b=t},selectTagTap(e,t,s){let i=this.conferenceList[t].conference[s].equipment[e];i.is_delete=0==i.is_delete?1:0,this.conferenceList[t].conference[s].equipment.splice(e,1,i)},clearCheckTap(e,t){this.conferenceList[e].conference[t].equipment=JSON.parse(JSON.stringify(this.tagList))},deleteEvent(e,t){1===this.conferenceList.length?1===this.conferenceList[e].conference.length?this.is_conference_rooms="0":this.conferenceList[e].conference.splice(t,1):1===this.conferenceList[e].conference.length?this.conferenceList.splice(e,1):this.conferenceList[e].conference.splice(t,1),this.conferenceList.forEach((e,t)=>{e.conference.order_name=t+1}),this.selectDateTap()},copyPreEvent(e,t){if(t>0){let s=JSON.parse(JSON.stringify({...this.conferenceList[e].conference[t-1]}));s.id=this.conferenceList[e].conference[t].id,s.is_important=1,this.conferenceList[e].conference.splice(t,1,s)}},copyPreDate(e){let t=JSON.parse(JSON.stringify({...this.conferenceList[e-1]}));t.conference.forEach((t,s)=>{t.id=this.conferenceList[e].conference[s]?this.conferenceList[e].conference[s].id:""}),t.conference_date=this.conferenceList[e].conference_date,t.conference[0].order_name=e+1,this.conferenceList.splice(e,1,t)},addTodayEvent(e){let t={id:"",conference_id:"",event_info_id:"",conference_date:"",is_important:1,conference_start_time:"",conference_end_time:"",attendees:"",room_setup_type:"",is_setting_in_advance:1,setting_in_advance_date:"",rehearsal_date:"",describe:"",wire_microphone_count:"",wireless_microphone_count:"",microphone_describe:"",equipment:JSON.parse(JSON.stringify(this.tagList)),is_delete:0},s=this.conferenceList[e].conference.length;this.conferenceList[e].conference.splice(s,0,t)},addOtherEvent(){let e=this.meetDate.filter(e=>-1===this.disMeetDate.indexOf(e)),t=[{id:"",order_name:"",event_info_id:"",conference_id:"",conference_date:e.length?e[0]:"",is_important:0,conference_start_time:"09:00",conference_end_time:"16:00",attendees:"",room_setup_type:"001-1",is_setting_in_advance:1,setting_in_advance_date:"",setting_in_advance_time:"09:00",rehearsal_date:"",rehearsal_time:"18:00",describe:"",wire_microphone_count:"",wireless_microphone_count:"",microphone_describe:"",equipment:JSON.parse(JSON.stringify(this.tagList)),is_delete:0}],s=this.conferenceList.length;t[0].setting_in_advance_date=Object(r["h"])(this.meetDate[0],-1),t[0].rehearsal_date=Object(r["h"])(this.meetDate[0],-1),t[0].order_name=s+1,this.conferenceList.splice(s,0,{conference:t,conference_date:e.length?e[0]:""}),this.disMeetDate.push(e.length?e[0]:"")}},watch:{meetDate:{handler(e,t){this.conferenceList[0].conference[0].setting_in_advance_date=Object(r["h"])(e[0],-1),this.conferenceList[0].conference[0].rehearsal_date=Object(r["h"])(e[0],-1)},deep:!0,immediate:!0},conferenceList:{handler(e,t){this.datePickers=[],e.forEach(e=>{this.datePickers.push({disabledDate:t=>t.getTime()>new Date(e.conference_date)})})},deep:!0,immediate:!0}}},l=o,c=s("0b56"),_=Object(c["a"])(l,i,a,!1,null,"5bac3434",null);t["a"]=_.exports},3471:function(e,t,s){var i=s("17e9"),a=s("de03"),n=s("78a8");e.exports=function(e,t,s){var r,o;return n&&i(r=t.constructor)&&r!==s&&a(o=r.prototype)&&o!==s.prototype&&n(e,o),e}},"393b":function(e,t,s){"use strict";const i=function(e,t,s){e.addEventListener(t,s,!1)},a=function(e){i(e,"keyup",()=>{e.value=e.value.replace(/\s+/,"")})},n=function(e){i(e,"keyup",()=>{e.value=e.value.replace(/\D/g,""),console.log(e.value)})},r=function(e){i(e,"keyup",()=>{e.value=e.value.replace(/[^\d.]*/g,""),isNaN(e.value)&&(e.value="")})},o=function(e){i(e,"keyup",()=>{e.value=e.value.replace(/[^\a-\z\A-\Z0-9\u4E00-\u9FA5]/g,"")})},l=function(e){i(e,"blur",()=>{if(!e.value)return;const t=new RegExp("^(13|14|15|16|17|18|19)[0-9]{9}$");t.test(e.value)||(e.value="")})},c=function(e){i(e,"blur",()=>{if(!e.value)return;const t=/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/;t.test(e.value)||(e.value="")})};var _={bind(e,t){switch("input"!==e.tagName.toLowerCase()&&(e=e.getElementsByTagName("input")[0]),a(e),t.arg){case"int":n(e);break;case"price":r(e);break;case"special":o(e);break;case"phone":l(e);break;case"url":c(e);break;default:break}}};const d=function(e){e.directive("inputFilter",_)};window.Vue&&(window.inputFilter=_,Vue.use(d)),_.install=d;t["a"]=_},"5f25":function(e,t,s){e.exports=s.p+"img/返回.25769739.png"},"672b":function(e,t,s){var i=s("b23f"),a=Function.prototype,n=a.apply,r=a.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?r.bind(n):function(){return r.apply(n,arguments)})},6813:function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"room"},[t("div",{staticClass:"demand_item"},[t("div",{staticClass:"demand_top flex_row justify_between"},[t("div",{staticClass:"demand_name flex_row align_center"},[t("h2",{staticStyle:{"margin-right":"20px"}},[e._v("客房需求")]),t("el-switch",{model:{value:e.is_guest_room,callback:function(t){e.is_guest_room=t},expression:"is_guest_room"}})],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.is_guest_room,expression:"is_guest_room"}],staticClass:"demand_main"},[e.isCheck?t("div",{staticClass:"demand_main_base flex_row align_center"},[t("div",{staticClass:"mar_r20"},[t("span",{staticClass:"mar_r10"},[e._v("入住 / 离店日期")]),t("el-select",{staticStyle:{width:"120px"},attrs:{disabled:"",size:"small"},on:{change:e.changeCheckDate},model:{value:e.check_in_date,callback:function(t){e.check_in_date=t},expression:"check_in_date"}},e._l(e.dateArr,(function(e,s){return t("el-option",{key:s,attrs:{label:e,value:e}})})),1),t("span",{staticClass:"line"},[e._v("—")]),t("el-select",{staticStyle:{width:"120px"},attrs:{disabled:"",size:"small"},on:{change:e.changeCheckDate},model:{value:e.out_date,callback:function(t){e.out_date=t},expression:"out_date"}},e._l(e.outDate,(function(s,i){return t("el-option",{key:i,attrs:{disabled:i<=e.disabledIndex,label:s,value:s}})})),1)],1),t("div",{staticClass:"mar_r20"},[t("span",{staticClass:"mar_r10"},[e._v("房标")]),t("el-input",{staticStyle:{width:"80px"},attrs:{readonly:"",type:"text",placeholder:"非必填",size:"small"},on:{input:function(t){return e.formatNum(2)}},model:{value:e.night_budget,callback:function(t){e.night_budget=t},expression:"night_budget"}}),e._v(" 元/间夜 ")],1),t("div",{staticClass:"mar_r20"},[t("el-checkbox",{attrs:{disabled:""},model:{value:e.is_networks,callback:function(t){e.is_networks=t},expression:"is_networks"}},[e._v("需要宽带")]),t("el-checkbox",{attrs:{disabled:""},model:{value:e.is_breakfast,callback:function(t){e.is_breakfast=t},expression:"is_breakfast"}},[e._v("需要早餐")])],1),t("div",{staticClass:"mar_r20"},[t("el-select",{staticStyle:{width:"160px"},attrs:{disabled:"",size:"small"},model:{value:e.is_Inside_outside,callback:function(t){e.is_Inside_outside=t},expression:"is_Inside_outside"}},e._l(e.inneroutter,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]):e._e(),e.isCheck?e._e():t("div",{staticClass:"demand_main_base flex_row align_center"},[t("div",{staticClass:"mar_r20"},[t("span",{staticClass:"mar_r10"},[e._v("入住 / 离店日期")]),t("el-select",{staticStyle:{width:"120px"},attrs:{size:"small"},on:{change:e.changeCheckDate},model:{value:e.check_in_date,callback:function(t){e.check_in_date=t},expression:"check_in_date"}},e._l(e.dateArr,(function(e,s){return t("el-option",{key:s,attrs:{label:e,value:e}})})),1),t("span",{staticClass:"line"},[e._v("—")]),t("el-select",{staticStyle:{width:"120px"},attrs:{size:"small"},on:{change:e.changeCheckDate},model:{value:e.out_date,callback:function(t){e.out_date=t},expression:"out_date"}},e._l(e.outDate,(function(s,i){return t("el-option",{key:i,attrs:{disabled:i<=e.disabledIndex,label:s,value:s}})})),1)],1),t("div",{staticClass:"mar_r20"},[t("span",{staticClass:"mar_r10"},[e._v("房标")]),t("el-input",{staticStyle:{width:"80px"},attrs:{type:"text",placeholder:"非必填",size:"small"},on:{input:function(t){return e.formatNum(2)}},model:{value:e.night_budget,callback:function(t){e.night_budget=t},expression:"night_budget"}}),e._v(" 元/间夜 ")],1),t("div",{staticClass:"mar_r20"},[t("el-checkbox",{model:{value:e.is_networks,callback:function(t){e.is_networks=t},expression:"is_networks"}},[e._v("需要宽带")]),t("el-checkbox",{model:{value:e.is_breakfast,callback:function(t){e.is_breakfast=t},expression:"is_breakfast"}},[e._v("需要早餐")])],1),t("div",{staticClass:"mar_r20"},[t("el-select",{staticStyle:{width:"160px"},attrs:{size:"small"},model:{value:e.is_Inside_outside,callback:function(t){e.is_Inside_outside=t},expression:"is_Inside_outside"}},e._l(e.inneroutter,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),t("div",{staticClass:"demand_hotel"},[t("el-table",{attrs:{border:"",data:e.room,size:"small"}},[t("el-table-column",{attrs:{label:"日期",prop:"check_in_date",width:"125",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("p",{class:e.isCheck?"text_left":"text_left pad_lr10"},[e._v(e._s(s.row.check_in_date.substring(0,10)))])]}}])}),t("el-table-column",{attrs:{label:"双床房",prop:"twin_bed_count",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("div",{staticClass:"text_right"},[t("span",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"}]},[e._v(e._s(s.row.twin_bed_count))]),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}],staticClass:"cell_content text_left"},[t("p",[t("span",[e._v("内部数量")]),t("span",[e._v(e._s(s.row.in_twin_bed_count))])]),t("p",[t("span",[e._v("外部数量")]),t("span",[e._v(e._s(s.row.out_twin_bed_count))])])])]):e._e(),e.isCheck?e._e():t("div",[t("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"},{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"请填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:s.row.twin_bed_count,callback:function(t){e.$set(s.row,"twin_bed_count",t)},expression:"scope.row.twin_bed_count"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}]},[t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"内部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:s.row.in_twin_bed_count,callback:function(t){e.$set(s.row,"in_twin_bed_count",t)},expression:"scope.row.in_twin_bed_count"}}),t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"外部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:s.row.out_twin_bed_count,callback:function(t){e.$set(s.row,"out_twin_bed_count",t)},expression:"scope.row.out_twin_bed_count"}})],1)],1)]}}])}),t("el-table-column",{attrs:{label:"大床房",prop:"king_bed_count",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("div",{staticClass:"text_right"},[t("span",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"}]},[e._v(e._s(s.row.king_bed_count))]),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}],staticClass:"cell_content text_left"},[t("p",[t("span",[e._v("内部数量")]),t("span",[e._v(e._s(s.row.in_king_bed_count))])]),t("p",[t("span",[e._v("外部数量")]),t("span",[e._v(e._s(s.row.out_king_bed_count))])])])]):e._e(),e.isCheck?e._e():t("div",[t("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"},{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"请填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:s.row.king_bed_count,callback:function(t){e.$set(s.row,"king_bed_count",t)},expression:"scope.row.king_bed_count"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}]},[t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"内部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:s.row.in_king_bed_count,callback:function(t){e.$set(s.row,"in_king_bed_count",t)},expression:"scope.row.in_king_bed_count"}}),t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"外部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:s.row.out_king_bed_count,callback:function(t){e.$set(s.row,"out_king_bed_count",t)},expression:"scope.row.out_king_bed_count"}})],1)],1)]}}])}),t("el-table-column",{attrs:{label:"行政房/套房",prop:"superior_room_count",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("div",{staticClass:"text_right"},[t("span",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"}],staticClass:"pad_r10"},[e._v(e._s(s.row.superior_room_count))]),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}],staticClass:"cell_content text_left"},[t("p",[t("span",[e._v("内部数量")]),t("span",[e._v(e._s(s.row.in_superior_room_count))])]),t("p",[t("span",[e._v("外部数量")]),t("span",[e._v(e._s(s.row.out_superior_room_count))])])])]):e._e(),e.isCheck?e._e():t("div",[t("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.is_Inside_outside,expression:"is_Inside_outside == 0"},{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"请填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:s.row.superior_room_count,callback:function(t){e.$set(s.row,"superior_room_count",t)},expression:"scope.row.superior_room_count"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_Inside_outside,expression:"is_Inside_outside == 1"}],staticClass:"cell_content"},[t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"内部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:s.row.in_superior_room_count,callback:function(t){e.$set(s.row,"in_superior_room_count",t)},expression:"scope.row.in_superior_room_count"}}),t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small",placeholder:"外部数量填写",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:s.row.out_superior_room_count,callback:function(t){e.$set(s.row,"out_superior_room_count",t)},expression:"scope.row.out_superior_room_count"}})],1)],1)]}}])}),t("el-table-column",{attrs:{label:"总计",prop:"superior_room_count",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[0==e.is_Inside_outside?t("div",{staticStyle:{"text-align":"right"}},[e._v(" "+e._s(parseInt(s.row.superior_room_count||0)+parseInt(s.row.king_bed_count||0)+parseInt(s.row.twin_bed_count||0))+" ")]):e._e(),1==e.is_Inside_outside?t("div",{staticStyle:{"text-align":"right"}},[e._v(" "+e._s(parseInt(s.row.in_twin_bed_count||0)+parseInt(s.row.out_twin_bed_count||0)+parseInt(s.row.in_superior_room_count||0)+parseInt(s.row.out_superior_room_count||0)+parseInt(s.row.in_king_bed_count||0)+parseInt(s.row.out_king_bed_count||0))+" ")]):e._e()]}}])}),t("el-table-column",{attrs:{label:"其他需求",prop:"superior_room_count",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?e._e():t("el-input",{attrs:{size:"small",placeholder:"几间无烟／有烟、无窗／有窗"},model:{value:s.row.other_requirements,callback:function(t){e.$set(s.row,"other_requirements",t)},expression:"scope.row.other_requirements"}}),e.isCheck?t("p",{staticClass:"text_left"},[e._v(" "+e._s(s.row.other_requirements)+" ")]):e._e()]}}])}),e.isCheck?e._e():t("el-table-column",{attrs:{label:"操作",prop:"superior_room_count",align:"center",width:"165"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-tooltip",{attrs:{effect:"light",content:"复制昨日数据",offset:"10",placement:"top-start"}},[0!==s.$index?t("el-button",{staticClass:"el-icon-document-copy",attrs:{type:"text",size:"small"},on:{click:function(t){return e.copyPreTap("room",s.$index)}}}):e._e()],1)]}}],null,!1,2022971524)})],1)],1)])])])},a=[],n=s("393b"),r=(s("cf45"),{name:"room",props:["dateArr","outDate","isCheck"],directives:{inputFilter:n["a"]},data(){return{is_guest_room:!0,guest_room_budget:0,check_in_date:"",out_date:"",disabledIndex:0,night_budget:0,is_networks:!0,is_breakfast:!0,checkDate:[],roomItem:{check_in_date:"",twin_bed_count:"",king_bed_count:"",superior_room_count:"",other_requirements:""},orgRoom:[],room:[],outDateArr:[],inneroutter:[{label:"不区分内外部人员",value:0},{label:"区分内外部人员",value:1}],is_Inside_outside:"0"}},mounted(){},methods:{formatNum(e){let t;1===e&&(t=this.guest_room_budget.toString()),2===e&&(t=this.night_budget.toString()),t=t.replace(/。/g,"."),t=t.replace(/\b(0+)/gi,""),t=t.replace(/[^\d.]/g,""),t=t.replace(/^\./g,""),t=t.replace(/\.{2,}/g,""),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),1===e&&(this.guest_room_budget=t),2===e&&(this.night_budget=t)},changeInout(){},changeCheckDate(){let e=this.dateArr.indexOf(this.check_in_date);this.disabledIndex=e;let t=this.outDate.indexOf(this.out_date);e>=t?(this.out_date=this.dateArr[this.dateArr.length-1],this.room.forEach(e=>{this.orgRoom.forEach((t,s)=>{e.check_in_date.slice(0,10)==t.check_in_date&&(this.orgRoom[s]=e)})}),this.room=this.orgRoom.slice(e,this.dateArr.length-1)):(this.room.forEach(e=>{this.orgRoom.forEach((t,s)=>{e.check_in_date.slice(0,10)==t.check_in_date&&(this.orgRoom[s]=e)})}),this.room=this.orgRoom.slice(e,t))},copyPreTap(e,t){if("room"===e){let e=this.room[t].id,s=this.room[t].check_in_date,i=this.room[t].is_delete;this.room[t]=Object.assign(this.room[t],this.room[t-1]),this.room[t].id=e,this.room[t].check_in_date=s,this.room[t].is_delete=i,console.log(this.room[t-1]),console.log(this.room[t])}else console.log(e)}},watch:{dateArr:{handler(e,t){this.checkDate=[...e],this.check_in_date=e[1];let s=this.dateArr.indexOf(this.check_in_date);this.room=this.orgRoom.slice(s),this.out_date=this.outDate[this.outDate.length-1]},deep:!0,immediate:!0}}}),o=r,l=s("0b56"),c=Object(l["a"])(o,i,a,!1,null,"75f05855",null);t["a"]=c.exports},"76b8":function(e,t,s){var i=s("de03"),a=s("9c10");e.exports=function(e,t){i(t)&&"cause"in t&&a(e,"cause",t.cause)}},"78a8":function(e,t,s){var i=s("5d05"),a=s("50b4"),n=s("06c1");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,s={};try{e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(s,[]),t=s instanceof Array}catch(r){}return function(s,i){return a(s),n(i),t?e(s,i):s.__proto__=i,s}}():void 0)},"956c":function(e,t,s){var i=s("f44b"),a=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},"9b2a":function(e,t,s){var i=s("ebdc"),a=s("c8a2"),n=s("672b"),r=s("b438"),o="WebAssembly",l=a[o],c=7!==Error("e",{cause:7}).cause,_=function(e,t){var s={};s[e]=r(e,t,c),i({global:!0,constructor:!0,arity:1,forced:c},s)},d=function(e,t){if(l&&l[e]){var s={};s[e]=r(o+"."+e,t,c),i({target:o,stat:!0,constructor:!0,arity:1,forced:c},s)}};_("Error",(function(e){return function(t){return n(e,this,arguments)}})),_("EvalError",(function(e){return function(t){return n(e,this,arguments)}})),_("RangeError",(function(e){return function(t){return n(e,this,arguments)}})),_("ReferenceError",(function(e){return function(t){return n(e,this,arguments)}})),_("SyntaxError",(function(e){return function(t){return n(e,this,arguments)}})),_("TypeError",(function(e){return function(t){return n(e,this,arguments)}})),_("URIError",(function(e){return function(t){return n(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return n(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return n(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return n(e,this,arguments)}}))},a365:function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"foodDemand"},[t("div",{staticClass:"demand_item"},[t("div",{staticClass:"demand_top flex_row justify_between"},[t("div",{staticClass:"demand_name flex_row align_center"},[t("h2",{staticStyle:{"margin-right":"20px"}},[e._v("酒店外餐饮需求")]),t("el-switch",{model:{value:e.is_food_outside,callback:function(t){e.is_food_outside=t},expression:"is_food_outside"}})],1),t("div",{staticClass:"budget flex_row align_center"},[t("span",{staticClass:"nowrap"},[e._v("餐标：")]),t("span",[e._v("￥"+e._s(Number(e.food_limit).toFixed(2)))])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_food_outside,expression:"is_food_outside == '1'"}]},[t("el-table",{attrs:{border:"",data:e.foodBudgetList}},[t("el-table-column",{attrs:{label:"日期",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("p",{staticClass:"text_left"},[e.isCheck?t("span",[e._v(e._s(s.row.food_date.split(" ")[0]))]):e._e()]),e.isCheck?e._e():t("el-select",{staticClass:"demand_120",attrs:{size:"small"},model:{value:s.row.food_date,callback:function(t){e.$set(s.row,"food_date",t)},expression:"scope.row.food_date"}},e._l(e.dateArr,(function(e,s){return t("el-option",{key:s,attrs:{label:e,value:e}})})),1)]}}])}),t("el-table-column",{attrs:{label:"用餐时间",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},e._l(e.foodTime,(function(i){return t("span",{directives:[{name:"show",rawName:"v-show",value:i.value==s.row.food_time,expression:"item.value == scope.row.food_time"}],key:i.value},[e._v(e._s(i.label))])})),0):e._e(),e.isCheck?e._e():t("el-select",{staticClass:"demand_120 mar_t10",attrs:{size:"small"},model:{value:s.row.food_time,callback:function(t){e.$set(s.row,"food_time",t)},expression:"scope.row.food_time"}},e._l(e.foodTime,(function(e){return t("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})})),1)]}}])}),t("el-table-column",{attrs:{label:"用餐类型",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},e._l(e.FoodOutside,(function(i){return t("span",{directives:[{name:"show",rawName:"v-show",value:i.key==s.row.food_type,expression:"item.key == scope.row.food_type"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e(),e.isCheck?e._e():t("el-select",{staticClass:"demand_120 mar_t10",attrs:{size:"small"},model:{value:s.row.food_type,callback:function(t){e.$set(s.row,"food_type",t)},expression:"scope.row.food_type"}},e._l(e.FoodOutside,(function(e){return t("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)]}}])}),t("el-table-column",{attrs:{label:"用餐人数",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.food_count)+"人")])]):e._e(),e.isCheck?e._e():t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],attrs:{size:"small",placeholder:"人数",clearable:""},model:{value:s.row.food_count,callback:function(t){e.$set(s.row,"food_count",t)},expression:"scope.row.food_count"}})]}}])}),t("el-table-column",{attrs:{label:"需求备注",prop:"is_important",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.comments))])]):e._e(),e.isCheck?e._e():t("el-input",{attrs:{type:"textarea",rows:3,size:"small",placeholder:"酒店一般用餐时间为午餐12:00-14:00、晚餐18:00-20:00，如有特殊需求请在此注明。"},model:{value:s.row.comments,callback:function(t){e.$set(s.row,"comments",t)},expression:"scope.row.comments"}})]}}])}),e.isCheck?e._e():t("el-table-column",{attrs:{label:"操作",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-tooltip",{attrs:{effect:"light",content:"删除",offset:"10",placement:"top-start"}},[t("el-button",{staticClass:"el-icon-delete",staticStyle:{"font-size":"18px"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.deleteFoodDemand(s.$index)}}})],1)]}}],null,!1,1330280209)})],1),t("div",{staticClass:"bottom_tr"},[t("el-button",{staticClass:"mar_5",attrs:{type:"primary",size:"medium"},on:{click:e.addFoodDemand}},[e._v("添加酒店外餐饮需求")])],1)],1)])])},a=[],n=s("393b"),r={name:"foodDemand",props:["foodList","isCheck"],directives:{inputFilter:n["a"]},data(){return{is_food_outside:"1",food_outside_budget:0,food_limit:0,dateArr:[],FoodOutside:[],foodBudgetList:[{id:"",event_info_id:"",food_date:"",food_time:"",food_count:"",food_type:"",comments:""}],foodTime:[{label:"早餐",value:2},{label:"午餐",value:0},{label:"茶歇",value:3},{label:"晚餐",value:1}]}},mounted(){this.$nextTick(()=>{this.foodBudgetList.forEach(e=>{e.food_date||(e.food_date=this.dateArr[0])})})},methods:{formatNum(){let e=this.food_outside_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.food_outside_budget=e},isSHow(){return this.foodBudgetList.length<this.dateArr.length},deleteFoodDemand(e){0===e&&1===this.foodBudgetList.length?this.is_food_outside="0":this.foodBudgetList.splice(e,1)},addFoodDemand(){if(0==this.is_food_outside)return void(this.is_food_outside="1");let e=this.foodBudgetList.length-1,t={...this.foodBudgetList[e]};t.id="",this.foodBudgetList.push(t)}}},o=r,l=s("0b56"),c=Object(l["a"])(o,i,a,!1,null,"5b9c6274",null);t["a"]=c.exports},a3d4:function(e,t,s){var i=s("5557").f;e.exports=function(e,t,s){s in e||i(e,s,{configurable:!0,get:function(){return t[s]},set:function(e){t[s]=e}})}},b438:function(e,t,s){"use strict";var i=s("3726"),a=s("e72e"),n=s("9c10"),r=s("70b8"),o=s("78a8"),l=s("6ac1"),c=s("a3d4"),_=s("3471"),d=s("dbbd"),u=s("76b8"),p=s("c436"),m=s("dc0f"),f=s("8d06"),h=s("3f11");e.exports=function(e,t,s,v){var w="stackTraceLimit",g=v?2:1,b=e.split("."),k=b[b.length-1],y=i.apply(null,b);if(y){var x=y.prototype;if(!h&&a(x,"cause")&&delete x.cause,!s)return y;var C=i("Error"),S=t((function(e,t){var s=d(v?t:e,void 0),i=v?new y(e):new y;return void 0!==s&&n(i,"message",s),m&&n(i,"stack",p(i.stack,2)),this&&r(x,this)&&_(i,this,S),arguments.length>g&&u(i,arguments[g]),i}));if(S.prototype=x,"Error"!==k?o?o(S,C):l(S,C,{name:!0}):f&&w in y&&(c(S,y,w),c(S,y,"prepareStackTrace")),l(S,y),!h)try{x.name!==k&&n(x,"name",k),x.constructor=S}catch(D){}return S}}},c3c0:function(e,t,s){var i=s("ecc1"),a=i("toStringTag"),n={};n[a]="z",e.exports="[object z]"===String(n)},c436:function(e,t,s){var i=s("5d05"),a=Error,n=i("".replace),r=function(e){return String(a(e).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(r);e.exports=function(e,t){if(l&&"string"==typeof e&&!a.prepareStackTrace)while(t--)e=n(e,o,"");return e}},dbbd:function(e,t,s){var i=s("956c");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},dc0f:function(e,t,s){var i=s("071a"),a=s("4d51");e.exports=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",a(1,7)),7!==e.stack)}))},e45d:function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"other"},[t("div",{staticClass:"demand_item"},[t("div",{staticClass:"demand_top flex_row justify_between"},[t("div",{staticClass:"demand_name flex_row align_center"},[t("div",{staticStyle:{"margin-right":"20px"}},[t("h2",{staticClass:"title"},[e._v("其它服务")]),e.isCheck?e._e():t("span",[e._v("(必填内容若无服务，请填写1)")])])])]),t("div",{staticClass:"demand_main"},[t("div",[e.isCheck?e._e():t("div",{staticClass:"equipment_tag"},[e._l(e.otherList,(function(s,i){return t("span",{directives:[{name:"show",rawName:"v-show",value:"其他"!=s.order_name,expression:"item.order_name != '其他'"}],key:i,class:0==s.is_delete?"select_tag":"",on:{click:function(t){return e.selectTagTap(s)}}},[e._v(e._s(s.order_name))])})),e._l(e.otherList,(function(s,i){return t("span",{directives:[{name:"show",rawName:"v-show",value:"其他"==s.order_name,expression:"item.order_name == '其他'"}],key:i,on:{click:function(t){return e.selectTagTap(s)}}},[e._v(e._s(s.order_name))])}))],2),t("div",[e.isCheck?t("div",[t("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.otherAddList}},[t("el-table-column",{attrs:{prop:"order_name",label:"项目",width:"285",align:"center"}}),t("el-table-column",{attrs:{label:"数量",width:"115",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("p",{staticClass:"participate_count"},[t("span",[e._v(e._s(s.row.participate_count))])])]}}],null,!1,1074877287)}),t("el-table-column",{attrs:{prop:"describe",label:"需求备注",align:"center"}})],1),t("p",{staticClass:"other_text t666"},[e._v("其他需求："),t("span",{staticClass:"t333"},[e._v(e._s(e.order_describe)+"针对这个项目的特殊需求")])])],1):e._e(),e._l(e.otherAddList,(function(s,i){return t("div",{key:i},[e.isCheck?e._e():t("div",{staticClass:"mar_b10 flex_row",staticStyle:{"min-width":"100px"}},[t("span",{staticClass:"dis_block demand_100 text_left",staticStyle:{"padding-right":"30px","line-height":"32px"}},[e._v(e._s(s.order_name))]),t("div",{staticStyle:{"min-width":"250px"}},[t("el-select",{directives:[{name:"show",rawName:"v-show",value:["009-5","009-6","009-7","009-11","009-12"].includes(s.order_code),expression:"['009-5','009-6','009-7','009-11','009-12'].includes(item.order_code)"}],staticStyle:{width:"200px"},attrs:{clearable:"",size:"small"},model:{value:s.two_level_code,callback:function(t){e.$set(s,"two_level_code",t)},expression:"item.two_level_code"}},e._l(s.detail,(function(e){return t("el-option",{key:e.order_code,attrs:{label:e.order_name,value:e.order_code}})})),1)],1),t("div",{staticStyle:{"min-width":"150px"}},[t("span",{staticClass:"dis_block demand_50"},[e._v("数量")]),t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100 input_small",attrs:{size:"small"},model:{value:s.participate_count,callback:function(t){e.$set(s,"participate_count",e._n(t))},expression:"item.participate_count"}})],1),t("el-input",{staticClass:"mar_l20",staticStyle:{width:"50%"},attrs:{clearable:"",placeholder:"请填写针对这个项目的特殊需求",size:"small"},model:{value:s.describe,callback:function(t){e.$set(s,"describe",t)},expression:"item.describe"}}),t("i",{staticClass:"pad_lr5 pad_tb15 el-icon-delete mar_r20",staticStyle:{cursor:"pointer","font-size":"16px",color:"#409eff","line-height":"32px"},on:{click:function(t){return e.deleteOther(i)}}})],1)])}))],2),t("div",{staticClass:"other_list mar_t10"},e._l(e.otherCustom,(function(s,i){return t("div",{key:i,staticClass:"flex_row align_center mar_b10"},[t("div",{staticClass:"mar_b10 flex_row"},[t("span",{staticClass:"dis_block demand_100 text_left",staticStyle:{"padding-right":"30px","line-height":"32px"}},[e._v(e._s(s.order_name))]),t("div",{staticStyle:{"min-width":"200px"}},[t("el-select",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small"},model:{value:s.two_level_code,callback:function(t){e.$set(s,"two_level_code",t)},expression:"item.two_level_code"}},e._l(s.detail,(function(e){return t("el-option",{key:e.order_code,attrs:{label:e.order_name,value:e.order_code}})})),1)],1),t("div",{staticStyle:{"min-width":"150px"}},[t("span",{staticClass:"dis_block demand_50"},[e._v("数量")]),t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_100",attrs:{size:"small"},model:{value:s.participate_count,callback:function(t){e.$set(s,"participate_count",e._n(t))},expression:"item.participate_count"}})],1),t("el-input",{staticClass:"mar_l20",staticStyle:{width:"50%"},attrs:{clearable:"",placeholder:"请填写针对这个项目的特殊需求",size:"small"},model:{value:s.describe,callback:function(t){e.$set(s,"describe",t)},expression:"item.describe"}}),t("i",{staticClass:"pad_lr5 pad_tb5 el-icon-close mar_r20",staticStyle:{cursor:"pointer","font-size":"22px","line-height":"32px"},on:{click:function(t){return e.deleteCustom(i)}}})],1)])})),0),e.isCheck?e._e():t("el-input",{staticClass:"mar_t10",attrs:{type:"textarea",size:"small",rows:6,placeholder:"如果您还有什么额外的需求，请在此填写..."},model:{value:e.order_describe,callback:function(t){e.order_describe=t},expression:"order_describe"}})],1)])])])},a=[],n=s("393b"),r={name:"other",directives:{inputFilter:n["a"]},data(){return{is_other:"",other_budget:0,order_describe:"",otherList:[],otherCustom:[],otherAddList:[]}},props:["isCheck"],mounted(){},updated(){console.log(this.otherAddList),console.log(this.otherList)},methods:{selectTagTap(e){let t={id:"",event_info_id:this.$route.query.id,order_code:e.order_code,order_name:e.order_name,two_level_code:"",type:0,participate_count:"",describe:"",detail:e.detail};this.otherAddList.splice(this.otherAddList.length,0,t)},addOtherDemand(){let e={id:"",order_name:"其他"+(this.otherCustom.length+1),participate_count:"",describe:""};this.otherCustom.splice(this.otherCustom.length,0,e)},deleteOther(e){this.otherAddList.splice(e,1)},deleteCustom(e){this.otherCustom.splice(e,1)},formatNum(){let e=this.other_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.other_budget=e}}},o=r,l=s("0b56"),c=Object(l["a"])(o,i,a,!1,null,"2637bd13",null);t["a"]=c.exports},e885:function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"foodDemand"},[t("div",{staticClass:"demand_item"},[t("div",{staticClass:"demand_top flex_row justify_between"},[t("div",{staticClass:"demand_name flex_row align_center"},[t("h2",{staticStyle:{"margin-right":"20px"}},[e._v("酒店内餐饮需求")]),t("el-switch",{model:{value:e.is_food_beverage,callback:function(t){e.is_food_beverage=t},expression:"is_food_beverage"}})],1),t("div",{staticClass:"budget flex_row align_center"},[t("span",{staticClass:"nowrap"},[e._v("餐标：")]),t("span",[e._v("￥"+e._s(Number(e.food_limit).toFixed(2)))])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_food_beverage,expression:"is_food_beverage == '1'"}]},[t("el-table",{attrs:{border:"",data:e.foodBudgetList}},[t("el-table-column",{attrs:{label:"日期",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("p",{staticClass:"text_left"},[e.isCheck?t("span",[e._v(e._s(s.row.food_date.split(" ")[0]))]):e._e()]),e.isCheck?e._e():t("el-select",{staticClass:"demand_120",attrs:{size:"small"},model:{value:s.row.food_date,callback:function(t){e.$set(s.row,"food_date",t)},expression:"scope.row.food_date"}},e._l(e.dateArr,(function(e,s){return t("el-option",{key:s,attrs:{label:e,value:e}})})),1)]}}])}),t("el-table-column",{attrs:{label:"上午茶歇",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.moring_break_count)+"人")])]):e._e(),e.isCheck?e._e():t("el-input",{attrs:{size:"small",placeholder:"人数",oninput:"value=value.replace(/\\D/g,'')",onafterpaste:"value=value.replace(/\\D/g,'')",clearable:""},model:{value:s.row.moring_break_count,callback:function(t){e.$set(s.row,"moring_break_count",t)},expression:"scope.row.moring_break_count"}})]}}])}),t("el-table-column",{attrs:{label:"午餐",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("div",[t("p",{staticClass:"text_left"},e._l(e.foodList,(function(i){return t("span",{directives:[{name:"show",rawName:"v-show",value:i.key==s.row.lunch_use_type,expression:"item.key == scope.row.lunch_use_type"}],key:i.key},[e._v(e._s(i.value))])})),0),t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.lunch_count)+"人")])])]):e._e(),e.isCheck?e._e():t("div",[0==s.row.lunch_address_type?t("el-select",{staticClass:"demand_120 mar_t5",attrs:{size:"small"},model:{value:s.row.lunch_use_type,callback:function(t){e.$set(s.row,"lunch_use_type",t)},expression:"scope.row.lunch_use_type"}},e._l(e.foodList,(function(e){return t("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1):e._e(),t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_120 mar_t5",attrs:{size:"small",placeholder:"人数",clearable:""},model:{value:s.row.lunch_count,callback:function(t){e.$set(s.row,"lunch_count",t)},expression:"scope.row.lunch_count"}})],1)]}}])}),t("el-table-column",{attrs:{label:"下午茶歇",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.afternoon_break_count)+"人")])]):e._e(),e.isCheck?e._e():t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],attrs:{size:"small",placeholder:"人数",clearable:""},model:{value:s.row.afternoon_break_count,callback:function(t){e.$set(s.row,"afternoon_break_count",t)},expression:"scope.row.afternoon_break_count"}})]}}])}),t("el-table-column",{attrs:{label:"晚餐",prop:"is_important",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("div",[t("p",{staticClass:"text_left"},e._l(e.foodList,(function(i){return t("span",{directives:[{name:"show",rawName:"v-show",value:i.key==s.row.dinner_use_type,expression:"item.key == scope.row.dinner_use_type"}],key:i.key},[e._v(e._s(i.value))])})),0),t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.dinner_count)+"人")])])]):e._e(),e.isCheck?e._e():t("div",[0==s.row.dinner_address_type?t("el-select",{staticClass:"demand_120 mar_t5",attrs:{size:"small"},model:{value:s.row.dinner_use_type,callback:function(t){e.$set(s.row,"dinner_use_type",t)},expression:"scope.row.dinner_use_type"}},e._l(e.foodList,(function(e){return t("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1):e._e(),t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],staticClass:"demand_120 mar_t5",attrs:{size:"small",placeholder:"人数",clearable:""},model:{value:s.row.dinner_count,callback:function(t){e.$set(s.row,"dinner_count",t)},expression:"scope.row.dinner_count"}})],1)]}}])}),t("el-table-column",{attrs:{label:"需求备注",prop:"is_important",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.comments))])]):e._e(),e.isCheck?e._e():t("el-input",{attrs:{type:"textarea",rows:3,size:"small",placeholder:"酒店一般用餐时间为午餐12:00-14:00、晚餐18:00-20:00，如有特殊需求请在此注明。"},model:{value:s.row.comments,callback:function(t){e.$set(s.row,"comments",t)},expression:"scope.row.comments"}})]}}])}),e.isCheck?e._e():t("el-table-column",{attrs:{label:"操作",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-tooltip",{attrs:{effect:"light",content:"删除",offset:"10",placement:"top-start"}},[t("el-button",{staticClass:"el-icon-delete",staticStyle:{"font-size":"18px"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.deleteFoodDemand(s.$index)}}})],1)]}}],null,!1,1330280209)})],1),t("div",{staticClass:"bottom_tr"},[t("el-button",{staticClass:"mar_5",attrs:{type:"primary",size:"medium"},on:{click:e.addFoodDemand}},[e._v("添加酒店内餐饮需求")])],1)],1)])])},a=[],n=s("393b"),r={name:"foodDemand",props:["foodList","isCheck"],directives:{inputFilter:n["a"]},data(){return{is_food_beverage:"1",food_beverage_budget:0,food_limit:"",dateArr:[],foodBudgetList:[{id:"",food_date:"",moring_break_count:"",lunch_count:"",lunch_address_type:"",lunch_use_type:"",afternoon_break_count:"",dinner_count:"",dinner_address_type:"",dinner_use_type:"",comments:"",is_delete:0}]}},mounted(){this.$nextTick(e=>{this.foodBudgetList.forEach(e=>{e.food_date||(e.food_date=this.dateArr[0])})})},methods:{formatNum(){let e=this.food_beverage_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.food_beverage_budget=e},isSHow(){return this.foodBudgetList.length<this.dateArr.length},deleteFoodDemand(e){0===e&&1===this.foodBudgetList.length?(this.is_food_beverage="0",console.log(this.is_food_beverag,66)):this.foodBudgetList.splice(e,1)},addFoodDemand(){if(0==this.is_food_beverage)return void(this.is_food_beverage="1");let e=this.foodBudgetList.length-1,t={...this.foodBudgetList[e]};t.id="",this.foodBudgetList.push(t)}}},o=r,l=s("0b56"),c=Object(l["a"])(o,i,a,!1,null,"36ce4cba",null);t["a"]=c.exports},e99c:function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"intercity"},[t("div",{staticClass:"demand_item"},[t("div",{staticClass:"demand_top flex_row justify_between"},[t("div",{staticClass:"demand_name flex_row align_center"},[t("H2",{staticStyle:{"margin-right":"20px"}},[e._v("大交通")]),t("el-switch",{model:{value:e.is_intercity_transportation,callback:function(t){e.is_intercity_transportation=t},expression:"is_intercity_transportation"}})],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.is_intercity_transportation,expression:"is_intercity_transportation == 1"}]},[e._l(e.transportationList,(function(s,i){return t("div",{key:i},[t("div",{staticClass:"flex_row"},[e.isCheck?e._e():t("div",{staticClass:"demand_date mar_t20 mar_l20"},[t("span",[e._v("日期")]),t("el-select",{attrs:{size:"small"},on:{change:e.selectDateTap},model:{value:s.transportation_date,callback:function(t){e.$set(s,"transportation_date",t)},expression:"item.transportation_date"}},e._l(e.interDate,(function(s){return t("el-option",{key:s,attrs:{disabled:e.getDisTap(s),label:s,value:s}})})),1)],1),t("el-button",{staticClass:"mar_20 add_new_item",attrs:{type:"text",size:"medium"},on:{click:function(t){return e.addOtherTraffic(i)}}},[e._v("添加该日交通需求")])],1),t("el-table",{attrs:{border:"",data:s.transportation}},[e.isCheck?t("el-table-column",{attrs:{label:"日期",width:"180",align:"center"}},[[t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.transportation_date))])])]],2):e._e(),t("el-table-column",{attrs:{label:"始发地",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.origin_city))])]):e._e(),e.isCheck?e._e():t("el-input",{attrs:{size:"small",placeholder:"出发城市"},model:{value:s.row.origin_city,callback:function(t){e.$set(s.row,"origin_city",t)},expression:"scope.row.origin_city"}})]}}],null,!0)}),t("el-table-column",{attrs:{label:"目的地",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.destination_city))])]):e._e(),e.isCheck?e._e():t("el-input",{attrs:{size:"small",placeholder:"到达城市"},model:{value:s.row.destination_city,callback:function(t){e.$set(s.row,"destination_city",t)},expression:"scope.row.destination_city"}})]}}],null,!0)}),t("el-table-column",{attrs:{label:"交通工具",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},e._l(e.trafficType,(function(i){return t("span",{directives:[{name:"show",rawName:"v-show",value:i.key==s.row.trans_type,expression:"item.key == scope.row.trans_type"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e(),e.isCheck?e._e():t("el-select",{attrs:{size:"small"},on:{change:function(t){return e.selectTraffic(s.row.trans_type,i,s.$index)}},model:{value:s.row.trans_type,callback:function(t){e.$set(s.row,"trans_type",t)},expression:"scope.row.trans_type"}},e._l(e.trafficType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.value,value:e.key}})})),1)]}}],null,!0)}),t("el-table-column",{attrs:{label:"搭乘人数",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_right"},[t("span",[e._v(e._s(s.row.passenger_count))])]):e._e(),e.isCheck?e._e():t("el-input",{directives:[{name:"input-filter",rawName:"v-input-filter:int",arg:"int"}],attrs:{size:"small",placeholder:"人数"},model:{value:s.row.passenger_count,callback:function(t){e.$set(s.row,"passenger_count",t)},expression:"scope.row.passenger_count"}})]}}],null,!0)}),t("el-table-column",{attrs:{label:"抵达时间",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.arrive_time))])]):e._e(),e.isCheck?e._e():t("el-time-select",{staticStyle:{width:"100%"},attrs:{placeholder:"抵达时间",size:"small","picker-options":e.step},model:{value:s.row.arrive_time,callback:function(t){e.$set(s.row,"arrive_time",t)},expression:"scope.row.arrive_time"}})]}}],null,!0)}),t("el-table-column",{attrs:{label:"座位等级",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return s.row.trans_type&&"003-3"!==s.row.trans_type?[e.trainSeatType.length&&"003-2"===s.row.trans_type?[e.isCheck?t("p",{staticClass:"text_left"},e._l(e.trainSeatType,(function(i){return t("span",{directives:[{name:"show",rawName:"v-show",value:i.key==s.row.seat_classes,expression:"item.key == scope.row.seat_classes"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e()]:e._e(),e.airSeatType.length&&"003-1"===s.row.trans_type?[e.isCheck?t("p",{staticClass:"text_left"},e._l(e.airSeatType,(function(i){return t("span",{directives:[{name:"show",rawName:"v-show",value:i.key==s.row.seat_classes,expression:"item.key == scope.row.seat_classes"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e()]:e._e(),e.isCheck?e._e():t("el-select",{attrs:{size:"small"},model:{value:s.row.seat_classes,callback:function(t){e.$set(s.row,"seat_classes",t)},expression:"scope.row.seat_classes"}},[e.trainSeatType.length&&"003-2"===s.row.trans_type?e._l(e.trainSeatType,(function(e){return t("el-option",{attrs:{label:e.value,value:e.key}})})):e._e(),e.airSeatType.length&&"003-1"===s.row.trans_type?e._l(e.airSeatType,(function(e){return t("el-option",{attrs:{label:e.value,value:e.key}})})):e._l(s.row.seatList,(function(e){return t("el-option",{attrs:{label:e.value,value:e.key}})}))],2)]:void 0}}],null,!0)}),t("el-table-column",{attrs:{label:"票价/折扣",prop:"is_important",width:"105",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return"003-1"===s.row.trans_type?[e.isCheck?t("div",[e.trainSeatType.length&&"003-2"===s.row.trans_type?[e.isCheck?t("p",{staticClass:"text_left"},e._l(e.trainDiscount,(function(i){return t("span",{directives:[{name:"show",rawName:"v-show",value:i.key==s.row.special_price,expression:"item.key == scope.row.special_price"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e()]:e._e(),e.airSeatType.length&&"003-1"===s.row.trans_type?[e.isCheck?t("p",{staticClass:"text_left"},e._l(e.airDiscount,(function(i){return t("span",{directives:[{name:"show",rawName:"v-show",value:i.key==s.row.special_price,expression:"item.key == scope.row.special_price"}],key:i.key},[e._v(e._s(i.value))])})),0):e._e()]:e._e()],2):e._e(),e.isCheck?e._e():t("el-select",{attrs:{size:"small"},model:{value:s.row.special_price,callback:function(t){e.$set(s.row,"special_price",t)},expression:"scope.row.special_price"}},[e.trainSeatType.length&&"003-2"===s.row.trans_type?e._l(e.trainDiscount,(function(e){return t("el-option",{attrs:{label:e.value,value:e.key}})})):e._e(),e.airSeatType.length&&"003-1"===s.row.trans_type?e._l(e.airDiscount,(function(e){return t("el-option",{attrs:{label:e.value,value:e.key}})})):e._l(s.row.discountList,(function(e){return t("el-option",{attrs:{label:e.value,value:e.key}})}))],2)]:void 0}}],null,!0)}),t("el-table-column",{attrs:{label:"需求备注",prop:"is_important",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[e.isCheck?t("p",{staticClass:"text_left"},[t("span",[e._v(e._s(s.row.requirement))])]):e._e(),e.isCheck?e._e():t("el-input",{attrs:{type:"text",rows:5,size:"small",placeholder:"请备注退改条件等"},model:{value:s.row.requirement,callback:function(t){e.$set(s.row,"requirement",t)},expression:"scope.row.requirement"}})]}}],null,!0)}),e.isCheck?e._e():t("el-table-column",{attrs:{label:"操作",prop:"is_important",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"buttons"},[t("el-tooltip",{attrs:{effect:"light",content:"删除",offset:"10",placement:"top-start"}},[t("el-button",{staticClass:"el-icon-delete",staticStyle:{"font-size":"18px"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.deleteIntercity(i,s.$index)}}})],1),t("el-tooltip",{attrs:{effect:"light",content:"添加返程",offset:"10",placement:"top-start"}},[t("el-button",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"18px"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.addBack(i,s.$index)}}})],1)],1)]}}],null,!0)})],1)],1)})),t("div",{staticClass:"bottom_tr"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.transportationList.length<e.dateArr.length,expression:"transportationList.length < dateArr.length"}],staticClass:"mar_5",attrs:{type:"primary",size:"medium"},on:{click:e.addOther}},[e._v("添加其他日期交通需求")])],1)],2)])])},a=[],n=s("393b"),r={name:"intercity",props:["dateArr","isCheck"],directives:{inputFilter:n["a"]},data(){return{trafficType:[],interDate:[],disInterDate:[],discountList:[],seatList:[],is_intercity_transportation:"1",intercity_transportation_budget:0,transportationList:[{transportation_date:"",transportation:[{id:"",origin_city:"",destination_city:"",trans_type:"",passenger_count:"",arrive_time:"",seat_classes:"",special_price:"",requirement:"",trip_type:0,group_transportation:"",is_delete:0}]}],step:{start:"00:00",step:"00:30",end:"23:59"},airSeatType:[],trainSeatType:[],trainDiscount:[],airDiscount:[],eventEndTime:""}},mounted(){this.$nextTick(()=>{let e=this.trafficType.filter(e=>"003-2"===e.key),t=this.trafficType.filter(e=>"003-1"===e.key);this.trainSeatType=e.length?e[0].DiscountDetaile:[],this.airSeatType=t.length?t[0].DiscountDetaile:[],this.trainDiscount=e.length?e[0].GradeDetaile:[],this.airDiscount=t.length?t[0].GradeDetaile:[],this.addDate()})},methods:{init(){let e=this.trafficType.filter(e=>"003-2"===e.key),t=this.trafficType.filter(e=>"003-1"===e.key);this.trainSeatType=e.length?e[0].DiscountDetaile:[],this.airSeatType=t.length?t[0].DiscountDetaile:[],this.trainDiscount=e.length?e[0].GradeDetaile:[],this.airDiscount=t.length?t[0].GradeDetaile:[]},addDate(){this.transportationList.forEach(e=>{!e.transportation_date&&this.interDate.length&&(e.transportation_date=this.interDate[0],-1===this.disInterDate.indexOf(e.transportation_date)&&this.disInterDate.push(e.transportation_date))})},selectDateTap(){this.disInterDate=[],this.transportationList.forEach(e=>{e.transportation_date&&this.disInterDate.push(e.transportation_date)})},getDisTap(e){return-1!==this.disInterDate.indexOf(e)},selectTraffic(e,t,s){this.airSeatType=[],this.trainSeatType=[],this.trainDiscount=[],this.airDiscount=[],console.log(this.trafficType);let i=this.trafficType.filter(t=>t.key===e);this.transportationList[t].transportation[s].special_price="",this.transportationList[t].transportation[s].seat_classes="",this.transportationList[t].transportation[s].discountList=i[0].GradeDetaile,this.transportationList[t].transportation[s].seatList=i[0].DiscountDetaile,this.discountList=i[0].GradeDetaile,this.seatList=i[0].DiscountDetaile},addOtherTraffic(e){let t={id:"",origin_city:"",destination_city:"",trans_type:"",passenger_count:"",arrive_time:"",seat_classes:"",special_price:"",requirement:"",trip_type:0,group_transportation:"",is_delete:0},s=this.transportationList[e].transportation.length;this.transportationList[e].transportation.splice(s,0,t)},addBack(e,t){let s=JSON.parse(JSON.stringify(this.transportationList[e].transportation[t]));s.id&&(s.id="");let i={...s};i.origin_city=s.destination_city,i.destination_city=s.origin_city,i.trip_type=1;let a=this.interDate.indexOf(this.eventEndTime),n=this.interDate.indexOf(this.transportationList[e].transportation_date);if(a>=n)if(this.isHasLast()){let e=this.interDate[this.interDate.length-3],t=this.transportationList.map(t=>t.transportation_date===e),s=t.indexOf(!0),a=this.transportationList[s].transportation.length;this.transportationList[s].transportation.splice(a,0,i)}else{let e={transportation_date:this.interDate[this.interDate.length-3],transportation:[i]},t=this.transportationList.length;this.transportationList.splice(t,0,e)}else this.transportationList[e].transportation.splice(t+1,0,i)},isHasLast(){let e=this.interDate[this.interDate.length-3];return this.transportationList.filter(t=>t.transportation_date===e).length},deleteIntercity(e,t){let s=this.transportationList[e].transportation.length,i=this.transportationList.length;1===i?1===s?this.is_intercity_transportation="0":this.transportationList[e].transportation.splice(t,1):1===s?this.transportationList.splice(e,1):this.transportationList[e].transportation.splice(t,1),this.selectDateTap()},addOther(){let e=this.interDate.filter(e=>-1===this.disInterDate.indexOf(e)),t={event_info_id:"",transportation_date:e.length?e[0]:"",transportation:[{id:"",origin_city:"",destination_city:"",trans_type:"",passenger_count:"",arrive_time:"",seat_classes:"",special_price:"",requirement:"",trip_type:0,group_transportation:"",is_delete:0}]},s=this.transportationList.length;"0"===this.is_intercity_transportation?this.is_intercity_transportation="1":this.transportationList.splice(s,0,t),this.selectDateTap()},formatNum(){let e=this.intercity_transportation_budget.toString();e=e.replace(/。/g,"."),e=e.replace(/\b(0+)/gi,""),e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,""),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e=e.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.intercity_transportation_budget=e}}},o=r,l=s("0b56"),c=Object(l["a"])(o,i,a,!1,null,"14a078ed",null);t["a"]=c.exports},f44b:function(e,t,s){var i=s("c3c0"),a=s("17e9"),n=s("7ea6"),r=s("ecc1"),o=r("toStringTag"),l=Object,c="Arguments"==n(function(){return arguments}()),_=function(e,t){try{return e[t]}catch(s){}};e.exports=i?n:function(e){var t,s,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=_(t=l(e),o))?s:c?n(t):"Object"==(i=n(t))&&a(t.callee)?"Arguments":i}}}]);