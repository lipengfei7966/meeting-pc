(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-796176d4"],{"09ad":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"approve-page"},[e("div",{staticClass:"approve-page-body"},[e("div",{staticClass:"centerBox"},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{staticClass:"el-breadcrumb-item",attrs:{to:{path:"/"}}},[t._v(" 首页 ")]),e("el-breadcrumb-item",{staticClass:"el-bread-item"},[t._v("审批流配置")])],1),e("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[e("el-tab-pane",{attrs:{label:"中标审批流配置"}},[e("outbid",{ref:"outbid"})],1),e("el-tab-pane",{attrs:{label:"结算审批流配置"}},[e("settlementSheet",{ref:"settlementSheet"})],1)],1)],1)])])},n=[],r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"settle_header"},[e("el-button",{staticClass:"add_button",attrs:{type:"primary"},on:{click:t.addSettle}},[t._v(t._s(1==t.type?"新增结算审批规则":"新增中标审批规则"))])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{align:"left",prop:"company_name",label:"客户",width:"260"}}),e("el-table-column",{attrs:{align:"center",prop:"count",label:"启用审批步骤",width:"180"}}),e("el-table-column",{attrs:{align:"center",prop:"remarks",label:"备注",width:"180"}}),e("el-table-column",{attrs:{align:"right",label:"操作",width:"260"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.configApproval(a.$index,a.row)}}},[t._v("配置审批流")]),"ALL"!=a.row.company_name?e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.editApproval(a.$index,a.row)}}},[t._v("编辑")]):t._e(),"ALL"!=a.row.company_name?e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.delApproval(a.$index,a.row)}}},[t._v("删除")]):t._e()]}}])})],1)],1)},l=[],s={components:{},data:function(){return{type:"",tableData:[]}},mounted(){},methods:{searchTableData(t){this.type=t,this.$api.GetApporval({type:t},"POST").then(t=>{this.tableData=t})},addSettle(){this.$router.push({name:"addeditApprovalrule",query:{type:this.type,back:"approveSetting"}})},configApproval(t,e){1==this.type&&this.$router.push({name:"settlementSheet",query:{id:e.id,type:this.type}}),2==this.type&&this.$router.push({path:"/outbid",query:{id:e.id,type:this.type}})},editApproval(t,e){this.$router.push({name:"addeditApprovalrule",query:{id:e.id,type:this.type,back:"approveSetting"}})},delApproval(t,e){this.$confirm("您正在删除审批规则，请确认是否执行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$api.ApporvalDelete({id:e.id},"POST").then(e=>{this.$message.success("删除成功"),this.tableData.splice(t,1)})}).catch(()=>{})}}},o=s,c=(a("f6fd"),a("0b56")),p=Object(c["a"])(o,r,l,!1,null,null,null),d=p.exports,u={components:{outbid:d,settlementSheet:d},data:function(){return{tabIndex:""}},methods:{handleClick(){0==this.tabIndex&&this.$refs.outbid.searchTableData(2),1==this.tabIndex&&this.$refs.settlementSheet.searchTableData(1)}},mounted(){this.$refs.outbid.searchTableData(2)}},b=u,h=(a("b688"),Object(c["a"])(b,i,n,!1,null,null,null));e["default"]=h.exports},b2ce:function(t,e,a){},b688:function(t,e,a){"use strict";a("b2ce")},f5fc:function(t,e,a){},f6fd:function(t,e,a){"use strict";a("f5fc")}}]);