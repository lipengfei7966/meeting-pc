(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-599f2428"],{2531:function(t,e,n){},"8cc7":function(t,e,n){"use strict";n("2531")},"909e":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event_detail box"},[n("div",{staticClass:"event_process mar_b20 pad_tb10"},[n("div",{staticClass:"event_process_title flex_row justify_between align_center pad_lr20"},[n("div",{staticClass:"flex_row align_center"},[n("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$router.replace("/EventList")}}},[t._v("会议列表")]),n("span",{staticClass:"mar_lr10",staticStyle:{color:"#7c7f82"}},[t._v(">")]),n("span",{staticStyle:{color:"#7c7f82"}},[t._v("会议详情（"+t._s(t.eventName)+"）")])],1)])]),n("div",{staticStyle:{margin:"10px 0"}},[n("div",{staticClass:"flex_row justify_between",staticStyle:{"font-size":"18px"}},[n("p",[t._v(t._s(t.eventName))]),n("el-dropdown",{on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link",staticStyle:{"font-size":"16px",color:"#2896eb","font-weight":"600",cursor:"pointer"}},[t._v(" 更多"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"1"}},[t._v("高级设置")]),t.isShowCancelBtn?n("el-dropdown-item",{attrs:{command:"2"}},[t._v("取消会议")]):t._e()],1)],1)],1),n("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{active:t.eventStatu,"finish-status":"finish","process-status":"process","align-center":""}},[n("el-step",{attrs:{title:"创建会议",description:"已完成"}}),n("el-step",{class:1==t.eventStatu?"processing":"",attrs:{title:"确定采购需求",description:t.eventStatu>=2?"已完成":"进行中"}}),n("el-step",{class:2==t.eventStatu?"processing":"",attrs:{title:"找供应商询价、议价",description:t.eventStatu>=3?"已完成":2==t.eventStatu?"进行中":"未开始"}}),n("el-step",{class:3==t.eventStatu?"processing":"",attrs:{title:"确认中标，生成订单",description:t.eventStatu>=4?"已完成":3==t.eventStatu?"进行中":"未开始"}}),n("el-step",{class:4==t.eventStatu?"processing":"",attrs:{title:"会后结算审批",description:t.eventStatu>=5?"已完成":4==t.eventStatu?"进行中":"未开始"}}),n("el-step",{class:5==t.eventStatu?"processing":"",attrs:{title:"会议完成",description:6==t.eventStatu?"已完成":5==t.eventStatu?"进行中":"未开始"}})],1)],1),n("div",{staticClass:"step_part"},[n("stepOne",{ref:"baseInfo",attrs:{eventId:t.eventId,eventName:t.eventName,isDMC:!1,isShowCancelBtn:t.isShowCancelBtn}}),n("stepTwo",{ref:"demandInfo",attrs:{eventId:t.eventId,eventName:t.eventName,isDMC:!1,isShowCancelBtn:t.isShowCancelBtn}}),n("stepThree",{attrs:{eventStatu:t.eventStatu}}),n("stepFour")],1),n("el-dialog",{attrs:{visible:t.cancelEventDialog,width:"30%",title:"取消会议",align:"center"},on:{"update:visible":function(e){t.cancelEventDialog=e}}},[n("div",{staticStyle:{width:"100%","text-align":"left","padding-bottom":"8px"}},[t._v(" 取消会议，将同时取消询价单。您确认取消会议吗？ ")]),n("el-input",{attrs:{type:"textarea",size:"small",rows:6,placeholder:"请简要说明取消原因"},model:{value:t.cancelReason,callback:function(e){t.cancelReason=e},expression:"cancelReason"}}),n("span",{staticClass:"dialog-footer flex_row justify_center",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){t.cancelEventDialog=!1}}},[t._v("暂不取消")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.cancelEventTap}},[t._v("确认取消")])],1)],1)],1)},a=[],i=(n("b0c0"),n("a9e3"),n("ac1f"),n("5319"),n("cf45"),n("f2fb")),o=n("08df"),c=n("fc4e"),l=n("7b47"),r={name:"eventDetail",data:function(){return{eventId:"",eventName:"",baseInfo:"",cancelEventDialog:!1,eventStatu:0,isDraft:"",cancelReason:"",isShowCancelBtn:!1}},components:{stepOne:i["a"],stepTwo:o["a"],stepThree:c["a"],stepFour:l["a"]},created:function(){console.log(this.$route.query.id),this.eventId=this.$route.query.id},mounted:function(){document.body.scrollTop=document.documentElement.scrollTop=0,this.eventId=this.$route.query.id,this.eventName=this.$route.query.name,this.getDetail(),this.cancelShow(),console.log(this.$route.query.id)},methods:{cancelShow:function(){var t=this;this.$api.CancelShow({ID:this.$route.query.id,Type:1},"POST").then((function(e){t.isShowCancelBtn=e}))},getDetail:function(){var t=this;this.$api.conferenceInformation({MeetingID:this.eventId},"POST").then((function(e){t.$refs.baseInfo.baseInfo=e,t.isDraft=e.event_status,t.eventId=e.id,t.eventName=e.event_name})),this.$api.MeetingStatus({MeetingID:this.eventId},"POST").then((function(e){t.eventStatu=Number(e),console.log(e)})),this.$api.getPurchase({MeetingID:this.eventId},"POST").then((function(e){t.$refs.demandInfo.demandInfo=e})),this.$api.getServiceProvider({MeetingID:this.eventId},"POST").then((function(e){console.log(e),t.$refs.demandInfo.inquiryLIst=e})),this.$api.GetCommerce({},"POST").then((function(e){t.$refs.demandInfo.commerce=e}))},cancelEventTap:function(){var t=this;this.cancelReason?this.$api.cancelEvent({MeetingID:this.$route.query.id,Content:this.cancelReason},"POST").then((function(e){e&&(t.cancelEventDialog=!1,t.$message.success("会议取消成功！"),setTimeout((function(){t.$router.replace({path:"/EventList"})}),100))})):this.$message.warning("请简要说明取消原因")},handleCommand:function(t){1==t?this.$router.push({path:"/advancedsetting",query:{id:this.eventId,eventName:this.eventName}}):2==t&&(this.cancelEventDialog=!0)}}},u=r,d=(n("8cc7"),n("2877")),v=Object(d["a"])(u,s,a,!1,null,null,null);e["default"]=v.exports}}]);