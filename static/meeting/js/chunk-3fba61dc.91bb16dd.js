(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fba61dc"],{2428:function(t,e,i){},b40c:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return t.info?e("div",{staticClass:"orderInfo"},[e("div",{staticClass:"title"},[t._v(" 我的订单 - 结算单 - "),t.info?[t._v(" "+t._s(t.info.ordernum)+" ")]:t._e()],2),e("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"a_click",attrs:{href:t.downloadUrl,target:"_blank",download:""}}),t.info?e("div",{staticClass:"content"},[t.info.settlement_status===t.status_draft?e("div",{staticClass:"tips"},[e("p",[t._v(" 该草稿保存于"+t._s(t.info.submit_time?t.getFormatDate(t.info.submit_time):"")+" ")])]):t._e(),e("div",{staticClass:"step"},[t._v(" Step1 确认订单基本信息 "),e("p",{staticStyle:{color:"#428bca","font-size":"17px",float:"right"}},[1==t.info.event_info_configure.jsqrisdisplay?e("a",{staticStyle:{cursor:"pointer",margin:"0 10px"},attrs:{download:""},on:{click:t.downloadSettlementConfirm}},[t._v("下载结算确认单")]):t._e(),0==this.$route.params.issubmit?e("a",{staticStyle:{cursor:"pointer",margin:"0 10px"},attrs:{download:""},on:{click:t.excelDownload}},[t._v("下载结算Excel")]):t._e()])]),e("div",{staticClass:"info"},[e("div",{staticClass:"line"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("订单号")]),e("div",{staticClass:"context"},[t._v(t._s(t.info.ordernum))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("联系人")]),e("div",{staticClass:"context"},[t._v(t._s(t.info.event_info.fullname))])])]),e("div",{staticClass:"line"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("下单时间")]),e("div",{staticClass:"context"},[t._v(" "+t._s(t.info.orderdate?t.getFormatDate(t.info.orderdate):"")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("联系方式")]),e("div",{staticClass:"context"},[t._v(t._s(t.info.event_info.mobile))])])]),e("div",{staticClass:"line"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("活动日期")]),e("div",{staticClass:"context"},[t._v(" "+t._s(t.info.event_info.event_startdate?t.getFormatDate(t.info.event_info.event_startdate).slice(0,10):"")+" 至 "+t._s(t.info.event_info.event_enddate?t.getFormatDate(t.info.event_info.event_enddate).slice(0,10):"")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("实际参会人数")]),e("div",{staticClass:"context"},[t._v(" 外部人数 "),e("el-input",{staticClass:"input_line",attrs:{readonly:t.readonly},on:{input:function(e){t.info.external_number=t.formatNum(t.info.external_number,1)}},model:{value:t.info.external_number,callback:function(e){t.$set(t.info,"external_number",e)},expression:"info.external_number"}}),t._v(" 人 内部人数 "),e("el-input",{staticClass:"input_line",attrs:{readonly:t.readonly},on:{input:function(e){t.info.internal_number=t.formatNum(t.info.internal_number,1)}},model:{value:t.info.internal_number,callback:function(e){t.$set(t.info,"internal_number",e)},expression:"info.internal_number"}}),t._v(" 人 总人数 "+t._s(t.positiveInteger(t.info.external_number)+t.positiveInteger(t.info.internal_number))+" 人 ")],1)])]),e("div",{staticClass:"line"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("客户名称")]),e("div",{staticClass:"context"},[t._v(t._s(t.info.event_info.company_name))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("旅行社陪同人员")]),e("div",{staticClass:"context hotel"},[e("el-input",{staticClass:"input_line",staticStyle:{width:"200px"},attrs:{readonly:t.readonly},on:{input:function(e){t.info.travel_agency_escort=t.formatNum(t.info.travel_agency_escort,1)}},model:{value:t.info.travel_agency_escort,callback:function(e){t.$set(t.info,"travel_agency_escort",e)},expression:"info.travel_agency_escort"}}),t._v(" 人 ")],1)])]),e("div",{staticClass:"line"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("活动名称")]),e("div",{staticClass:"context"},[t._v(t._s(t.info.event_info.event_name))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("PO单号")]),e("div",{staticClass:"context"},[e("el-input",{staticClass:"input_line",staticStyle:{width:"200px"},attrs:{disabled:!0},model:{value:t.info.event_info.pocode,callback:function(e){t.$set(t.info.event_info,"pocode",e)},expression:"info.event_info.pocode"}})],1)])]),e("div",{staticClass:"line"},[e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("报价日期")]),e("div",{staticClass:"context"},[t._v(" "+t._s(t.info.quotedpricedate?t.getFormatDate(t.info.quotedpricedate):"")+" ")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"label"},[t._v("采购酒店")]),e("div",{staticClass:"context"},[e("el-input",{staticClass:"input_line",staticStyle:{width:"200px"},attrs:{readonly:t.readonly},model:{value:t.info.hotelname,callback:function(e){t.$set(t.info,"hotelname",e)},expression:"info.hotelname"}}),e("el-checkbox",{staticStyle:{"line-height":"30px","margin-left":"20px"},attrs:{"true-label":1,"false-label":0},model:{value:t.info.isuser_preferred_hotel,callback:function(e){t.$set(t.info,"isuser_preferred_hotel",e)},expression:"info.isuser_preferred_hotel"}},[t._v("是否使用首选酒店")])],1)])])]),e("div",{staticClass:"step step_upflod"},[t._v(" Step2 上传结算相关凭证（必填） "),e("div",{staticClass:"showBase_tap",on:{click:function(e){t.showInfo=!t.showInfo}}},[e("img",{attrs:{src:t.showInfo?i("d991"):i("b93d"),alt:""}}),e("span",[t._v(t._s(t.showInfo?"收起":"展开"))])])]),e("table",{directives:[{name:"show",rawName:"v-show",value:t.showInfo,expression:"showInfo"}]},[t._m(0),t._l(t.arrayList,(function(i,s){return e("tbody",{key:s},[e("tr",[e("td",[t._v(t._s(i.name))]),e("td",[e("el-upload",{ref:"upload",refInFor:!0,attrs:{action:"","on-change":(e,s)=>{t.handleChangeAttach(e,s,t.type=i.type)},"on-remove":(e,s)=>{t.handleRemoveAttach(e,s,t.type=i.type)},"on-preview":t.handlePreview,"auto-upload":!1,"file-list":i.fileList,"show-file-list":!1,multiple:!1}},[e("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("从电脑选择文件")]),e("ul",{staticStyle:{"margin-top":"5px"}},t._l(i.fileList,(function(o,n){return e("li",{key:n,staticClass:"pitchOn",on:{click:function(e){return t.handlePreview(o)}}},[e("span",[t._v(t._s(o.name))]),e("span",{staticStyle:{color:"#199ed8",cursor:"pointer","margin-left":"30px"},on:{click:function(e){return e.stopPropagation(),t.fileRename(o,s,n)}}},[t._v("重命名")]),e("span",{staticStyle:{color:"#199ed8",cursor:"pointer","margin-left":"10px"},on:{click:function(e){return e.stopPropagation(),t.deleteFile(o,s,n,i.arrayLength)}}},[t._v("删除")]),o.create_date?e("span",{staticStyle:{"margin-left":"10px"}},[t._v("于"+t._s(t.getFormatDate(o.create_date))+"上传")]):t._e(),i.arrayLength==n&&t.isFail?e("span",{staticStyle:{color:"red","margin-left":"30px"}},[t._v("上传失败")]):t._e()])})),0)],1),e("el-dialog",{attrs:{"close-on-click-modal":!1,visible:t.rename,title:"请输入附件名称",width:"500px"},on:{"update:visible":function(e){t.rename=e}}},[e("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}},[e("template",{slot:"append"},[t._v(" "+t._s(t.suffix)+" ")])],2),e("span",{staticClass:"dialog-footer flex_row justify_center mar_t20",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.saveFileName()}}},[t._v("保存")])],1)],1)],1),e("td",[t._v(t._s(i.dissent))]),e("td",[e("el-input",{model:{value:i.remark,callback:function(e){t.$set(i,"remark",e)},expression:"item.remark"}})],1)])])}))],2),e("div",{staticClass:"step step_upflod"},[t._v(" Step3 填写结算明细（必填） "),e("div",{staticClass:"showBase_tap",on:{click:function(e){t.showPriceInfo=!t.showPriceInfo}}},[e("img",{attrs:{src:t.showPriceInfo?i("d991"):i("b93d"),alt:""}}),e("span",[t._v(t._s(t.showPriceInfo?"收起":"展开"))])])]),e("table",{directives:[{name:"show",rawName:"v-show",value:t.showPriceInfo,expression:"showPriceInfo"}]},[e("thead",[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3",attrs:{colspan:"4"}},[t._v(" 原订单总报价：¥"+t._s(t.positiveFloat(t.price[0]).toFixed(2))+" "),e("br"),t._v(" 原订单总报价(税前)：¥"+t._s(t.positiveFloat(t.positiveFloat(t.servicePrice[0])+(0===t.info.zhicai_service?t.positiveFloat(t.servicePrice[4]):t.positiveFloat(t.servicePrice[8]))+t.positiveFloat(t.price_no[0])).toFixed(2))+" "),e("br"),t._v(" 原订单总报价(净价)：¥"+t._s(t.positiveFloat(t.price_no[0]))+" ")]),e("th",{staticStyle:{position:"relative"},attrs:{colspan:"5"}},[t._v(" 订单总结算价：¥"+t._s(t.positiveFloat(t.price[1]).toFixed(2))+" "),e("br"),t._v(" 订单总结算价(税前)：¥"+t._s(t.positiveFloat(t.positiveFloat(t.servicePrice[1])+(0===t.info.zhicai_service?t.positiveFloat(t.servicePrice[5]):t.positiveFloat(t.servicePrice[9]))+t.positiveFloat(t.price_no[1])).toFixed(2))+" "),e("br"),t._v(" 订单总结算价(净价)：¥"+t._s(t.positiveFloat(t.price_no[1]))+" "),t.readonly?t._e():e("div",{staticClass:"add_settle"},[e("el-button",{staticClass:"el-icon-folder-add",attrs:{type:"primary",size:"mini"},on:{click:t.openAddSettle}},[t._v("添加结算项目")])],1)])])]),t.roomVisible?e("tbody",[e("tr",{staticClass:"color_2"},[t._m(1),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 报价金额：¥"+t._s(t.positiveFloat(t.roomPrice[0].all))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 结算金额：¥"+t._s(t.positiveFloat(t.roomPrice[1].all))+" ")]),e("th")])]):t._e(),t._l(t.info.roomlist,(function(i,s){return e("tbody",{key:"kefang"+s},[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[e("i",[t._v(t._s(t._f("date_day_ex")(i.date)))])]),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.roomPrice[0].subtotal["sub_"+s]))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.roomPrice[1].subtotal["sub_"+s]))+" ")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addroom(i)}}},[t._v("添加客房")]):t._e()],1)]),e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("消费项目")]),e("th",{staticClass:"color_3"},[t._v("单价(元)")]),e("th",{staticClass:"color_3"},[t._v("数量")]),e("th",{staticClass:"color_3"},[t._v("金额(元)")]),e("th",[t._v("单价(元)")]),"0"==t.info.is_Inside_outside?e("th",[t._v("数量")]):t._e(),"1"==t.info.is_Inside_outside?e("th",[t._v("内部间数 外部间数")]):t._e(),e("th",[t._v("金额(元)")]),e("th",[t._v("客户异议")]),e("th",[t._v("结算说明")])]),t._l(i.roomlists,(function(s,o){return e("tr",{key:"room"+o,class:{difference:s.difference}},[e("td",{staticClass:"color_2"},[s.quoted_price_room_id?[t._v(" "+t._s(s.roomtypename)+" ")]:[e("el-select",{attrs:{loading:t.cost_project_load,size:"small",filterable:""},on:{change:function(e){return t.changekefang(e,s)}},model:{value:s.settlement_itemid,callback:function(e){t.$set(s,"settlement_itemid",e)},expression:"room.settlement_itemid"}},t._l(t.roomcostProjects,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],s.quoted_price_room_id&&(s.otherrequirements||s.remarks)?e("el-tooltip",{staticClass:"describe-tooltip",attrs:{effect:"dark",placement:"top-end"}},[e("div",{staticStyle:{width:"150px"},attrs:{slot:"content"},slot:"content"},[s.otherrequirements?e("div",[t._v(" 需求说明："+t._s(s.otherrequirements)+" ")]):t._e(),s.remarks?e("div",[t._v("报价备注："+t._s(s.remarks))]):t._e()]),e("el-button",{attrs:{type:"text"}},[t._v("备注")])],1):t._e()],2),e("td",{staticClass:"color_2"},[t._v("¥"+t._s(t.positiveFloat(s.unitprice)))]),e("td",{staticClass:"color_2"},["0"==t.info.is_Inside_outside?e("p",[t._v(" "+t._s(s.provide_count)+" ")]):t._e(),"1"==t.info.is_Inside_outside?e("div",[e("p",[t._v("内部人员："+t._s(s.inside_roomcount))]),e("p",[t._v("外部人员："+t._s(s.outside_roomcount))])]):t._e()]),e("td",{staticClass:"color_2"},[t._v(" ¥"+t._s(t.positiveFloat(s.quotationsumprice))+" ")]),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},attrs:{type:"text",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_unitprice=t.formatNum(s.settlement_unitprice,2)}},model:{value:s.settlement_unitprice,callback:function(e){t.$set(s,"settlement_unitprice",e)},expression:"room.settlement_unitprice"}})],1),e("td",["0"==t.info.is_Inside_outside?e("el-input",{class:{lineBack:!!s.lineoroffline},staticStyle:{width:"50%"},attrs:{placeholder:"请输入数量",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_count=t.formatNum(s.settlement_count,3)}},model:{value:s.settlement_count,callback:function(e){t.$set(s,"settlement_count",e)},expression:"room.settlement_count"}}):t._e(),"1"==t.info.is_Inside_outside?e("div",{staticStyle:{display:"flex"}},[e("el-input",{class:{lineBack:!!s.lineoroffline},staticStyle:{width:"55%"},attrs:{placeholder:"请输入数量",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_inside_roomcount=t.formatNum(s.settlement_inside_roomcount,3),s.settlement_count=t.positiveFloat(s.settlement_inside_roomcount)+t.positiveFloat(s.settlement_outside_roomcount)}},model:{value:s.settlement_inside_roomcount,callback:function(e){t.$set(s,"settlement_inside_roomcount",e)},expression:"room.settlement_inside_roomcount"}}),e("el-input",{class:{lineBack:!!s.lineoroffline},staticStyle:{width:"55%","margin-left":"10px"},attrs:{placeholder:"请输入数量",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_outside_roomcount=t.formatNum(s.settlement_outside_roomcount,3),s.settlement_count=t.positiveFloat(s.settlement_inside_roomcount)+t.positiveFloat(s.settlement_outside_roomcount)}},model:{value:s.settlement_outside_roomcount,callback:function(e){t.$set(s,"settlement_outside_roomcount",e)},expression:"room.settlement_outside_roomcount"}})],1):t._e()],1),s.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(s.settlement_unitprice)*t.positiveFloat(s.settlement_count)))+" ")]),e("td",[t._v(t._s(s.settlement_customer_objection))]),e("td",[e("el-input",{class:{difference:t.roomDifference(s),line:!s.quoted_price_room_id,lineBack:!!s.lineoroffline},attrs:{readonly:t.readonly||!!s.lineoroffline},model:{value:s.settlement_comments,callback:function(e){t.$set(s,"settlement_comments",e)},expression:"room.settlement_comments"}}),!s.quoted_price_room_id&&t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",disabled:t.readonly||!!s.lineoroffline,circle:"",size:"mini"},on:{click:function(e){return t.delroom(i,o)}}}):t._e()],1)])}))],2)})),t.roomVisible?e("tbody",[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("杂费小计")]),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th"),e("th"),e("th",{staticStyle:{"text-align":"right"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.roomPrice[2]))+" ")]),e("th",[t._v("客户异议")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addOther(1)}}},[t._v("添加杂费")]):t._e()],1)]),t._l(t.roomincidental,(function(i){return e("tr",{key:i.id},[e("td",{staticClass:"color_2"},[e("el-input",{attrs:{readonly:t.readonly||!!i.lineoroffline,placeholder:"杂费项名称"},model:{value:i.content,callback:function(e){t.$set(i,"content",e)},expression:"roomzf.content"}})],1),e("td",{staticClass:"color_2"},[e("el-checkbox",{attrs:{disabled:t.readonly||!!i.lineoroffline,"true-label":1,"false-label":0},model:{value:i.isnotservice,callback:function(e){t.$set(i,"isnotservice",e)},expression:"roomzf.isnotservice"}},[t._v("计入服务费")])],1),e("td",{staticClass:"color_2"}),e("td",{staticClass:"color_2"}),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.price=t.formatNum(i.price,2)}},model:{value:i.price,callback:function(e){t.$set(i,"price",e)},expression:"roomzf.price"}})],1),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.count=t.positiveFloatOne(i.count)}},model:{value:i.count,callback:function(e){t.$set(i,"count",e)},expression:"roomzf.count"}})],1),i.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(i.price)*t.positiveFloat(i.count)))+" ")]),e("td",[t._v(t._s(i.settlement_customer_objection))]),e("td",[e("el-input",{staticClass:"line",class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},model:{value:i.comments,callback:function(e){t.$set(i,"comments",e)},expression:"roomzf.comments"}}),t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!i.lineoroffline},on:{click:function(e){return t.delOther(i.id)}}}):t._e()],1)])}))],2):t._e(),t.conferenceVisible?e("tbody",[e("tr",{staticClass:"color_2"},[t._m(2),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 报价金额：¥"+t._s(t.positiveFloat(t.conferencePrice[0].all))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 结算金额：¥"+t._s(t.positiveFloat(t.conferencePrice[1].all))+" ")]),e("th")])]):t._e(),t._l(t.info.conferencelist,(function(i,s){return e("tbody",{key:"huiyi"+s},[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[e("i",[t._v(t._s(t._f("date_day_ex")(i.date)))])]),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.conferencePrice[0].subtotal["sub_"+s]))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.conferencePrice[1].subtotal["sub_"+s]))+" ")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addconference(i)}}},[t._v("添加会场")]):t._e()],1)]),t._m(3,!0),t._l(i.conferencelists,(function(s,o){return e("tr",{key:"conference"+o},[e("td",{staticClass:"color_2"},[s.quoted_price_conference_id?[1==s.type?[t._v(" "+t._s("场租-会场"+s.order_name+`(${s.roomsetuptypename};会议时间:${s.starttime}~${s.endtime};出席人数:${s.attendees}人)`)+" ")]:t._e(),2==s.type?[t._v(" "+t._s("会场搭建费-"+s.related_information+" ("+s.roomsetuptypename+")")+" ")]:t._e(),3==s.type?[t._v(" "+t._s("设备-会场"+s.order_name+`(${s.roomsetuptypename};${s.equipment})`)+" ")]:t._e(),4==s.type?[t._v(" "+t._s(s.settlement_itemname)+" ")]:t._e()]:[e("el-select",{attrs:{loading:t.cost_project_load,size:"small",filterable:""},on:{change:function(e){return t.changehuichang(e,s)}},model:{value:s.settlement_itemid,callback:function(e){t.$set(s,"settlement_itemid",e)},expression:"conference.settlement_itemid"}},t._l(t.meetingcostProjects,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],s.quoted_price_conference_id&&(s.describe||s.comments)?e("el-tooltip",{staticClass:"describe-tooltip",attrs:{effect:"dark",placement:"top-end"}},[e("div",{staticStyle:{width:"150px"},attrs:{slot:"content"},slot:"content"},[s.describe?e("div",[t._v(" 需求说明："+t._s(s.describe)+" ")]):t._e(),s.comments?e("div",[t._v(" 报价备注："+t._s(s.comments)+" ")]):t._e()]),e("el-button",{attrs:{type:"text"}},[t._v("备注")])],1):t._e()],2),e("td",{staticClass:"color_2"},[t._v("¥"+t._s(t.positiveFloat(s.price)))]),e("td",{staticClass:"color_2"},[t._v(t._s(s.count))]),e("td",{staticClass:"color_2"},[t._v(" ¥"+t._s(t.positiveFloat(s.quotationsumprice?s.quotationsumprice:0))+" ")]),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},attrs:{type:"text",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_price=t.formatNum(s.settlement_price,2)}},model:{value:s.settlement_price,callback:function(e){t.$set(s,"settlement_price",e)},expression:"conference.settlement_price"}})],1),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},staticStyle:{width:"50%"},attrs:{placeholder:"请输入数量",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_count=t.formatNum(s.settlement_count,2)}},model:{value:s.settlement_count,callback:function(e){t.$set(s,"settlement_count",e)},expression:"conference.settlement_count"}})],1),s.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(s.settlement_price)*t.positiveFloat(s.settlement_count)))+" ")]),e("td",[t._v(t._s(s.settlement_customer_objection))]),e("td",[e("el-input",{class:{difference:t.conferenceDifference(s),line:!s.quoted_price_conference_id,lineBack:!!s.lineoroffline},attrs:{readonly:t.readonly||!!s.lineoroffline},model:{value:s.settlement_comments,callback:function(e){t.$set(s,"settlement_comments",e)},expression:"conference.settlement_comments"}}),!s.quoted_price_conference_id&&t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!s.lineoroffline},on:{click:function(e){return t.delconference(i,o)}}}):t._e()],1)])}))],2)})),t.conferenceVisible?e("tbody",[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("杂费小计")]),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th"),e("th"),e("th",{staticStyle:{"text-align":"right"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.conferencePrice[2]))+" ")]),e("th",[t._v("客户异议")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addOther(2)}}},[t._v("添加杂费")]):t._e()],1)]),t._l(t.meetingcidental,(function(i){return e("tr",{key:i.id},[e("td",{staticClass:"color_2"},[e("el-input",{attrs:{readonly:t.readonly||!!i.lineoroffline,placeholder:"杂费项名称"},model:{value:i.content,callback:function(e){t.$set(i,"content",e)},expression:"conferencezf.content"}})],1),e("td",{staticClass:"color_2"},[e("el-checkbox",{attrs:{disabled:t.readonly||!!i.lineoroffline,"true-label":1,"false-label":0},model:{value:i.isnotservice,callback:function(e){t.$set(i,"isnotservice",e)},expression:"conferencezf.isnotservice"}},[t._v(" 计入服务费 ")])],1),e("td",{staticClass:"color_2"}),e("td",{staticClass:"color_2"}),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{type:"text",readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.price=t.formatNum(i.price,2)}},model:{value:i.price,callback:function(e){t.$set(i,"price",e)},expression:"conferencezf.price"}})],1),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.count=t.positiveFloatOne(i.count)}},model:{value:i.count,callback:function(e){t.$set(i,"count",e)},expression:"conferencezf.count"}})],1),i.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(i.price)*t.positiveFloat(i.count)))+" ")]),e("td",[t._v(t._s(i.settlement_customer_objection))]),e("td",[e("el-input",{staticClass:"line",class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},model:{value:i.comments,callback:function(e){t.$set(i,"comments",e)},expression:"conferencezf.comments"}}),t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!i.lineoroffline},on:{click:function(e){return t.delOther(i.id)}}}):t._e()],1)])}))],2):t._e(),t.foodVisible?e("tbody",[e("tr",{staticClass:"color_2"},[t._m(4),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 报价金额：¥"+t._s(t.positiveFloat(t.foodPrice[0].all))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 结算金额：¥"+t._s(t.positiveFloat(t.foodPrice[1].all))+" ")]),e("th")])]):t._e(),t._l(t.info.foodlist,(function(i,s){return e("tbody",{key:"hotelcanyininside"+s},[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[e("i",[t._v(t._s(t._f("date_day_ex")(i.date)))])]),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.foodPrice[0].subtotal["sub_"+s]))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.foodPrice[1].subtotal["sub_"+s]))+" ")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addfood(i)}}},[t._v("添加餐饮")]):t._e()],1)]),t._m(5,!0),t._l(i.foodlists,(function(s,o){return e("tr",{key:"food"+o},[e("td",{staticClass:"color_2"},[s.quoted_price_food_id?[t._v(" "+t._s(s.foodtypename)+" "),s.usetypename?e("span",[t._v("["+t._s(s.usetypename)+"]")]):t._e()]:[e("el-select",{attrs:{loading:t.cost_project_load,size:"small",filterable:""},on:{change:function(e){return t.changehotelnei(e,s)}},model:{value:s.settlement_itemid,callback:function(e){t.$set(s,"settlement_itemid",e)},expression:"food.settlement_itemid"}},t._l(t.foodcostProjects,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],s.quoted_price_food_id&&(s.comments||s.offer_remarks)?e("el-tooltip",{staticClass:"describe-tooltip",attrs:{effect:"dark",placement:"top-end"}},[e("div",{staticStyle:{width:"150px"},attrs:{slot:"content"},slot:"content"},[s.comments?e("div",[t._v("需求说明："+t._s(s.comments))]):t._e(),s.offer_remarks?e("div",[t._v(" 报价备注："+t._s(s.offer_remarks)+" ")]):t._e()]),e("el-button",{attrs:{type:"text"}},[t._v("备注")])],1):t._e()],2),e("td",{staticClass:"color_2"},[t._v("¥"+t._s(t.positiveFloat(s.price)))]),e("td",{staticClass:"color_2"},[t._v(t._s(s.personcount))]),e("td",{staticClass:"color_2"},[t._v(" ¥"+t._s(t.positiveFloat(s.quotationsumprice))+" ")]),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},attrs:{readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_unitprice=t.formatNum(s.settlement_unitprice,2)}},model:{value:s.settlement_unitprice,callback:function(e){t.$set(s,"settlement_unitprice",e)},expression:"food.settlement_unitprice"}})],1),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},staticStyle:{width:"50%"},attrs:{placeholder:"请输入数量",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_count=t.formatNum(s.settlement_count,2)}},model:{value:s.settlement_count,callback:function(e){t.$set(s,"settlement_count",e)},expression:"food.settlement_count"}})],1),s.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(s.settlement_unitprice)*t.positiveFloat(s.settlement_count)))+" ")]),e("td",[t._v(t._s(s.settlement_customer_objection))]),e("td",[e("el-input",{class:{difference:t.foodDifference(s),line:!s.quoted_price_food_id,lineBack:!!s.lineoroffline},attrs:{readonly:t.readonly||!!s.lineoroffline},model:{value:s.settlement_comments,callback:function(e){t.$set(s,"settlement_comments",e)},expression:"food.settlement_comments"}}),!s.quoted_price_food_id&&t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",disabled:t.readonly||!!s.lineoroffline,circle:"",size:"mini"},on:{click:function(e){return t.delfood(i,o)}}}):t._e()],1)])}))],2)})),t.foodVisible?e("tbody",[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("杂费小计")]),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th"),e("th"),e("th",{staticStyle:{"text-align":"right"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.foodPrice[2]))+" ")]),e("th",[t._v("客户异议")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addOther(3)}}},[t._v("添加杂费")]):t._e()],1)]),t._l(t.foodincidental,(function(i){return e("tr",{key:i.id},[e("td",{staticClass:"color_2"},[e("el-input",{attrs:{readonly:t.readonly||!!i.lineoroffline,placeholder:"杂费项名称"},model:{value:i.content,callback:function(e){t.$set(i,"content",e)},expression:"foodzf.content"}})],1),e("td",{staticClass:"color_2"},[e("el-checkbox",{attrs:{disabled:t.readonly||!!i.lineoroffline,"true-label":1,"false-label":0},model:{value:i.isnotservice,callback:function(e){t.$set(i,"isnotservice",e)},expression:"foodzf.isnotservice"}},[t._v("计入服务费")])],1),e("td",{staticClass:"color_2"}),e("td",{staticClass:"color_2"}),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{type:"text",readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.price=t.formatNum(i.price,2)}},model:{value:i.price,callback:function(e){t.$set(i,"price",e)},expression:"foodzf.price"}})],1),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.count=t.positiveFloatOne(i.count)}},model:{value:i.count,callback:function(e){t.$set(i,"count",e)},expression:"foodzf.count"}})],1),i.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(i.price)*t.positiveFloat(i.count)))+" ")]),e("td",[t._v(t._s(i.settlement_customer_objection))]),e("td",[e("el-input",{staticClass:"line",class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},model:{value:i.comments,callback:function(e){t.$set(i,"comments",e)},expression:"foodzf.comments"}}),t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!i.lineoroffline},on:{click:function(e){return t.delOther(i.id)}}}):t._e()],1)])}))],2):t._e(),t.otherfoodVisible?e("tbody",[e("tr",{staticClass:"color_2"},[t._m(6),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 报价金额：¥"+t._s(t.positiveFloat(t.otherfoodPrice[0].all))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 结算金额：¥"+t._s(t.positiveFloat(t.otherfoodPrice[1].all))+" ")]),e("th")])]):t._e(),t._l(t.info.otherfoodlist,(function(i,s){return e("tbody",{key:"otherhotelcanyininside"+s},[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[e("i",[t._v(t._s(t._f("date_day_ex")(i.date)))])]),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.otherfoodPrice[0].subtotal["sub_"+s]))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.otherfoodPrice[1].subtotal["sub_"+s]))+" ")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addotherfood(i)}}},[t._v("添加餐饮")]):t._e()],1)]),t._m(7,!0),t._l(i.foodlists,(function(s,o){return e("tr",{key:"food"+o},[e("td",{staticClass:"color_2"},[s.quoted_price_food_id?[t._v(" "+t._s(s.foodtypename)+" "),s.usetypename?e("span",[t._v("["+t._s(s.usetypename)+"]")]):t._e()]:[e("el-select",{attrs:{loading:t.cost_project_load,size:"small",filterable:""},on:{change:function(e){return t.changehotelwai(e,s)}},model:{value:s.settlement_itemid,callback:function(e){t.$set(s,"settlement_itemid",e)},expression:"food.settlement_itemid"}},t._l(t.otherfoodcostProjects,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],s.quoted_price_food_id&&(s.comments||s.offer_remarks)?e("el-tooltip",{staticClass:"describe-tooltip",attrs:{effect:"dark",placement:"top-end"}},[e("div",{staticStyle:{width:"150px"},attrs:{slot:"content"},slot:"content"},[s.comments?e("div",[t._v("需求说明："+t._s(s.comments))]):t._e(),s.offer_remarks?e("div",[t._v(" 报价备注："+t._s(s.offer_remarks)+" ")]):t._e()]),e("el-button",{attrs:{type:"text"}},[t._v("备注")])],1):t._e()],2),e("td",{staticClass:"color_2"},[t._v("¥"+t._s(t.positiveFloat(s.price)))]),e("td",{staticClass:"color_2"},[t._v(t._s(s.personcount))]),e("td",{staticClass:"color_2"},[t._v(" ¥"+t._s(t.positiveFloat(s.quotationsumprice))+" ")]),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},attrs:{readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_unitprice=t.formatNum(s.settlement_unitprice,2)}},model:{value:s.settlement_unitprice,callback:function(e){t.$set(s,"settlement_unitprice",e)},expression:"food.settlement_unitprice"}})],1),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},staticStyle:{width:"50%"},attrs:{placeholder:"请输入数量",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_count=t.formatNum(s.settlement_count,2)}},model:{value:s.settlement_count,callback:function(e){t.$set(s,"settlement_count",e)},expression:"food.settlement_count"}})],1),s.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(s.settlement_unitprice)*t.positiveFloat(s.settlement_count)))+" ")]),e("td",[t._v(t._s(s.settlement_customer_objection))]),e("td",[e("el-input",{class:{difference:t.otherFoodDifference(s),line:!s.quoted_price_food_id,lineBack:!!s.lineoroffline},attrs:{readonly:t.readonly||!!s.lineoroffline},model:{value:s.settlement_comments,callback:function(e){t.$set(s,"settlement_comments",e)},expression:"food.settlement_comments"}}),!s.quoted_price_food_id&&t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!s.lineoroffline},on:{click:function(e){return t.delotherfood(i,o)}}}):t._e()],1)])}))],2)})),t.otherfoodVisible?e("tbody",[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("杂费小计")]),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th"),e("th"),e("th",{staticStyle:{"text-align":"right"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.otherfoodPrice[2]))+" ")]),e("th",[t._v("客户异议")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addOther(7)}}},[t._v("添加杂费")]):t._e()],1)]),t._l(t.otherfoodincidental,(function(i){return e("tr",{key:i.id},[e("td",{staticClass:"color_2"},[e("el-input",{attrs:{readonly:t.readonly||!!i.lineoroffline,placeholder:"杂费项名称"},model:{value:i.content,callback:function(e){t.$set(i,"content",e)},expression:"foodzf.content"}})],1),e("td",{staticClass:"color_2"},[e("el-checkbox",{attrs:{disabled:t.readonly||!!i.lineoroffline,"true-label":1,"false-label":0},model:{value:i.isnotservice,callback:function(e){t.$set(i,"isnotservice",e)},expression:"foodzf.isnotservice"}},[t._v("计入服务费")])],1),e("td",{staticClass:"color_2"}),e("td",{staticClass:"color_2"}),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{type:"text",readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.price=t.formatNum(i.price,2)}},model:{value:i.price,callback:function(e){t.$set(i,"price",e)},expression:"foodzf.price"}})],1),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.count=t.positiveFloatOne(i.count)}},model:{value:i.count,callback:function(e){t.$set(i,"count",e)},expression:"foodzf.count"}})],1),i.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(i.price)*t.positiveFloat(i.count)))+" ")]),e("td",[t._v(t._s(i.settlement_customer_objection))]),e("td",[e("el-input",{staticClass:"line",class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},model:{value:i.comments,callback:function(e){t.$set(i,"comments",e)},expression:"foodzf.comments"}}),t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!i.lineoroffline},on:{click:function(e){return t.delOther(i.id)}}}):t._e()],1)])}))],2):t._e(),t.transportationVisible?e("tbody",[e("tr",{staticClass:"color_2"},[t._m(8),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 报价金额：¥"+t._s(t.positiveFloat(t.intercitytrafficPrice[0].all))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 结算金额：¥"+t._s(t.positiveFloat(t.intercitytrafficPrice[1].all))+" ")]),e("th")])]):t._e(),t._l(t.info.transportationlist,(function(i,s){return e("tbody",{key:"chengji"+s},[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[e("i",[t._v(t._s(t._f("date_day_ex")(i.date)))])]),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.intercitytrafficPrice[0].subtotal["sub_"+s]))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.intercitytrafficPrice[1].subtotal["sub_"+s]))+" ")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addstransportation(i)}}},[t._v("添加交通")]):t._e()],1)]),t._m(9,!0),t._l(i.tranlists,(function(s,o){return e("tr",{key:"transportation"+o},[e("td",{staticClass:"color_2"},[s.quoted_price_transportation_id?[t._v(" "+t._s(s.joinname)+" ")]:[e("el-select",{attrs:{loading:t.cost_project_load,size:"small",filterable:""},on:{change:function(e){return t.changebigcar(e,s)}},model:{value:s.settlement_itemid,callback:function(e){t.$set(s,"settlement_itemid",e)},expression:"transportation.settlement_itemid"}},t._l(t.transportationcostProjects,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],s.quoted_price_transportation_id&&(s.requirement||s.offerremarks)?e("el-tooltip",{staticClass:"describe-tooltip",attrs:{effect:"dark",placement:"top-end"}},[e("div",{staticStyle:{width:"150px"},attrs:{slot:"content"},slot:"content"},[s.requirement?e("div",[t._v(" 需求说明："+t._s(s.requirement)+" ")]):t._e(),s.offerremarks?e("div",[t._v(" 报价备注："+t._s(s.offerremarks)+" ")]):t._e()]),e("el-button",{attrs:{type:"text"}},[t._v("备注")])],1):t._e()],2),e("td",{staticClass:"color_2"},[t._v(" ¥"+t._s(t.positiveFloat(s.unitprice))+" ")]),e("td",{staticClass:"color_2"},[t._v(t._s(s.passengercount))]),e("td",{staticClass:"color_2"},[t._v(" ¥"+t._s(t.positiveFloat(s.quotationsumprice))+" ")]),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},attrs:{readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_unitprice=t.formatNum(s.settlement_unitprice,2)}},model:{value:s.settlement_unitprice,callback:function(e){t.$set(s,"settlement_unitprice",e)},expression:"transportation.settlement_unitprice"}})],1),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},staticStyle:{width:"50%"},attrs:{placeholder:"请输入数量",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_count=t.formatNum(s.settlement_count,2)}},model:{value:s.settlement_count,callback:function(e){t.$set(s,"settlement_count",e)},expression:"transportation.settlement_count"}})],1),s.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(s.settlement_unitprice)*t.positiveFloat(s.settlement_count)))+" ")]),e("td",[t._v(t._s(s.settlement_customer_objection))]),e("td",[e("el-input",{class:{difference:t.transportationDifference(s),line:!s.quoted_price_transportation_id,lineBack:!!s.lineoroffline},attrs:{readonly:t.readonly||!!s.lineoroffline},model:{value:s.settlement_comments,callback:function(e){t.$set(s,"settlement_comments",e)},expression:"transportation.settlement_comments"}}),!s.quoted_price_transportation_id&&t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!s.lineoroffline},on:{click:function(e){return t.delstransportation(i,o)}}}):t._e()],1)])}))],2)})),t.transportationVisible?e("tbody",[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("杂费小计")]),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th"),e("th"),e("th",{staticStyle:{"text-align":"right"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.intercitytrafficPrice[2]))+" ")]),e("th",[t._v("客户异议")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addOther(4)}}},[t._v("添加杂费")]):t._e()],1)]),t._l(t.intercitytrafficincidental,(function(i){return e("tr",{key:i.id},[e("td",{staticClass:"color_2"},[e("el-select",{attrs:{disabled:t.readonly||!!i.lineoroffline,placeholder:"请选择乘坐工具"},model:{value:i.itemcode,callback:function(e){t.$set(i,"itemcode",e)},expression:"transportationzf.itemcode"}},t._l(t.info.trantypelist,(function(t){return e("el-option",{key:t.trancode,attrs:{value:t.trancode,label:t.tranname}})})),1)],1),e("td",{staticClass:"color_2"},[e("el-checkbox",{attrs:{disabled:t.readonly||!!i.lineoroffline,"true-label":1,"false-label":0},model:{value:i.isnotservice,callback:function(e){t.$set(i,"isnotservice",e)},expression:"transportationzf.isnotservice"}},[t._v(" 计入服务费 ")])],1),e("td",{staticClass:"color_2"}),e("td",{staticClass:"color_2"}),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{type:"text",readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.price=t.formatNum(i.price,2)}},model:{value:i.price,callback:function(e){t.$set(i,"price",e)},expression:"transportationzf.price"}})],1),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.count=t.positiveFloatOne(i.count)}},model:{value:i.count,callback:function(e){t.$set(i,"count",e)},expression:"transportationzf.count"}})],1),i.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(i.price)*t.positiveFloat(i.count)))+" ")]),e("td",[t._v(t._s(i.settlement_customer_objection))]),e("td",[e("el-input",{staticClass:"line",class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},model:{value:i.comments,callback:function(e){t.$set(i,"comments",e)},expression:"transportationzf.comments"}}),t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!i.lineoroffline},on:{click:function(e){return t.delOther(i.id)}}}):t._e()],1)])}))],2):t._e(),t.carVisible?e("tbody",[e("tr",{staticClass:"color_2"},[t._m(10),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 报价金额：¥"+t._s(t.positiveFloat(t.carPrice[0].all))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 结算金额：¥"+t._s(t.positiveFloat(t.carPrice[1].all))+" ")]),e("th")])]):t._e(),t._l(t.info.carlist,(function(i,s){return e("tbody",{key:"shinei"+s},[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[e("i",[t._v(t._s(t._f("date_day_ex")(i.date)))])]),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.carPrice[0].subtotal["sub_"+s]))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.carPrice[1].subtotal["sub_"+s]))+" ")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addcar(i)}}},[t._v("添加交通")]):t._e()],1)]),t._m(11,!0),t._l(i.carlists,(function(s,o){return e("tr",{key:"car"+o},[e("td",{staticClass:"color_2"},[s.quoted_price_car_id?[t._v(" "+t._s(`${s.purposename}(${s.vehicletypename};搭乘人数:${s.vehiclecount}人;用车城市:${s.city})`)+" ")]:[e("el-select",{attrs:{loading:t.cost_project_load,size:"small",filterable:""},on:{change:function(e){return t.changecar(e,s)}},model:{value:s.settlement_itemid,callback:function(e){t.$set(s,"settlement_itemid",e)},expression:"car.settlement_itemid"}},t._l(t.carcostProjects,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],s.quoted_price_car_id&&(s.explain||s.offer_remarks)?e("el-tooltip",{staticClass:"describe-tooltip",attrs:{effect:"dark",placement:"top-end"}},[e("div",{staticStyle:{width:"150px"},attrs:{slot:"content"},slot:"content"},[s.explain?e("div",[t._v("需求说明："+t._s(s.explain))]):t._e(),s.offer_remarks?e("div",[t._v(" 报价备注："+t._s(s.offer_remarks)+" ")]):t._e()]),e("el-button",{attrs:{type:"text"}},[t._v("备注")])],1):t._e()],2),e("td",{staticClass:"color_2"},[t._v("¥"+t._s(t.positiveFloat(s.price)))]),e("td",{staticClass:"color_2"},[t._v(t._s(s.carcount))]),e("td",{staticClass:"color_2"},[t._v("¥"+t._s(t.positiveFloat(s.quotationsumprice)))]),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},attrs:{type:"text",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_unitprice=t.formatNum(s.settlement_unitprice,2)}},model:{value:s.settlement_unitprice,callback:function(e){t.$set(s,"settlement_unitprice",e)},expression:"car.settlement_unitprice"}})],1),e("td",[e("el-input",{class:{lineBack:!!s.lineoroffline},staticStyle:{width:"50%"},attrs:{placeholder:"请输入数量",readonly:t.readonly||!!s.lineoroffline},on:{input:function(e){s.settlement_count=t.formatNum(s.settlement_count,2)}},model:{value:s.settlement_count,callback:function(e){t.$set(s,"settlement_count",e)},expression:"car.settlement_count"}})],1),s.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(s.settlement_unitprice)*t.positiveFloat(s.settlement_count)))+" ")]),e("td",[t._v(t._s(s.settlement_customer_objection))]),e("td",[e("el-input",{class:{difference:t.carDifference(s),line:!s.quoted_price_car_id,lineBack:!!s.lineoroffline},attrs:{readonly:t.readonly||!!s.lineoroffline},model:{value:s.settlement_comments,callback:function(e){t.$set(s,"settlement_comments",e)},expression:"car.settlement_comments"}}),!s.quoted_price_car_id&&t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",disabled:t.readonly||!!s.lineoroffline,circle:"",size:"mini"},on:{click:function(e){return t.delcar(i,o)}}}):t._e()],1)])}))],2)})),t.carVisible?e("tbody",[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("杂费小计")]),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th"),e("th"),e("th",{staticStyle:{"text-align":"right"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.carPrice[2]))+" ")]),e("th",[t._v("客户异议")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addOther(5)}}},[t._v("添加杂费")]):t._e()],1)]),t._l(t.carincidental,(function(i){return e("tr",{key:i.id},[e("td",{staticClass:"color_2"},[e("el-input",{attrs:{readonly:t.readonly||!!i.lineoroffline,placeholder:"杂费项名称"},model:{value:i.content,callback:function(e){t.$set(i,"content",e)},expression:"carzf.content"}})],1),e("td",{staticClass:"color_2"},[e("el-checkbox",{attrs:{disabled:t.readonly||!!i.lineoroffline,"true-label":1,"false-label":0},model:{value:i.isnotservice,callback:function(e){t.$set(i,"isnotservice",e)},expression:"carzf.isnotservice"}},[t._v("计入服务费")])],1),e("td",{staticClass:"color_2"}),e("td",{staticClass:"color_2"}),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.price=t.formatNum(i.price,2)}},model:{value:i.price,callback:function(e){t.$set(i,"price",e)},expression:"carzf.price"}})],1),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.count=t.positiveFloatOne(i.count)}},model:{value:i.count,callback:function(e){t.$set(i,"count",e)},expression:"carzf.count"}})],1),i.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(i.price)*t.positiveFloat(i.count)))+" ")]),e("td",[t._v(t._s(i.settlement_customer_objection))]),e("td",[e("el-input",{staticClass:"line",class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},model:{value:i.comments,callback:function(e){t.$set(i,"comments",e)},expression:"carzf.comments"}}),t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!i.lineoroffline},on:{click:function(e){return t.delOther(i.id)}}}):t._e()],1)])}))],2):t._e(),e("tbody",[e("tr",{staticClass:"color_2"},[t._m(12),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 报价金额：¥"+t._s(t.positiveFloat(t.otherPrice[0]))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 结算金额：¥"+t._s(t.positiveFloat(t.otherPrice[1]))+" ")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addsundry()}}},[t._v("添加其他")]):t._e()],1)])]),e("tbody",[t._m(13),t._l(t.info.otherlist,(function(i,s){return e("tr",{key:"other"+s},[e("td",{staticClass:"color_2"},[i.quoted_price_other_id?e("div",[t._v(" "+t._s(i.servicetypename)+" ")]):e("div",[e("el-select",{attrs:{loading:t.cost_project_load,size:"small",filterable:""},on:{change:function(e){return t.changeOtherSel(i,s,e)}},model:{value:i.settlement_itemid,callback:function(e){t.$set(i,"settlement_itemid",e)},expression:"other.settlement_itemid"}},t._l(t.othercostProjects,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),i.quoted_price_other_id&&(i.describe||i.offer_remarks)?e("el-tooltip",{staticClass:"describe-tooltip",attrs:{effect:"dark",placement:"top-end"}},[e("div",{staticStyle:{width:"150px"},attrs:{slot:"content"},slot:"content"},[i.describe?e("div",[t._v(" 需求说明："+t._s(i.describe)+" ")]):t._e(),i.offer_remarks?e("div",[t._v(" 报价备注："+t._s(i.offer_remarks)+" ")]):t._e()]),e("el-button",{attrs:{type:"text"}},[t._v("备注")])],1):t._e()],1),i.quoted_price_other_id?e("td",{staticClass:"color_2"},[t._v(" "+t._s(t.positiveFloat(i.price))+" ")]):t._e(),i.quoted_price_other_id?e("td",{staticClass:"color_2"},[t._v(" "+t._s(i.offerparticipatecount)+" ")]):t._e(),i.quoted_price_other_id?e("td",{staticClass:"color_2"},[t._v(" ¥"+t._s(t.positiveFloat(i.quotationsumprice))+" ")]):t._e(),i.quoted_price_other_id?t._e():e("td",{staticClass:"color_2 otherFee",attrs:{colspan:"3"}},[e("div",[[e("el-select",{directives:[{name:"show",rawName:"v-show",value:["009-5","009-6","009-7","009-11","009-12"].includes(i.settlement_itemid),expression:"\n                      ['009-5', '009-6', '009-7', '009-11', '009-12'].includes(\n                        other.settlement_itemid\n                      )\n                    "}],staticStyle:{width:"200px"},attrs:{clearable:"",size:"small"},model:{value:i.two_level_code,callback:function(e){t.$set(i,"two_level_code",e)},expression:"other.two_level_code"}},t._l(i.detail,(function(t){return e("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),1)],e("el-checkbox",{attrs:{disabled:t.readonly||!!i.lineoroffline||!0,"true-label":1,"false-label":0},model:{value:i.isnotservice,callback:function(e){t.$set(i,"isnotservice",e)},expression:"other.isnotservice"}},[t._v(" 计入服务费 ")]),t.info.event_info_configure.service_fee_calculation_method?t._e():e("div",[e("span",[t._v("*")]),e("el-input",{staticStyle:{width:"30%"},attrs:{disabled:!i.isnotservice||!!t.info.event_info_configure.service_fee_calculation_method,readonly:t.readonly||!!i.lineoroffline||!0},on:{input:function(e){i.settlementservice_taxrate=t.formatNum(i.settlementservice_taxrate)}},model:{value:i.settlementservice_taxrate,callback:function(e){t.$set(i,"settlementservice_taxrate",e)},expression:"other.settlementservice_taxrate"}}),t._v(" % ")],1)],2)]),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{type:"text",readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.settlement_unitprice=t.formatNum(i.settlement_unitprice,2)}},model:{value:i.settlement_unitprice,callback:function(e){t.$set(i,"settlement_unitprice",e)},expression:"other.settlement_unitprice"}})],1),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.settlement_count=t.positiveFloatOne(i.settlement_count)}},model:{value:i.settlement_count,callback:function(e){t.$set(i,"settlement_count",e)},expression:"other.settlement_count"}})],1),i.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(i.settlement_unitprice)*t.positiveFloat(i.settlement_count)))+" ")]),e("td",[t._v(t._s(i.settlement_customer_objection))]),e("td",[e("el-input",{class:{difference:t.otherDifference(i),line:!i.quoted_price_other_id,lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},model:{value:i.settlement_comments,callback:function(e){t.$set(i,"settlement_comments",e)},expression:"other.settlement_comments"}}),!i.quoted_price_other_id&&t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!i.lineoroffline},on:{click:function(e){return t.delsother(t.item,s)}}}):t._e()],1)])}))],2),e("tbody",[e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("杂费小计")]),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th",{staticClass:"color_3"}),e("th"),e("th"),e("th",{staticStyle:{"text-align":"right"}},[t._v(" 小计：¥"+t._s(t.positiveFloat(t.otherPrice[2]))+" ")]),e("th",[t._v("客户异议")]),e("th",[t.issubmit?e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addOther(6)}}},[t._v("添加杂费")]):t._e()],1)]),t._l(t.otherincidental,(function(i){return e("tr",{key:i.id},[e("td",{staticClass:"color_2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.content,expression:"otherzf.content"}],attrs:{type:"text",readonly:t.readonly||!!i.lineoroffline,placeholder:"杂费项名称"},domProps:{value:i.content},on:{input:function(e){e.target.composing||t.$set(i,"content",e.target.value)}}})]),e("td",{staticClass:"color_2 otherFee",attrs:{colspan:"3"}},[e("div",[e("el-checkbox",{attrs:{disabled:t.readonly||!!i.lineoroffline,"true-label":1,"false-label":0},model:{value:i.isnotservice,callback:function(e){t.$set(i,"isnotservice",e)},expression:"otherzf.isnotservice"}},[t._v(" 计入服务费 ")]),t.info.event_info_configure.service_fee_calculation_method?t._e():e("div",[e("span",[t._v("*")]),e("el-input",{staticStyle:{width:"30%"},attrs:{readonly:t.readonly,disabled:!i.isnotservice||!!t.info.event_info_configure.service_fee_calculation_method},on:{input:function(e){i.settlementservice_taxrate=t.formatNum(i.settlementservice_taxrate)}},model:{value:i.settlementservice_taxrate,callback:function(e){t.$set(i,"settlementservice_taxrate",e)},expression:"otherzf.settlementservice_taxrate"}}),t._v(" % ")],1)],1)]),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{type:"text",readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.price=t.formatNum(i.price,2)}},model:{value:i.price,callback:function(e){t.$set(i,"price",e)},expression:"otherzf.price"}})],1),e("td",[e("el-input",{class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},on:{input:function(e){i.count=t.positiveFloatOne(i.count)}},model:{value:i.count,callback:function(e){t.$set(i,"count",e)},expression:"otherzf.count"}})],1),i.lineoroffline?t._e():e("td",[t._v(" ¥"+t._s(t.positiveFloat(t.positiveFloatSix(i.price)*t.positiveFloat(i.count)))+" ")]),e("td",[t._v(t._s(i.settlement_customer_objection))]),e("td",[e("el-input",{staticClass:"line",class:{lineBack:!!i.lineoroffline},attrs:{readonly:t.readonly||!!i.lineoroffline},model:{value:i.comments,callback:function(e){t.$set(i,"comments",e)},expression:"otherzf.comments"}}),t.issubmit?e("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:"",size:"mini",disabled:t.readonly||!!i.lineoroffline},on:{click:function(e){return t.delOther(i.id)}}}):t._e()],1)])}))],2),e("tbody",[e("tr",{staticClass:"color_2"},[t._m(14),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 报价金额：¥"+t._s(t.positiveFloat(t.positiveFloatSix(t.servicePrice[0])+(0==t.info.zhicai_service?t.positiveFloatSix(t.servicePrice[4]):t.positiveFloatSix(t.servicePrice[8]))).toFixed(2))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 结算金额：¥"+t._s(t.positiveFloat(t.positiveFloatSix(t.servicePrice[1])+(0==t.info.zhicai_service?t.positiveFloatSix(t.servicePrice[5]):t.positiveFloatSix(t.servicePrice[9]))).toFixed(2))+" ")]),e("th")])]),e("tbody",[t._m(15),e("tr",[e("td",{staticClass:"color_2"},[t._v("非直采服务费")]),e("td",{staticClass:"color_2 wordBreak",attrs:{colspan:"2"}},[t._v(t._s(t.servicePrice[2]))]),e("td",{staticClass:"color_2"},[t._v("¥"+t._s(this.positiveFloat(t.servicePrice[0])))]),e("td",{staticClass:"wordBreak",attrs:{colspan:"2"}},[t._v(" "+t._s(t.servicePrice[3])+" "),t.info.event_info_configure.service_fee_ratio?e("span",[t._v(" * "),e("el-input",{staticClass:"line",staticStyle:{width:"20%"},attrs:{size:"mini",readonly:t.readonly},model:{value:t.info.sheet_fzc_service,callback:function(e){t.$set(t.info,"sheet_fzc_service",e)},expression:"info.sheet_fzc_service"}}),t._v(" % ")],1):t._e()]),e("td",[t._v("¥"+t._s(this.positiveFloat(t.servicePrice[1])))]),e("td"),e("td",[e("el-input",{attrs:{readonly:t.readonly},model:{value:t.info.settlement_service_remark,callback:function(e){t.$set(t.info,"settlement_service_remark",e)},expression:"info.settlement_service_remark"}})],1)]),1==t.info.zhicai_service?e("tr",[e("td",{staticClass:"color_2"},[t._v("直采服务费")]),e("td",{staticClass:"color_2",attrs:{colspan:"2"}},t._l(t.info.event_quoted_price_zhicai_service,(function(i,s){return e("p",{key:s},[e("span",[t._v(" "+t._s(i.grade_name)+" ")]),e("span",[t._v(" ￥"+t._s(i.grade_price)+" ")]),e("span",[t._v(" * "+t._s(i.grade_count)+" ")])])})),0),e("td",{staticClass:"color_2"},[t._v("¥ "+t._s(this.positiveFloat(t.servicePrice[8])))]),e("td",{staticClass:"chaifen",attrs:{colspan:"2"}},t._l(t.info.event_settlement_sheet_zhicai_service,(function(i,s){return e("p",{key:s,staticStyle:{margin:"10px 0"}},[e("span",[t._v(" "+t._s(i.grade_name)+" ")]),e("span",[t._v(" ￥"+t._s(i.grade_price)+" ")]),e("span",[t._v(" * "),e("el-input",{staticStyle:{width:"20%"},attrs:{size:"small",readonly:t.readonly},on:{input:function(e){i.grade_count=t.positiveFloatOne(i.grade_count)}},model:{value:i.grade_count,callback:function(e){t.$set(i,"grade_count",e)},expression:"item.grade_count"}})],1)])})),0),e("td",[t._v("¥"+t._s(t.positiveFloat(t.servicePrice[9])))]),e("td"),e("td",[e("el-input",{attrs:{readonly:t.readonly},model:{value:t.info.settlement_advance_remark,callback:function(e){t.$set(t.info,"settlement_advance_remark",e)},expression:"info.settlement_advance_remark"}})],1)]):e("tr",[e("td",{staticClass:"color_2"},[t._v("直采服务费")]),e("td",{staticClass:"color_2",attrs:{colspan:"2"}},[t._v(t._s(t.servicePrice[6]))]),e("td",{staticClass:"color_2"},[t._v("¥"+t._s(t.positiveFloat(t.servicePrice[4])))]),e("td",{staticClass:"chaifen",attrs:{colspan:"2"}},[e("el-input",{staticStyle:{width:"20%"},attrs:{readonly:t.readonly},on:{input:function(e){t.info.settlement_advance_amount=t.formatNum(t.info.settlement_advance_amount)}},model:{value:t.info.settlement_advance_amount,callback:function(e){t.$set(t.info,"settlement_advance_amount",e)},expression:"info.settlement_advance_amount"}}),t._v(" * "),e("el-input",{staticStyle:{width:"20%"},attrs:{readonly:t.readonly},on:{input:function(e){t.info.settlement_advance_proportion=t.formatNum(t.info.settlement_advance_proportion)}},model:{value:t.info.settlement_advance_proportion,callback:function(e){t.$set(t.info,"settlement_advance_proportion",e)},expression:"info.settlement_advance_proportion"}}),t._v(" % ")],1),e("td",[t._v("¥"+t._s(t.positiveFloat(t.servicePrice[5])))]),e("td"),e("td",[e("el-input",{attrs:{readonly:t.readonly},model:{value:t.info.settlement_advance_remark,callback:function(e){t.$set(t.info,"settlement_advance_remark",e)},expression:"info.settlement_advance_remark"}})],1)])]),e("tbody",[e("tr",{staticClass:"color_2"},[t._m(16),e("th",{staticClass:"color_3",staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[t._v(" 报价金额：¥"+t._s(t.positiveFloat(t.vatPrice[0]).toFixed(2))+" ")]),e("th",{staticStyle:{"text-align":"right"},attrs:{colspan:"4"}},[t._v(" 结算金额：¥"+t._s(t.positiveFloat(t.vatPrice[1]).toFixed(2))+" ")]),e("th")])]),e("tbody",[t._m(17),e("tr",[e("td",{staticClass:"color_2"},[t._v("VAT")]),e("td",{staticClass:"color_2 wordBreak",attrs:{colspan:"2"}},[t._v(t._s(t.vatPrice[2]))]),e("td",{staticClass:"color_2"},[t._v("¥"+t._s(t.positiveFloat(t.vatPrice[0])))]),e("td",{staticClass:"wordBreak",attrs:{colspan:"2"}},[t._v(" "+t._s(t.vatPrice[3])+" "),e("span",[t._v(" * "),e("el-input",{staticClass:"line",staticStyle:{width:"20%"},attrs:{size:"mini",readonly:t.readonly,disabled:0==t.info.event_info_configure.vatcanedit},on:{input:function(e){t.info.settlement_taxrate=t.formatNum(t.info.settlement_taxrate)}},model:{value:t.info.settlement_taxrate,callback:function(e){t.$set(t.info,"settlement_taxrate",e)},expression:"info.settlement_taxrate"}}),t._v(" % ")],1)]),e("td",[t._v("¥"+t._s(t.positiveFloat(t.vatPrice[1])))]),e("td"),e("td",[e("el-input",{attrs:{readonly:t.readonly},model:{value:t.info.settlement_taxrate_comments,callback:function(e){t.$set(t.info,"settlement_taxrate_comments",e)},expression:"info.settlement_taxrate_comments"}})],1)])])],2),e("div",{staticClass:"qita"},[e("div",{staticClass:"left"},[e("div",{staticClass:"stitle"},[t._v("客户异议")]),e("div",{staticClass:"context"},[e("div",{staticClass:"objectionDetailStyle",domProps:{innerHTML:t._s(t.info.settlement_customer_objection)},on:{click:function(e){return t.getImg(e)}}})])]),e("div",{staticClass:"right"},[e("div",{staticClass:"stitle"},[t._v("其他说明")]),e("div",{staticClass:"context"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.info.settlement_offer_remarks,expression:"info.settlement_offer_remarks"}],attrs:{readonly:t.readonly},domProps:{value:t.info.settlement_offer_remarks},on:{input:function(e){e.target.composing||t.$set(t.info,"settlement_offer_remarks",e.target.value)}}})])])])]):t._e(),e("div",{staticClass:"submit"},[["0020-1","0020-4","0020-7","0020-8"].includes(this.info.orderstatus)?e("el-button",{on:{click:t.draft}},[t._v("保存到草稿箱")]):t._e(),["0020-4","0020-7","0020-8"].includes(this.info.orderstatus)?e("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交结算单")]):t._e(),["0020-1","0020-4","0020-5","0020-6","0020-7","0020-8"].includes(this.info.orderstatus)?e("p",{staticStyle:{color:"#428bca","font-size":"17px",float:"right"}},[1==t.info.event_info_configure.jsqrisdisplay?e("a",{staticStyle:{cursor:"pointer",margin:"0 10px"},attrs:{download:""},on:{click:t.downloadSettlementConfirm}},[t._v("下载结算确认单")]):t._e(),e("a",{staticStyle:{cursor:"pointer",margin:"0 10px"},attrs:{download:""},on:{click:t.excelDownload}},[t._v("下载结算Excel")])]):t._e()],1),t.info.historylist&&t.info.historylist.length>0?e("div",{staticClass:"info"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"header clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("历史结算单：")])]),t._l(t.info.historylist,(function(i,s){return e("div",{key:i.id,staticClass:"text item"},[t._v(" 第"+t._s(s+1)+"次结算, 总价￥"+t._s(i.settlement_total_price?t.positiveFloat(i.settlement_total_price):"")+"元，[ "+t._s(t._f("date_ex")(i.submit_time))+" ] ")])}))],2)],1):t._e(),e("el-dialog",{attrs:{visible:t.addSettleShow,title:"添加结算项目",center:"",width:"600px"},on:{"update:visible":function(e){t.addSettleShow=e},close:function(e){t.addSettleShow=!1}}},[e("el-form",{ref:"addSettleInfo",attrs:{model:t.addSettleInfo,rules:t.addSettleRules,"label-width":"200px"}},[e("el-form-item",{attrs:{label:"选择项目分类",prop:"projectClass"}},[e("el-select",{staticClass:"demand_300",attrs:{size:"small",clearable:"",filterable:""},on:{change:t.changeProjectClass},model:{value:t.addSettleInfo.projectClass,callback:function(e){t.$set(t.addSettleInfo,"projectClass",e)},expression:"addSettleInfo.projectClass"}},t._l(t.projectClass,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.needCostDate,expression:"needCostDate"}],attrs:{label:"选择费用发生日期",prop:"costDate"}},[e("el-select",{staticClass:"demand_300",attrs:{size:"small",clearable:"",filterable:""},model:{value:t.addSettleInfo.costDate,callback:function(e){t.$set(t.addSettleInfo,"costDate",e)},expression:"addSettleInfo.costDate"}},t._l(t.costDates,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"选择费用项目",prop:"costProject"}},[e("el-select",{staticClass:"demand_300",attrs:{loading:t.cost_project_load,size:"small",clearable:"",filterable:""},on:{change:t.changecostProject},model:{value:t.addSettleInfo.costProject,callback:function(e){t.$set(t.addSettleInfo,"costProject",e)},expression:"addSettleInfo.costProject"}},t._l(t.costProjects,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),e("span",{staticClass:"dialog-footer flex_row justify_center",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.addSettleShow=!1}}},[t._v("取 消")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.addSettle}},[t._v("添 加")])],1)],1)],1):t._e()},o=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticClass:"color_2"},[e("th",[t._v("凭证名称")]),e("th",[t._v("文件")]),e("th",[t._v("客户异议")]),e("th",[t._v("说明")])])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"color_3"},[e("i",{staticStyle:{color:"#428bca"}},[t._v("客房")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"color_3"},[e("i",{staticStyle:{color:"#428bca"}},[t._v("会场")])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("消费项目")]),e("th",{staticClass:"color_3"},[t._v("单价(元)")]),e("th",{staticClass:"color_3"},[t._v("数量")]),e("th",{staticClass:"color_3"},[t._v("金额(元)")]),e("th",[t._v("单价(元)")]),e("th",[t._v("数量")]),e("th",[t._v("金额(元)")]),e("th",[t._v("客户异议")]),e("th",[t._v("结算说明")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"color_3"},[e("i",{staticStyle:{color:"#428bca"}},[t._v("酒店内餐饮")])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("消费项目")]),e("th",{staticClass:"color_3"},[t._v("单价(元)")]),e("th",{staticClass:"color_3"},[t._v("数量")]),e("th",{staticClass:"color_3"},[t._v("金额(元)")]),e("th",[t._v("单价(元)")]),e("th",[t._v("数量")]),e("th",[t._v("金额(元)")]),e("th",[t._v("客户异议")]),e("th",[t._v("结算说明")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"color_3"},[e("i",{staticStyle:{color:"#428bca"}},[t._v("酒店外餐饮")])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("消费项目")]),e("th",{staticClass:"color_3"},[t._v("单价(元)")]),e("th",{staticClass:"color_3"},[t._v("数量")]),e("th",{staticClass:"color_3"},[t._v("金额(元)")]),e("th",[t._v("单价(元)")]),e("th",[t._v("数量")]),e("th",[t._v("金额(元)")]),e("th",[t._v("客户异议")]),e("th",[t._v("结算说明")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"color_3"},[e("i",{staticStyle:{color:"#428bca"}},[t._v("大交通")])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("消费项目")]),e("th",{staticClass:"color_3"},[t._v("单价(元)")]),e("th",{staticClass:"color_3"},[t._v("数量")]),e("th",{staticClass:"color_3"},[t._v("金额(元)")]),e("th",[t._v("单价(元)")]),e("th",[t._v("数量")]),e("th",[t._v("金额(元)")]),e("th",[t._v("客户异议")]),e("th",[t._v("结算说明")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"color_3"},[e("i",{staticStyle:{color:"#428bca"}},[t._v("市内交通")])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("消费项目")]),e("th",{staticClass:"color_3"},[t._v("单价(元)")]),e("th",{staticClass:"color_3"},[t._v("数量")]),e("th",{staticClass:"color_3"},[t._v("金额(元)")]),e("th",[t._v("单价(元)")]),e("th",[t._v("数量")]),e("th",[t._v("金额(元)")]),e("th",[t._v("客户异议")]),e("th",[t._v("结算说明")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"color_3"},[e("i",{staticStyle:{color:"#428bca"}},[t._v("其他")])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("消费项目")]),e("th",{staticClass:"color_3"},[t._v("单价(元)")]),e("th",{staticClass:"color_3"},[t._v("数量")]),e("th",{staticClass:"color_3"},[t._v("金额(元)")]),e("th",[t._v("单价(元)")]),e("th",[t._v("数量")]),e("th",[t._v("金额(元)")]),e("th",[t._v("客户异议")]),e("th",[t._v("结算说明")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"color_3"},[e("i",{staticStyle:{color:"#428bca"}},[t._v("服务费")])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("消费项目")]),e("th",{staticClass:"color_3",attrs:{colspan:"2"}},[t._v("服务费计算")]),e("th",{staticClass:"color_3"},[t._v("金额(元)")]),e("th",{attrs:{colspan:"2"}},[t._v("服务费计算")]),e("th",[t._v("金额(元)")]),e("th"),e("th",[t._v("结算说明")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"color_3"},[e("i",{staticStyle:{color:"#428bca"}},[t._v("税费")])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"color_2"},[e("th",{staticClass:"color_3"},[t._v("消费项目")]),e("th",{staticClass:"color_3",attrs:{colspan:"2"}},[t._v("税费计算")]),e("th",{staticClass:"color_3"},[t._v("金额(元)")]),e("th",{attrs:{colspan:"2"}},[t._v("税费计算")]),e("th",[t._v("金额(元)")]),e("th"),e("th",[t._v("结算说明")])])}],n=i("cf45"),a=i("0e5c"),r=i("2f42"),l=i.n(r),c=i("df68"),f=i("acd6"),_=(i("b587"),{data(){return{info:null,status_draft:"0029-1",status_tobeconfirmed:"0029-2",status_confirm:"0029-3",status_supplement:"0029-5",status_reject:"0029-4",settlement_status:"0029-3",errormsg:[],quoted_price_food_option:[{value:0,label:"酒店内用餐"},{value:1,label:"酒店外用餐"}],orderIDList:[],isopen:!1,arrayList:[{type:6,fileList:[],name:"客户结算单",remark:"",dissent:"",arrayLength:null},{type:7,fileList:[],name:"客户结算确认邮件",remark:"",dissent:"",arrayLength:null},{type:8,fileList:[],name:"PO单",remark:"",dissent:"",arrayLength:null},{type:5,fileList:[],name:"供应商发票及账单",remark:"",dissent:"",arrayLength:null},{type:1,fileList:[],name:"酒店住宿发票+小联",remark:"",dissent:"",arrayLength:null},{type:2,fileList:[],name:"酒店餐饮发票+小联",remark:"",dissent:"",arrayLength:null},{type:3,fileList:[],name:"酒店会场发票+小联",remark:"",dissent:"",arrayLength:null},{type:9,fileList:[],name:"外出用餐发票+小联",remark:"",dissent:"",arrayLength:null},{type:10,fileList:[],name:"注册费发票+小联",remark:"",dissent:"",arrayLength:null},{type:11,fileList:[],name:"用车发票+小联",remark:"",dissent:"",arrayLength:null},{type:12,fileList:[],name:"制作物发票+小联",remark:"",dissent:"",arrayLength:null},{type:13,fileList:[],name:"保险发票+小联",remark:"",dissent:"",arrayLength:null},{type:14,fileList:[],name:"签到表",remark:"",dissent:"",arrayLength:null},{type:15,fileList:[],name:"会议照片-全景",remark:"",dissent:"",arrayLength:null},{type:4,fileList:[],name:"其他",remark:"",dissent:"",arrayLength:null}],updateIndex:0,updateFileIndex:0,rename:!1,fileName:"",suffix:"",showInfo:!0,showPriceInfo:!0,isFail:1,downloadUrl:"",addSettleShow:!1,projectClass:[{value:"0034",label:"客房"},{value:"0049",label:"会场"},{value:"0050",label:"酒店内餐饮"},{value:"0051",label:"酒店外餐饮"},{value:"003",label:"大交通"},{value:"006",label:"地面交通"},{value:"009",label:"其他服务"}],costDates:[],cost_project_load:!1,costProjects:[],roomcostProjects:[],meetingcostProjects:[],costProjefoodcostProjectscts:[],otherfoodcostProjects:[],transportationcostProjects:[],carcostProjects:[],othercostProjects:[],dijielist:[],addSettleRules:{projectClass:[{required:!0,message:"请选择项目分类",trigger:"change"}],costDate:[{required:!0,message:"请选择费用发生日期",trigger:"change"}],costProject:[{required:!0,message:"请选择费用项目",trigger:"change"}]},addSettleInfo:{projectClass:"0034",costDate:"",costProject:""},needCostDate:!0}},computed:{issubmit(){return this.info.settlement_status!=this.status_supplement},readonly(){return["0020-2","0020-3","0020-5","0020-6","0020-8"].includes(this.info.orderstatus)},issupplement(){return this.info.settlement_status==this.status_supplement},isshowPriceInfo(){return this.showPriceInfo="0020-1"!=this.info.orderstatus,"0020-1"!=this.info.orderstatus},formateDate:()=>function(t){return Object(n["d"])("YYYY年mm月dd日",new Date(t))},roomVisible:function(){return this.info.roomlist&&this.info.roomlist.length>0},conferenceVisible:function(){return this.info.conferencelist&&this.info.conferencelist.length>0},foodVisible:function(){return this.info.foodlist&&this.info.foodlist.length>0},otherfoodVisible:function(){return this.info.otherfoodlist&&this.info.otherfoodlist.length>0},transportationVisible:function(){return this.info.transportationlist&&this.info.transportationlist.length>0},carVisible:function(){return this.info.carlist&&this.info.carlist.length>0},roomincidental(){return this.info.sundrieslist.filter(t=>1==t.type&&!t.isdelete)},meetingcidental(){return this.info.sundrieslist.filter(t=>2==t.type&&!t.isdelete)},foodincidental(){return this.info.sundrieslist.filter(t=>3==t.type&&!t.isdelete)},otherfoodincidental(){return this.info.sundrieslist.filter(t=>7==t.type&&!t.isdelete)},intercitytrafficincidental(){return this.info.sundrieslist.filter(t=>4==t.type&&!t.isdelete)},carincidental(){return this.info.sundrieslist.filter(t=>5==t.type&&!t.isdelete)},otherincidental(){return this.info.sundrieslist.filter(t=>6==t.type&&!t.isdelete)},roomPrice(){let t=[{all:0,subtotal:{}},{all:0,subtotal:{}},0,0,0,0,0,"",""],e=t[0].subtotal,i=t[1].subtotal;void 0==this.info.event_info_configure.room_inquiry_service_taxrate&&(this.info.event_info_configure["room_inquiry_service_taxrate"]=0);var s=null!=this.info.event_info_configure.room_inquiry_service_taxrate?this.info.event_info_configure.room_inquiry_service_taxrate:0;this.info.roomlist.forEach((s,o)=>{e["sub_"+o]||(e["sub_"+o]=0),i["sub_"+o]||(i["sub_"+o]=0),s.roomlists.forEach((s,a)=>{let r=0;r=0==this.info.is_Inside_outside?s.settlement_count:Object(n["m"])(s.settlement_inside_roomcount)+Object(n["m"])(s.settlement_outside_roomcount);var l=1==s.lineoroffline?Object(n["o"])(s.settlementsumprice):Object(n["o"])(s.settlement_unitprice)*Object(n["m"])(r);e["sub_"+o]+=Object(n["o"])(s.quotationsumprice),t[0].all+=Object(n["o"])(s.quotationsumprice),i["sub_"+o]+=Object(n["o"])(l),t[1].all+=Object(n["o"])(l),1==this.info.event_info_configure.hotel_food_inquiry_isnotservice&&(t[3]+=Object(n["o"])(l),t[4]+=Object(n["o"])(s.quotationsumprice),t[5]+=Object(n["o"])(s.quotationsumprice),t[6]+=Object(n["o"])(l))})});let o=0;return t[3]=Object(n["o"])(t[3])*Object(n["o"])(s/100),t[4]=Object(n["o"])(t[4])*Object(n["o"])(s/100),this.roomincidental.forEach(e=>{var i=1==e.lineoroffline?Object(n["o"])(e.sumprice):Object(n["o"])(e.price)*Object(n["m"])(e.count);t[1].all+=Object(n["o"])(i),t[2]+=Object(n["o"])(i),1==e.isnotservice&&(o+=Object(n["o"])(i),t[6]+=Object(n["o"])(i))}),t[3]=Object(n["o"])(t[3])+Object(n["o"])(o)*Object(n["o"])(s/100),t[7]+="+"+Object(n["o"])(t[5])+"*"+Object(n["o"])(s)+"%",t[8]+="+"+Object(n["o"])(t[6])+"*"+Object(n["o"])(s)+"%",t},adddifferenceerrormsg:()=>function(t,e,i){let s="";1==t?s=this.formateDate(e)+"客房,第"+i+"行,单价(元)或数量存在差异,请填写结算说明":2==t?s=this.formateDate(e)+"会场,第"+i+"行,单价(元)或数量存在差异,请填写结算说明":3==t?s=this.formateDate(e)+"酒店内餐饮,第"+i+"行,单价(元)或数量存在差异,请填写结算说明":4==t?s=this.formateDate(e)+"大交通,第"+i+"行,单价(元)或数量存在差异,请填写结算说明":5==t?s=this.formateDate(e)+"地面交通,第"+i+"行,单价(元)或数量存在差异,请填写结算说明":6==t?s="其他服务,第"+i+"行,单价(元)或数量存在差异,请填写结算说明":7==t&&(s=this.formateDate(e)+"酒店外餐饮,第"+i+"行,单价(元)或数量存在差异,请填写结算说明"),this.errormsg.push(s)},addnewitemhasnocommments:()=>function(t,e,i){let s="";1==t?s=this.formateDate(e)+"新增客房,第"+i+"行,结算说明为必填项,请填写结算说明":2==t?s=this.formateDate(e)+"新增会场,第"+i+"行,结算说明为必填项,请填写结算说明":3==t?s=this.formateDate(e)+"新增酒店内餐饮,第"+i+"行,结算说明为必填项,请填写结算说明":4==t?s=this.formateDate(e)+"新增大交通,第"+i+"行,结算说明为必填项,请填写结算说明":5==t?s=this.formateDate(e)+"新增地面交通,第"+i+"行,结算说明为必填项,请填写结算说明":6==t?s="新增其他服务,第"+i+"行,结算说明为必填项,请选择消费项目名称":7==t&&(s=this.formateDate(e)+"新增酒店外餐饮,第"+i+"行,结算说明为必填项,请填写结算说明"),this.errormsg.push(s)},addnewitemerrormsg:()=>function(t,e,i){let s="";1==t?s=this.formateDate(e)+"新增客房,第"+i+"行,消费项目名称为必填项,请填写消费项目名称":2==t?s=this.formateDate(e)+"新增会场,第"+i+"行,消费项目名称为必填项,请填写消费项目名称":3==t?s=this.formateDate(e)+"新增酒店内餐饮,第"+i+"行,消费项目名称为必填项,请填写消费项目名称":4==t?s=this.formateDate(e)+"新增大交通,第"+i+"行,消费项目名称为必填项,请填写消费项目名称":5==t?s=this.formateDate(e)+"新增地面交通,第"+i+"行,消费项目名称为必填项,请填写消费项目名称":6==t?s="新增其他服务,第"+i+"行,消费项目名称为必填项,请选择消费项目名称":7==t&&(s=this.formateDate(e)+"新增酒店外餐饮,第"+i+"行,消费项目名称为必填项,请填写消费项目名称"),this.errormsg.push(s)},roomDifference:()=>function(t){return(Object(n["o"])(t.unitprice)!==Object(n["o"])(t.settlement_unitprice)||Object(n["m"])(t.provide_count)!==Object(n["m"])(t.settlement_count))&&null!=t.quoted_price_room_id||!t.quoted_price_room_id&&""==t.settlement_comments},checkRoomDifference:function(){let t=!1;this.info.roomlist&&this.info.roomlist.length>0&&this.info.roomlist.forEach(e=>{if(e.roomlists&&e.roomlists.length>0){e.roomlists.forEach((i,s)=>{t=this.roomDifference(i),!t||null==i.quoted_price_room_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.adddifferenceerrormsg(1,e.date,s+1),!t||null!=i.quoted_price_room_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.addnewitemhasnocommments(1,e.date,s+1)});let i=e.roomlists.filter(t=>null==t.quoted_price_room_id&&""==t.settlement_itemname);i.length>0&&i.forEach((t,i)=>{this.addnewitemerrormsg(1,e.date,i+1)})}})},conferencePrice(){let t=[{all:0,subtotal:{}},{all:0,subtotal:{}},0,0,0,0,0,"",""],e=t[0].subtotal,i=t[1].subtotal;void 0==this.info.event_info_configure.conference_inquiry_service_taxrate&&(this.info.event_info_configure["conference_inquiry_service_taxrate"]=0);var s=null!=this.info.event_info_configure.conference_inquiry_service_taxrate?this.info.event_info_configure.conference_inquiry_service_taxrate:0;this.info.conferencelist.forEach((s,o)=>{e["sub_"+o]||(e["sub_"+o]=0),i["sub_"+o]||(i["sub_"+o]=0),s.conferencelists.forEach(s=>{let a=Object(n["o"])(s.quotationsumprice),r=1==s.lineoroffline?Object(n["o"])(s.settlementsumprice):Object(n["o"])(s.settlement_price)*Object(n["m"])(s.settlement_count);e["sub_"+o]+=a,t[0].all+=a,i["sub_"+o]+=r,t[1].all+=r,1==this.info.event_info_configure.conference_inquiry_isnotservice&&(t[3]+=r,t[4]+=a,t[5]+=a,t[6]+=r)})});let o=0;return t[3]=Object(n["o"])(t[3])*Object(n["o"])(s/100),t[4]=Object(n["o"])(t[4])*Object(n["o"])(s/100),this.meetingcidental.forEach(e=>{let i=1==e.lineoroffline?Object(n["o"])(e.sumprice):Object(n["o"])(e.price)*Object(n["m"])(e.count);t[1].all+=i,t[2]+=i,1==e.isnotservice&&(o+=i,t[6]+=i)}),t[3]=Object(n["o"])(t[3])+Object(n["o"])(o)*Object(n["o"])(s/100),t[7]="+"+Object(n["o"])(t[5])+"*"+Object(n["o"])(s)+"%",t[8]="+"+Object(n["o"])(t[6])+"*"+Object(n["o"])(s)+"%",t},conferenceDifference:()=>function(t){return(Object(n["o"])(t.price)!==Object(n["o"])(t.settlement_price)||Object(n["m"])(t.count)!==Object(n["m"])(t.settlement_count))&&null!=t.quoted_price_conference_id||!t.quoted_price_conference_id&&""==t.settlement_comments},checkConferenceDifference:function(){let t=!1;this.info.conferencelist&&this.info.conferencelist.length>0&&this.info.conferencelist.forEach(e=>{if(e.conferencelists&&e.conferencelists.length>0){e.conferencelists.forEach((i,s)=>{t=this.conferenceDifference(i),!t||null==i.quoted_price_conference_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.adddifferenceerrormsg(2,e.date,s+1),!t||null!=i.quoted_price_conference_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.addnewitemhasnocommments(2,e.date,s+1)});let i=e.conferencelists.filter(t=>null==t.quoted_price_conference_id&&""==t.settlement_itemname);i.length>0&&i.forEach((t,i)=>{this.addnewitemerrormsg(2,e.date,i+1)})}})},foodPrice(){let t=[{all:0,subtotal:{}},{all:0,subtotal:{}},0,0,0,0,0,"",""],e=t[0].subtotal,i=t[1].subtotal;void 0==this.info.event_info_configure.hotel_food_inquiry_service_taxrate&&(this.info.event_info_configure["hotel_food_inquiry_service_taxrate"]=0);var s=null!=this.info.event_info_configure.hotel_food_inquiry_service_taxrate?this.info.event_info_configure.hotel_food_inquiry_service_taxrate:0;this.info.foodlist.forEach((s,o)=>{e["sub_"+o]||(e["sub_"+o]=0),i["sub_"+o]||(i["sub_"+o]=0),s.foodlists.forEach(s=>{let a=Object(n["o"])(s.quotationsumprice),r=1==s.lineoroffline?Object(n["o"])(s.settlementsumprice):Object(n["o"])(s.settlement_unitprice)*Object(n["m"])(s.settlement_count);e["sub_"+o]+=a,t[0].all+=a,i["sub_"+o]+=r,t[1].all+=r,1==this.info.event_info_configure.hotel_food_inquiry_isnotservice&&(t[3]+=r,t[4]+=a,t[5]+=a,t[6]+=r)})});let o=0;return t[3]=Object(n["o"])(t[3])*Object(n["o"])(s/100),t[4]=Object(n["o"])(t[4])*Object(n["o"])(s/100),this.foodincidental.forEach(e=>{let i=1==e.lineoroffline?Object(n["o"])(e.sumprice):Object(n["o"])(e.price)*Object(n["m"])(e.count);t[1].all+=i,t[2]+=i,1==e.isnotservice&&(o+=i,t[6]+=i)}),t[3]=Object(n["o"])(t[3])+Object(n["o"])(o)*Object(n["o"])(s/100),t[7]+="+"+Object(n["o"])(t[5])+"*"+Object(n["o"])(s)+"%",t[8]+="+"+Object(n["o"])(t[6])+"*"+Object(n["o"])(s)+"%",t},foodDifference(){return function(t){return(Object(n["o"])(t.price)!==Object(n["o"])(t.settlement_unitprice)||Object(n["m"])(t.personcount)!==Object(n["m"])(t.settlement_count))&&null!=t.quoted_price_food_id||!t.quoted_price_food_id&&""==t.settlement_comments}},checkFoodDifference:function(){let t=!1;this.info.foodlist&&this.info.foodlist.length>0&&this.info.foodlist.forEach(e=>{if(e.foodlists&&e.foodlists.length>0){e.foodlists.forEach((i,s)=>{t=this.foodDifference(i),!t||null==i.quoted_price_food_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.adddifferenceerrormsg(3,e.date,s+1),!t||null!=i.quoted_price_food_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.addnewitemhasnocommments(3,e.date,s+1)});let i=e.foodlists.filter(t=>null==t.quoted_price_food_id&&""==t.settlement_itemname);i.length>0&&i.forEach((t,i)=>{this.addnewitemerrormsg(3,e.date,i+1)})}})},otherfoodPrice(){let t=[{all:0,subtotal:{}},{all:0,subtotal:{}},0,0,0,0,0,"",""],e=t[0].subtotal,i=t[1].subtotal;void 0==this.info.event_info_configure.others_food_inquiry_service_taxrate&&(this.info.event_info_configure["others_food_inquiry_service_taxrate"]=0);var s=null!=this.info.event_info_configure.others_food_inquiry_service_taxrate?this.info.event_info_configure.others_food_inquiry_service_taxrate:0;this.info.otherfoodlist.forEach((s,o)=>{e["sub_"+o]||(e["sub_"+o]=0),i["sub_"+o]||(i["sub_"+o]=0),s.foodlists.forEach(s=>{let a=Object(n["o"])(s.quotationsumprice),r=1==s.lineoroffline?Object(n["o"])(s.settlementsumprice):Object(n["o"])(s.settlement_unitprice)*Object(n["m"])(s.settlement_count);e["sub_"+o]+=a,t[0].all+=a,i["sub_"+o]+=r,t[1].all+=r,1==this.info.event_info_configure.others_food_inquiry_isnotservice&&(t[3]+=r,t[4]+=a,t[5]+=a,t[6]+=r)})});let o=0;return t[3]=Object(n["o"])(t[3])*Object(n["o"])(s/100),t[4]=Object(n["o"])(t[4])*Object(n["o"])(s/100),this.otherfoodincidental.forEach(e=>{let i=1==e.lineoroffline?Object(n["o"])(e.sumprice):Object(n["o"])(e.price)*Object(n["m"])(e.count);t[1].all+=i,t[2]+=i,1==e.isnotservice&&(o+=i,t[6]+=i)}),t[3]=Object(n["o"])(t[3])+Object(n["o"])(o)*Object(n["o"])(s/100),t[7]+="+"+Object(n["o"])(t[5])+"*"+Object(n["o"])(s)+"%",t[8]+="+"+Object(n["o"])(t[6])+"*"+Object(n["o"])(s)+"%",t},otherFoodDifference(){return function(t){return(Object(n["o"])(t.price)!==Object(n["o"])(t.settlement_unitprice)||Object(n["m"])(t.personcount)!==Object(n["m"])(t.settlement_count))&&null!=t.quoted_price_food_id||!t.quoted_price_food_id&&""==t.settlement_comments}},checkOtherFoodDifference:function(){let t=!1;this.info.otherfoodlist&&this.info.otherfoodlist.length>0&&this.info.otherfoodlist.forEach(e=>{if(e.foodlists&&e.foodlists.length>0){e.foodlists.forEach((i,s)=>{t=this.otherFoodDifference(i),!t||null==i.quoted_price_food_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.adddifferenceerrormsg(7,e.date,s+1),!t||null!=i.quoted_price_food_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.addnewitemhasnocommments(7,e.date,s+1)});let i=e.foodlists.filter(t=>null==t.quoted_price_food_id&&""==t.settlement_itemname);i.length>0&&i.forEach((t,i)=>{this.addnewitemerrormsg(7,e.date,i+1)})}})},intercitytrafficPrice(){let t=[{all:0,subtotal:{}},{all:0,subtotal:{}},0,0,0,0,0,"",""],e=t[0].subtotal,i=t[1].subtotal;void 0==this.info.event_info_configure.transportation_inquiry_service_taxrate&&(this.info.event_info_configure["transportation_inquiry_service_taxrate"]=0);var s=null!=this.info.event_info_configure.transportation_inquiry_service_taxrate?this.info.event_info_configure.transportation_inquiry_service_taxrate:0;this.info.transportationlist.forEach((s,o)=>{e["sub_"+o]||(e["sub_"+o]=0),i["sub_"+o]||(i["sub_"+o]=0),s.tranlists.forEach(s=>{let a=Object(n["o"])(s.quotationsumprice),r=1==s.lineoroffline?Object(n["o"])(s.settlementsumprice):Object(n["o"])(s.settlement_unitprice)*Object(n["m"])(s.settlement_count);e["sub_"+o]+=a,t[0].all+=a,i["sub_"+o]+=r,t[1].all+=r,1==this.info.event_info_configure.transportation_inquiry_isnotservice&&(t[3]+=r,t[4]+=a,t[5]+=a,t[6]+=r)})});let o=0;return t[3]=Object(n["o"])(t[3])*Object(n["o"])(s/100),t[4]=Object(n["o"])(t[4])*Object(n["o"])(s/100),this.intercitytrafficincidental.forEach(e=>{let i=1==e.lineoroffline?Object(n["o"])(e.sumprice):Object(n["o"])(e.price)*Object(n["m"])(e.count);t[1].all+=i,t[2]+=i,1==e.isnotservice&&(o+=i,t[6]+=i)}),t[3]=Object(n["o"])(t[3])+Object(n["o"])(o)*Object(n["o"])(s/100),t[7]="+"+Object(n["o"])(t[5])+"*"+Object(n["o"])(s)+"%",t[8]="+"+Object(n["o"])(t[6])+"*"+Object(n["o"])(s)+"%",t},transportationDifference(){return function(t){return(Object(n["o"])(t.unitprice)!==Object(n["o"])(t.settlement_unitprice)||Object(n["m"])(t.passengercount)!==Object(n["m"])(t.settlement_count))&&null!=t.quoted_price_transportation_id||!t.quoted_price_transportation_id&&""==t.settlement_comments}},checkTransportationDifference:function(){let t=!1;this.info.transportationlist&&this.info.transportationlist.length>0&&this.info.transportationlist.forEach(e=>{if(e.tranlists&&e.tranlists.length>0){e.tranlists.forEach((i,s)=>{t=this.transportationDifference(i),!t||null==i.quoted_price_transportation_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.adddifferenceerrormsg(4,e.date,s+1),!t||null!=i.quoted_price_transportation_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.addnewitemhasnocommments(4,e.date,s+1)});let i=e.tranlists.filter(t=>null==t.quoted_price_transportation_id&&null==t.settlement_itemid);i.length>0&&i.forEach((t,i)=>{this.addnewitemerrormsg(4,e.date,i+1)})}})},carPrice(){let t=[{all:0,subtotal:{}},{all:0,subtotal:{}},0,0,0,0,0,"",""],e=t[0].subtotal,i=t[1].subtotal;void 0==this.info.event_info_configure.car_inquiry_service_taxrate&&(this.info.event_info_configure["car_inquiry_service_taxrate"]=0);var s=null!=this.info.event_info_configure.car_inquiry_service_taxrate?this.info.event_info_configure.car_inquiry_service_taxrate:0;this.info.carlist.forEach((s,o)=>{e["sub_"+o]||(e["sub_"+o]=0),i["sub_"+o]||(i["sub_"+o]=0),s.carlists.forEach(s=>{let a=Object(n["o"])(s.quotationsumprice),r=1==s.lineoroffline?Object(n["o"])(s.settlementsumprice):Object(n["o"])(s.settlement_unitprice)*Object(n["m"])(s.settlement_count);e["sub_"+o]+=a,t[0].all+=a,i["sub_"+o]+=r,t[1].all+=r,1==this.info.event_info_configure.car_inquiry_isnotservice&&(t[3]+=r,t[4]+=a,t[5]+=a,t[6]+=r)})});let o=0;return t[3]=Object(n["o"])(t[3])*Object(n["o"])(s/100),t[4]=Object(n["o"])(t[4])*Object(n["o"])(s/100),this.carincidental.forEach(e=>{let i=1==e.lineoroffline?Object(n["o"])(e.sumprice):Object(n["o"])(e.price)*Object(n["m"])(e.count);t[1].all+=i,t[2]+=i,1==e.isnotservice&&(o+=i,t[6]+=i)}),t[3]=Object(n["o"])(t[3])+Object(n["o"])(o)*Object(n["o"])(s/100),t[7]+="+"+Object(n["o"])(t[5])+"*"+Object(n["o"])(s)+"%",t[8]+="+"+Object(n["o"])(t[6])+"*"+Object(n["o"])(s)+"%",t},carDifference(){return function(t){return(Object(n["o"])(t.price)!==Object(n["o"])(t.settlement_unitprice)||Object(n["m"])(t.carcount)!==Object(n["m"])(t.settlement_count))&&null!=t.quoted_price_car_id||!t.quoted_price_car_id&&""==t.settlement_comments}},checkCarDifference:function(){let t=!1;this.info.carlist&&this.info.carlist.length>0&&this.info.carlist.forEach(e=>{if(e.carlists&&e.carlists.length>0){e.carlists.forEach((i,s)=>{t=this.carDifference(i),!t||null==i.quoted_price_car_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.adddifferenceerrormsg(5,e.date,s+1),!t||null!=i.quoted_price_car_id||null!=i.settlement_comments&&""!=i.settlement_comments||this.addnewitemhasnocommments(5,e.date,s+1)});let i=e.carlists.filter(t=>null==t.quoted_price_car_id&&""==t.settlement_itemname);i.length>0&&i.forEach((t,i)=>{this.addnewitemerrormsg(5,e.date,i+1)})}})},otherPrice(){let t=[0,0,0,0,0,0,0,"",""],e=0,i=0,s=0;return this.info.otherlist.forEach((i,o)=>{void 0==i.settlementservice_taxrate&&(i["settlementservice_taxrate"]=0),i.settlementservice_taxrate=null!=i.settlementservice_taxrate?i.settlementservice_taxrate:0,void 0==i.service_taxrate&&(i["service_taxrate"]=0),i.service_taxrate=null!=i.service_taxrate?i.service_taxrate:0;let a=null!=i.quoted_price_other_id?i.service_taxrate:i.settlementservice_taxrate,r=Object(n["o"])(i.quotationsumprice),l=1==i.lineoroffline?Object(n["o"])(i.settlementsumprice):Object(n["o"])(i.settlement_unitprice)*Object(n["m"])(i.settlement_count);t[0]=t[0]+r,t[1]=t[1]+l,this.info.eventinfoother.forEach((t,e)=>{i.servicetype==t.othercode&&(this.info.otherlist[o].settlementservice_taxrate=t.servicerate)}),1==i.isnotservice&&(e+=Object(n["o"])(l)*Object(n["o"])(a/100),s+=Object(n["o"])(r)*Object(n["o"])(a/100),t[5]+=r,t[6]+=l,t[7]+="+"+Object(n["o"])(r)+"*"+Object(n["o"])(a)+"%",t[8]+="+"+Object(n["o"])(l)+"*"+Object(n["o"])(a)+"%")}),this.otherincidental.forEach(e=>{void 0==e.settlementservice_taxrate&&(e["settlementservice_taxrate"]=0),e.settlementservice_taxrate=null!=e.settlementservice_taxrate?e.settlementservice_taxrate:0;let s=1==e.lineoroffline?Object(n["o"])(e.sumprice):Object(n["o"])(e.price)*Object(n["m"])(e.count);t[1]=t[1]+s,t[2]=t[2]+s,1==e.isnotservice&&(i+=Object(n["o"])(s)*Object(n["o"])(e.settlementservice_taxrate/100),console.log(e.settlementservice_taxrate),t[6]+=s,t[8]+="+"+Object(n["o"])(s)+"*"+Object(n["o"])(e.settlementservice_taxrate)+"%")}),t[3]=Object(n["o"])(e)+Object(n["o"])(i),t[4]=Object(n["o"])(s),t},otherDifference(){return function(t){return Object(n["o"])(t.price)!==Object(n["o"])(t.settlement_unitprice)||Object(n["m"])(t.offerservicedaycount)*Object(n["m"])(t.offerparticipatecount)!==Object(n["m"])(t.settlement_count)||!t.quoted_price_other_id&&""==t.settlement_comments}},checkOtherDifference:function(){let t=!1;if(this.info.otherlist&&this.info.otherlist.length>0){this.info.otherlist.forEach((e,i)=>{t=this.otherDifference(e),!t||null==e.quoted_price_other_id||null!=e.settlement_comments&&""!=e.settlement_comments||this.adddifferenceerrormsg(6,null,i+1),!t||null!=e.quoted_price_other_id||null!=e.settlement_comments&&""!=e.settlement_comments||this.addnewitemhasnocommments(6,null,i+1)});let e=this.info.otherlist.filter(t=>null==t.quoted_price_other_id&&!t.servicetype);e.length>0&&e.forEach((t,e)=>{this.addnewitemerrormsg(6,null,e+1)})}},servicePrice(){let t=[0,0,"","",0,0,"","",0,0];if(0==this.info.event_info_configure.service_fee_calculation_method)t[0]=Object(n["o"])(this.roomPrice[4])+Object(n["o"])(this.conferencePrice[4])+Object(n["o"])(this.foodPrice[4])+Object(n["o"])(this.otherfoodPrice[4])+Object(n["o"])(this.intercitytrafficPrice[4])+Object(n["o"])(this.carPrice[4])+Object(n["o"])(this.otherPrice[4]),t[1]=Object(n["o"])(this.roomPrice[3])+Object(n["o"])(this.conferencePrice[3])+Object(n["o"])(this.foodPrice[3])+Object(n["o"])(this.otherfoodPrice[3])+Object(n["o"])(this.intercitytrafficPrice[3])+Object(n["o"])(this.carPrice[3])+Object(n["o"])(this.otherPrice[3]),t[2]=this.roomPrice[7]+this.conferencePrice[7]+this.foodPrice[7]+this.otherfoodPrice[7]+this.intercitytrafficPrice[7]+this.carPrice[7]+this.otherPrice[7],t[3]=this.roomPrice[8]+this.conferencePrice[8]+this.foodPrice[8]+this.otherfoodPrice[8]+this.intercitytrafficPrice[8]+this.carPrice[8]+this.otherPrice[8];else if(1==this.info.event_info_configure.service_fee_calculation_method){this.info.event_info_ladder_taxrates&&this.info.event_info_ladder_taxrates.sort((function(t,e){var i=t["ladder_min"],s=e["ladder_min"];return i-s}));var e=this.price_no[2],i=this.price_no[3];this.info.event_info_ladder_taxrates.forEach((s,o)=>{var a=0,r=0;this.info.event_info_ladder_taxrates[o-1]?(a=Object(n["p"])(s.ladder_max)-Object(n["p"])(this.info.event_info_ladder_taxrates[o-1].ladder_max?this.info.event_info_ladder_taxrates[o-1].ladder_max:0),r=Object(n["p"])(s.ladder_max)-Object(n["p"])(this.info.event_info_ladder_taxrates[o-1].ladder_max?this.info.event_info_ladder_taxrates[o-1].ladder_max:0)):(a=Object(n["p"])(s.ladder_max)-0,r=Object(n["p"])(s.ladder_max)-0),Object(n["p"])(e)>=Object(n["p"])(a)?this.info.event_info_ladder_taxrates.length-1==o?(t[0]+=Object(n["p"])(e)*Object(n["p"])(s.ladder_taxrate/100),t[2]+="+"+Object(n["o"])(e)+"*"+Object(n["o"])(s.ladder_taxrate)+"%"):(e=Object(n["p"])(e)-Object(n["p"])(a),t[0]+=Object(n["p"])(a)*Object(n["p"])(s.ladder_taxrate/100),t[2]+="+"+Object(n["o"])(a)+"*"+Object(n["o"])(s.ladder_taxrate)+"%"):(t[0]+=Object(n["p"])(e)*Object(n["p"])(s.ladder_taxrate/100),t[2]+="+"+Object(n["o"])(e)+"*"+Object(n["o"])(s.ladder_taxrate)+"%",e=0),Object(n["p"])(i)>=Object(n["p"])(r)?this.info.event_info_ladder_taxrates.length-1==o?(t[1]+=Object(n["p"])(i)*Object(n["p"])(s.ladder_taxrate/100),t[3]+="+"+Object(n["o"])(i)+"*"+Object(n["o"])(s.ladder_taxrate)+"%"):(i=Object(n["p"])(i)-Object(n["p"])(r),t[1]+=Object(n["p"])(r)*Object(n["p"])(s.ladder_taxrate/100),t[3]+="+"+Object(n["o"])(r)+"*"+Object(n["o"])(s.ladder_taxrate)+"%"):(t[1]+=Object(n["p"])(i)*Object(n["p"])(s.ladder_taxrate/100),t[3]+="+"+Object(n["o"])(i)+"*"+Object(n["o"])(s.ladder_taxrate)+"%",i=0)})}else if(2==this.info.event_info_configure.service_fee_calculation_method){e=this.price_no[2],i=this.price_no[3];for(var s=0;s<this.info.event_info_grade_taxrates.length;s++)if(s==this.info.event_info_grade_taxrates.length-1||Object(n["o"])(e)>=this.info.event_info_grade_taxrates[s].grade_money&&Object(n["o"])(e)<this.info.event_info_grade_taxrates[s+1].grade_money){t[0]=Object(n["o"])(e)*this.info.event_info_grade_taxrates[s].grade_taxrate/100*this.info.fzc_service/100,t[2]=Object(n["m"])(e)+"*"+this.info.event_info_grade_taxrates[s].grade_taxrate+"%",1==this.info.event_info_configure.service_fee_ratio&&(t[2]+="*"+this.info.fzc_service+"%"),1==this.info.event_info_configure.minimum_service_fee&&t[0]<this.info.event_info_configure.minimum_service_fee_money&&(t[0]=this.info.event_info_configure.minimum_service_fee_money);break}for(s=0;s<this.info.event_info_grade_taxrates.length;s++)if(s==this.info.event_info_grade_taxrates.length-1||Object(n["o"])(i)>=this.info.event_info_grade_taxrates[s].grade_money&&Object(n["o"])(i)<this.info.event_info_grade_taxrates[s+1].grade_money){t[1]=Object(n["o"])(i)*this.info.event_info_grade_taxrates[s].grade_taxrate/100*this.info.sheet_fzc_service/100,t[3]=Object(n["m"])(i)+"*"+this.info.event_info_grade_taxrates[s].grade_taxrate+"%",1==this.info.event_info_configure.minimum_service_fee&&t[1]<this.info.event_info_configure.minimum_service_fee_money&&(t[1]=this.info.event_info_configure.minimum_service_fee_money);break}}return 1==this.info.zhicai_service&&(this.info.event_quoted_price_zhicai_service.forEach(e=>{var i;t[8]+=null!==(i=e.grade_price*e.grade_count)&&void 0!==i?i:0}),this.info.event_settlement_sheet_zhicai_service.forEach(e=>{var i;t[9]+=null!==(i=e.grade_price*e.grade_count)&&void 0!==i?i:0})),t[2]=t[2].replace("+",""),t[3]=t[3].replace("+",""),this.info.quoted_travelagency_payment_money||(this.info.quoted_travelagency_payment_money=0),this.info.quoted_travelagency_payment_proportion||(this.info.quoted_travelagency_payment_proportion=0),t[4]=Object(n["p"])(this.info.quoted_travelagency_payment_money)*Object(n["p"])(this.info.quoted_travelagency_payment_proportion/100),t[5]=Object(n["p"])(this.info.settlement_advance_amount)*Object(n["p"])(this.info.settlement_advance_proportion/100),t[6]=Object(n["o"])(this.info.quoted_travelagency_payment_money)+"*"+Object(n["o"])(this.info.quoted_travelagency_payment_proportion)+"%",t[7]=Object(n["o"])(this.info.settlement_advance_amount)+"*"+Object(n["o"])(this.info.settlement_advance_proportion)+"%",this.info.feizhicai_service=t[1],t},vatPrice(){let t=[0,0,"",""];return t[0]=(Object(n["p"])(this.roomPrice[0].all)+Object(n["p"])(this.conferencePrice[0].all)+Object(n["p"])(this.foodPrice[0].all)+Object(n["p"])(this.otherfoodPrice[0].all)+Object(n["p"])(this.intercitytrafficPrice[0].all)+Object(n["p"])(this.carPrice[0].all)+Object(n["p"])(this.otherPrice[0])+(0==this.info.zhicai_service?Object(n["p"])(this.servicePrice[4]):Object(n["p"])(this.servicePrice[8])))*this.info.taxrate/100,1!=this.info.event_info_configure.fzc_service_fee_money&&null!=this.info.event_info_configure.fzc_service_fee_money||(t[0]+=Object(n["p"])(this.servicePrice[0])*Object(n["p"])(this.info.taxrate/100)),t[1]=(Object(n["p"])(this.roomPrice[1].all)+Object(n["p"])(this.conferencePrice[1].all)+Object(n["p"])(this.foodPrice[1].all)+Object(n["p"])(this.otherfoodPrice[1].all)+Object(n["p"])(this.intercitytrafficPrice[1].all)+Object(n["p"])(this.carPrice[1].all)+Object(n["p"])(this.otherPrice[1])+(0==this.info.zhicai_service?Object(n["p"])(this.servicePrice[5]):Object(n["p"])(this.servicePrice[9])))*this.info.settlement_taxrate/100,(this.info.event_info_configure.fzc_service_fee_money||null==this.info.event_info_configure.fzc_service_fee_money)&&(t[1]+=Object(n["p"])(this.servicePrice[1])*Object(n["p"])(this.info.settlement_taxrate/100)),t[2]="("+Object(n["m"])(this.price_no[0])+"+"+Object(n["m"])((0==this.info.event_info_configure.fzc_service_fee_money?0:Object(n["o"])(this.servicePrice[0]))+Object(n["o"])(0==this.info.zhicai_service?this.servicePrice[4]:this.servicePrice[8]))+") *"+Object(n["o"])(this.info.taxrate)+"%",t[3]="("+Object(n["m"])(this.price_no[1])+"+"+Object(n["m"])((0==this.info.event_info_configure.fzc_service_fee_money?0:Object(n["o"])(this.servicePrice[1]))+Object(n["o"])(0==this.info.zhicai_service?this.servicePrice[5]:this.servicePrice[9]))+") ",this.info.taxation=t[1],t},price_no(){let t=[0,0,0,0];return t[0]=this.roomPrice[0].all+this.conferencePrice[0].all+this.foodPrice[0].all+this.otherfoodPrice[0].all+this.intercitytrafficPrice[0].all+this.carPrice[0].all+this.otherPrice[0],t[1]=this.roomPrice[1].all+this.conferencePrice[1].all+this.foodPrice[1].all+this.otherfoodPrice[1].all+this.intercitytrafficPrice[1].all+this.carPrice[1].all+this.otherPrice[1],console.log(t[1],this.roomPrice[1].all,this.conferencePrice[1].all,this.foodPrice[1].all,this.otherfoodPrice[1].all,this.intercitytrafficPrice[1].all,this.carPrice[1].all,this.otherPrice[1]),this.info.settlement_total_price=t[1],t[2]=this.roomPrice[5]+this.conferencePrice[5]+this.foodPrice[5]+this.otherfoodPrice[5]+this.intercitytrafficPrice[5]+this.carPrice[5]+this.otherPrice[5],t[3]=this.roomPrice[6]+this.conferencePrice[6]+this.foodPrice[6]+this.otherfoodPrice[6]+this.intercitytrafficPrice[6]+this.carPrice[6]+this.otherPrice[6],t},price(){let t=[0,0];return t[0]=Object(n["o"])(this.price_no[0])+Object(n["m"])(this.servicePrice[0])+(0===this.info.zhicai_service?Object(n["m"])(this.servicePrice[4]):Object(n["m"])(this.servicePrice[8]))+Object(n["m"])(this.vatPrice[0]),t[1]=Object(n["o"])(this.price_no[1])+Object(n["m"])(this.servicePrice[1])+(0===this.info.zhicai_service?Object(n["m"])(this.servicePrice[5]):Object(n["m"])(this.servicePrice[9]))+Object(n["m"])(this.vatPrice[1]),this.info.total_amount=t[1],t}},methods:{guid:n["k"],positiveInteger:n["q"],positiveFloatOne:n["n"],positiveFloatSix:n["o"],positiveFloat:n["m"],formatNum:n["e"],positiveFloatZero:n["p"],excelExport:f["a"],getFormatDate:n["g"],limitsEffect:c["a"],changekefang(t,e){let i=this.roomcostProjects.filter(e=>e.code==t);e.settlement_itemname=i[0].name},changehuichang(t,e){let i=this.meetingcostProjects.filter(e=>e.code==t);e.settlement_itemname=i[0].name},changehotelnei(t,e){let i=this.foodcostProjects.filter(e=>e.code==t);e.settlement_itemname=i[0].name},changehotelwai(t,e){let i=this.otherfoodcostProjects.filter(e=>e.code==t);e.settlement_itemname=i[0].name},changebigcar(t,e){let i=this.transportationcostProjects.filter(e=>e.code==t);food.settlement_itemname=i[0].name},changecar(t,e){let i=this.carcostProjects.filter(e=>e.code==t);food.settlement_itemname=i[0].name},openAddSettle(){this.cost_project_load=!0;let t=Object(n["g"])(this.info.event_info.event_startdate).slice(0,10),e=Object(n["g"])(this.info.event_info.event_enddate).slice(0,10),i=l()(t).subtract(3,"days").format("YYYY-MM-DD"),s=l()(e).add(1,"days").format("YYYY-MM-DD"),o=Object(n["f"])(i,s);this.costDates=[],o.forEach((t,e)=>{this.costDates.push({value:t,label:t})}),this.changeProjectClass(),this.addSettleShow=!0},changecostProject(){"zafei"==this.addSettleInfo.costProject||"009"==this.addSettleInfo.projectClass?(this.needCostDate=!1,this.addSettleRules.costDate[0].required=!1):(this.needCostDate=!0,this.addSettleRules.costDate[0].required=!0)},async changeProjectClass(){const t={"0034":{selects:"roomcostProjects"},"0049":{selects:"meetingcostProjects"},"0050":{selects:"foodcostProjects"},"0051":{selects:"otherfoodcostProjects"},"003":{selects:"transportationcostProjects"},"006":{selects:"carcostProjects"},"009":{selects:"othercostProjects"}};"009"==this.addSettleInfo.projectClass?(this.needCostDate=!1,this.addSettleRules.costDate[0].required=!1):(this.needCostDate=!0,this.addSettleRules.costDate[0].required=!0),this.cost_project_load=!0;this.addSettleInfo.projectClass;this.addSettleInfo.projectClass;let e=await this.$api.getCostProjects({code:this.addSettleInfo.projectClass,meetingid:"009"==this.addSettleInfo.projectClass?this.info.meeting_id:""},"POST");this.cost_project_load=!1,this.costProjects=e.map(t=>(t.value=t.code,t.label=t.name,t)),this[t[this.addSettleInfo.projectClass].selects]=e.map(t=>(t.value=t.code,t.label=t.name,t)),this.costProjects.push({label:"杂费",value:"zafei"}),this.addSettleInfo.costProject=this.costProjects[0].value},initCostProject(){this.$api.getCostProjects({code:""},"POST").then(t=>{let e=t.filter(t=>"0034"==t.event_dictionary_code),i=t.filter(t=>"0049"==t.event_dictionary_code),s=t.filter(t=>"0050"==t.event_dictionary_code),o=t.filter(t=>"0051"==t.event_dictionary_code),n=t.filter(t=>"003"==t.event_dictionary_code),a=t.filter(t=>"006"==t.event_dictionary_code),r=t.filter(t=>"009"==t.event_dictionary_code);this.roomcostProjects=e.map(t=>(t.label=t.name,t.value=t.code,t)),this.meetingcostProjects=i.map(t=>(t.label=t.name,t.value=t.code,t)),this.foodcostProjects=s.map(t=>(t.label=t.name,t.value=t.code,t)),this.otherfoodcostProjects=o.map(t=>(t.label=t.name,t.value=t.code,t)),this.transportationcostProjects=n.map(t=>(t.label=t.name,t.value=t.code,t)),this.carcostProjects=a.map(t=>(t.label=t.name,t.value=t.code,t)),this.othercostProjects=r.map(t=>(t.label=t.name,t.value=t.code,t))})},addSettle(){const t={"0034":{dataList:"roomlist",addBusinessBlock:"addroomBusiness",addDataBlock:"addroom",selects:"roomcostProjects"},"0049":{dataList:"conferencelist",addBusinessBlock:"addconferenceBusiness",addDataBlock:"addconference",selects:"meetingcostProjects"},"0050":{dataList:"foodlist",addBusinessBlock:"addfoodBusiness",addDataBlock:"addfood",selects:"foodcostProjects"},"0051":{dataList:"otherfoodlist",addBusinessBlock:"addotherfoodBusiness",addDataBlock:"addotherfood",selects:"otherfoodcostProjects"},"003":{dataList:"transportationlist",addBusinessBlock:"addstransportationBusiness",addDataBlock:"addstransportation",selects:"transportationcostProjects"},"006":{dataList:"carlist",addBusinessBlock:"addcarBusiness",addDataBlock:"addcar",selects:"carcostProjects"},"009":{dataList:"otherlist",addBusinessBlock:"addsundryBusiness",addDataBlock:"addsundry",selects:"othercostProjects"}},e={"0034":1,"0049":2,"0050":3,"0051":7,"003":4,"006":5,"009":6};this.$refs.addSettleInfo.validate(i=>{if(i){let i=t[this.addSettleInfo.projectClass];if(i)if(this[i.selects]=[...this.costProjects],"zafei"==this.addSettleInfo.costProject)this.addOther(e[this.addSettleInfo.projectClass]);else if(this.info[i.dataList]&&this.info[i.dataList].length)if("009"==this.addSettleInfo.projectClass)this[i.addDataBlock](!0);else{let t=this.info[i.dataList].filter(t=>this.addSettleInfo.costDate==l()(t.date).format("YYYY-MM-DD"));t&&t.length?this[i.addDataBlock](t[0],!0):this[i.addBusinessBlock](!0)}else this[i.addBusinessBlock](!0);this.addSettleShow=!1}})},async excelDownload(){if(1==this.$route.params.issubmit)this.info.settlement_status=this.status_draft,await this.save(2);else{var t="DMC结算单";this.excelExport("/Template/GetTemplate",{eventid:this.info.event_info.id,type:4,param:this.$route.params.id},t)}},async downloadSettlementConfirm(){if(1==this.$route.params.issubmit)this.info.settlement_status=this.status_draft,await this.save(1);else{var t="结算确认单";this.excelExport("/Template/GetTemplate",{eventid:this.info.event_info.id,type:6,param:this.$route.params.id},t)}},handleChangeAttach(t,e,i){const s=t.size/1024/1024<30;if(this.limitsEffect(t)){if(!s)return this.$message.error("上传附件大小不能超过 30MB!"),void this.arrayList.forEach((s,o)=>{i==s.type&&this.$refs.upload[o].handleRemove(t,e,i)});this.arrayList.forEach((t,s)=>{i==t.type&&(t.fileList=e)}),this.initFileRename()}else this.arrayList.forEach((s,o)=>{i==s.type&&this.$refs.upload[o].handleRemove(t,e,i)})},handleRemoveAttach(t,e,i){this.arrayList.forEach((t,s)=>{i==t.type&&(t.fileList=e)}),this.initFileRename()},getImg(t){console.log(t),console.log(t.target.currentSrc);let e=t.target.currentSrc;e&&this.$hevueImgPreview(e)},handlePreview(t){if(!t.url)return;let e=t.url.substring(t.url.lastIndexOf(".")+1),i=["pdf","jpeg","jpg","png","txt"],s=["docx","doc","xls","xlsx","xlsm","ppt","pptx"];t.url=t.url.replace(/http:/,"https:"),this.downloadUrl=t.url,s.includes(e)?this.downloadUrl="https://view.officeapps.live.com/op/view.aspx?src="+encodeURIComponent(t.url):i.includes(e)?this.downloadUrl=t.url:this.$message.info("文件格式不支持预览，下载后查看"),setTimeout(()=>{this.$refs.a_click.click()},100)},initFileRename(){var t=this;this.$nextTick(()=>{var e=document.getElementsByClassName("el-upload-list__item-name")||null;Array.from(e).forEach((e,i,s)=>{var o=e.innerText;e.getElementsByTagName("span")[0]||(e.innerHTML+="<span style='color:#199ED8;cursor: pointer;'>重命名</span>"),e.getElementsByTagName("span")[0].addEventListener("click",(function(i){i.stopPropagation(),t.rename=!0,t.fileName=o.slice(0,o.lastIndexOf(".")),t.suffix=o.slice(o.lastIndexOf(".")),console.log(e.getElementsByTagName("span")[0].parentNode.parentNode.parentNode)}))})})},fileRename(t,e,i){this.rename=!0,this.updateIndex=e,this.updateFileIndex=i,this.fileName=t.name.slice(0,t.name.lastIndexOf(".")),this.suffix=t.name.slice(t.name.lastIndexOf("."))},saveFileName(){if(this.arrayList[this.updateIndex].fileList[this.updateFileIndex].name=this.fileName+this.suffix,this.info.attachlist.forEach((t,e)=>{t.id==this.arrayList[this.updateIndex].fileList[this.updateFileIndex].id&&(this.info.attachlist[e].filename=this.fileName+this.suffix)}),this.arrayList[this.updateIndex].fileList[this.updateFileIndex].raw){const t=new File([this.arrayList[this.updateIndex].fileList[this.updateFileIndex].raw],this.fileName+this.suffix,{lastModified:this.arrayList[this.updateIndex].fileList[this.updateFileIndex].raw.lastModified,lastModifiedDate:this.arrayList[this.updateIndex].fileList[this.updateFileIndex].raw.lastModifiedDate,type:this.arrayList[this.updateIndex].fileList[this.updateFileIndex].raw.type});this.arrayList[this.updateIndex].fileList[this.updateFileIndex].raw=t}this.rename=!1},deleteFile(t,e,i,s){i==s&&(this.isFail=0),this.arrayList[e].fileList.splice(i,1)},addOther(t){this.info.sundrieslist.push({id:this.guid(),type:t,price:0,count:0,comments:"",content:"",isnotservice:0,settlementservice_taxrate:0,lineoroffline:0,sumprice:0})},delOther(t){1==this.info.sundrieslist.length?this.info.sundrieslist[0].isdelete=1:this.info.sundrieslist=this.info.sundrieslist.filter(e=>e.id!=t)},async addroom(t,e){e||(this.addSettleInfo.projectClass="0034",await this.changeProjectClass()),t.roomlists.push({settlement_itemid:this.addSettleInfo.costProject,roomtypename:"",totalprice:0,unitprice:0,roomcount:0,inside_roomcount:0,settlement_inside_roomcount:0,outside_roomcount:0,settlement_outside_roomcount:0,settlement_unitprice:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0})},findCostProjectByKey(t){let e=this.costProjects.filter(e=>t==e.value);return e&&e.length?e[0]:null},addroomBusiness(t){this.info.roomlist.push({date:l()(this.addSettleInfo.costDate).format("YYYY/MM/DD"),roomlists:[{settlement_itemid:this.addSettleInfo.costProject,roomtypename:"",totalprice:0,unitprice:0,roomcount:0,inside_roomcount:0,settlement_inside_roomcount:0,outside_roomcount:0,settlement_outside_roomcount:0,settlement_unitprice:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0}]}),this.info.roomlist=this.info.roomlist.sort((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime())},delroom(t,e){t.roomlists.splice(e,1)},async addconference(t,e){e||(this.addSettleInfo.projectClass="0049",await this.changeProjectClass()),t.conferencelists.push({settlement_itemid:this.addSettleInfo.costProject,is_important:"",price:0,count:0,settlement_price:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0})},addconferenceBusiness(t){this.info.conferencelist.push({date:l()(this.addSettleInfo.costDate).format("YYYY/MM/DD"),conferencelists:[{settlement_itemid:this.addSettleInfo.costProject,is_important:"",price:0,count:0,settlement_price:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0}]}),this.info.conferencelist=this.info.conferencelist.sort((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime())},delconference(t,e){t.conferencelists.splice(e,1)},async addfood(t,e){e||(this.addSettleInfo.projectClass="0050",await this.changeProjectClass()),t.foodlists.push({settlement_itemid:this.addSettleInfo.costProject,foodtypename:"",addresstype:"0",personcount:0,price:0,settlement_unitprice:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0})},addfoodBusiness(t){this.info.foodlist.push({date:l()(this.addSettleInfo.costDate).format("YYYY/MM/DD"),foodlists:[{settlement_itemid:this.addSettleInfo.costProject,foodtypename:"",addresstype:"0",personcount:0,price:0,settlement_unitprice:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0}]}),this.info.foodlist=this.info.foodlist.sort((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime())},delfood(t,e){t.foodlists.splice(e,1)},async addotherfood(t,e){e||(this.addSettleInfo.projectClass="0051",await this.changeProjectClass()),t.foodlists.push({settlement_itemid:this.addSettleInfo.costProject,foodtypename:"",addresstype:"0",personcount:0,price:0,settlement_unitprice:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0})},addotherfoodBusiness(t){this.info.otherfoodlist.push({date:l()(this.addSettleInfo.costDate).format("YYYY/MM/DD"),foodlists:[{settlement_itemid:this.addSettleInfo.costProject,foodtypename:"",addresstype:"0",personcount:0,price:0,settlement_unitprice:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0}]}),this.info.otherfoodlist=this.info.otherfoodlist.sort((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime())},delotherfood(t,e){t.foodlists.splice(e,1)},async addstransportation(t,e){e||(this.addSettleInfo.projectClass="003",await this.changeProjectClass()),t.tranlists.push({settlement_itemid:this.addSettleInfo.costProject,joinname:"",passengercount:0,unitprice:0,settlement_unitprice:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0})},addstransportationBusiness(t){this.info.transportationlist.push({date:l()(this.addSettleInfo.costDate).format("YYYY/MM/DD"),tranlists:[{settlement_itemid:this.addSettleInfo.costProject,joinname:"",passengercount:0,unitprice:0,settlement_unitprice:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0}]}),this.info.transportationlist=this.info.transportationlist.sort((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime())},delstransportation(t,e){t.tranlists.splice(e,1)},async addcar(t,e){e||(this.addSettleInfo.projectClass="006",await this.changeProjectClass()),t.carlists.push({settlement_itemid:this.addSettleInfo.costProject,purposename:"",carcount:0,price:0,settlement_unitprice:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0})},addcarBusiness(t){this.info.carlist.push({date:l()(this.addSettleInfo.costDate).format("YYYY/MM/DD"),carlists:[{settlement_itemid:this.addSettleInfo.costProject,purposename:"",carcount:0,price:0,settlement_unitprice:"0",settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,settlement_count:"0",settlement_comments:"",lineoroffline:0,quotationsumprice:0,settlementsumprice:0}]}),this.info.carlist=this.info.carlist.sort((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime())},delcar(t,e){t.carlists.splice(e,1)},async addsundry(t){t||(this.addSettleInfo.projectClass="009",await this.changeProjectClass());let e=this.findCostProjectByKey(this.addSettleInfo.costProject),i={settlement_itemid:this.addSettleInfo.costProject,settlement_itemname:e.label,servicetype:this.addSettleInfo.costProject,servicetypename:e.label,offerparticipatecount:0,offerservicedaycount:0,price:0,settlement_unitprice:"0",settlement_count:"0",settlement_comments:"",isnotservice:e.isnotservice,service_taxrate:0,lineoroffline:0,settlementservice_taxrate:0,quotationsumprice:0,settlementsumprice:0,two_level_code:""};this.othercostProjects.forEach((t,e)=>{console.log(this.addSettleInfo.costProject),this.addSettleInfo.costProject==t.code&&(i.servicetypename=t.name,i.detail=t.detail,i.two_level_code="",i.isnotservice=t.isnotservice)}),this.info.otherlist.push(i)},addsundryBusiness(t){this.info.otherlist.push({settlement_itemid:this.addSettleInfo.costProject,settlement_itemname:this.findCostProjectByKey(this.addSettleInfo.costProject).label,servicetype:this.addSettleInfo.costProject,servicetypename:this.findCostProjectByKey(this.addSettleInfo.costProject).label,offerparticipatecount:0,offerservicedaycount:0,price:0,settlement_unitprice:"0",settlement_count:"0",settlement_comments:"",isnotservice:0,service_taxrate:0,lineoroffline:0,settlementservice_taxrate:0,quotationsumprice:0,settlementsumprice:0})},delsother(t,e){this.info.otherlist.splice(e,1)},submit(){this.validate()&&(this.info.settlement_status!=this.status_confirm&&(this.info.settlement_status=this.status_tobeconfirmed),this.info.event_info.pocode?this.save():this.$confirm("当前会议活动未录入PO，不能提交结算单，请您先在“我的会议”-》查看详情-》录入PO 后，再返回当前页面提交结算单！","提示",{confirmButtonText:"确定",center:!0,showCancelButton:!1}).then(()=>{this.draft(),this.$router.go(-1)}).catch(()=>{}))},async draft(){this.info.settlement_status=this.status_draft,await this.save()},differenceShowErrorMessage:function(){let t="";this.errormsg.forEach(e=>{t+="<p style='padding:5px;'>"+e+"</p>"}),this.$message({message:t,dangerouslyUseHTMLString:!0,type:"error",lockScroll:!1})},validate:function(){return this.errormsg=[],this.checkRoomDifference,this.checkConferenceDifference,this.checkFoodDifference,this.checkOtherFoodDifference,this.checkTransportationDifference,this.checkCarDifference,this.checkOtherDifference,this.errormsg.length>0&&this.differenceShowErrorMessage(),0==this.errormsg.length},save(t){this.info.pre_settlement_status===this.status_reject&&(this.info.settlement_sheet_id=null),this.info.transportationlist.forEach((t,e)=>{t.tranlists.forEach((t,i)=>{this.info.trantypelist.forEach((s,o)=>{t.settlement_itemid==s.trancode&&(this.info.transportationlist[e].tranlists[i].settlement_itemname||(this.info.transportationlist[e].tranlists[i].settlement_itemname=s.tranname))})})}),this.intercitytrafficincidental.forEach((t,e)=>{this.info.trantypelist.forEach((i,s)=>{t.itemcode==i.trancode&&(this.intercitytrafficincidental[e].content=i.tranname)})}),this.info.settlement_settlementsheetexplain=this.arrayList[0].remark,this.info.settlement_confirmmail=this.arrayList[1].remark,this.info.settlement_po=this.arrayList[2].remark,this.info.settlement_invoice=this.arrayList[3].remark,this.info.settlement_voucher=this.arrayList[4].remark,this.info.settlement_contract=this.arrayList[5].remark,this.info.settlement_waterbill=this.arrayList[6].remark,this.info.settlement_outsidefoodinvoiceexplain=this.arrayList[7].remark,this.info.settlement_registinvoiceexplain=this.arrayList[8].remark,this.info.settlement_carinvoiceexplain=this.arrayList[9].remark,this.info.settlement_productsvoiceexplain=this.arrayList[10].remark,this.info.settlement_insureinvoiceexplain=this.arrayList[11].remark,this.info.settlement_signexplain=this.arrayList[12].remark,this.info.settlement_photoexplain=this.arrayList[13].remark,this.info.settlement_other=this.arrayList[14].remark,1==this.info.zhicai_service&&(this.info.settlement_advance_amount=this.servicePrice[9],this.info.settlement_advance_proportion=100);let e=[{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]},{urLs:[]}];e.forEach((t,e)=>{if(this.arrayList[e]){this.arrayList[e].fileList.filter(t=>""!=t.uid);if(1==this.arrayList.filter(t=>null!=t.arrayLength).length){var i=null;this.arrayList.forEach((t,e)=>{null!=t.arrayLength&&(i=e)}),this.arrayList[e].fileList.length>0&&(e>i||e==i)&&this.arrayList[e].fileList.forEach((e,i)=>{t.urLs.push({key:e.uid,file:e.raw})})}else this.arrayList[e].fileList.length>0&&this.arrayList[e].fileList.forEach(e=>{t.urLs.push({key:e.uid,file:e.raw})})}}),this.isFail=1,this.arrayList.forEach((t,e)=>{this.arrayList[e].arrayLength=null}),Object(a["a"])(e[0].urLs).then(t=>(console.log(t),t&&void 0!=t.tag?(this.arrayList[0].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[0].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[0].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[0].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[0].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[1].urLs)))).then(t=>t&&void 0!=t.tag?(this.arrayList[1].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[1].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[1].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[1].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[1].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[2].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[2].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[2].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[2].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[2].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[2].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[3].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[3].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[3].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[3].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[3].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[3].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[4].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[4].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[4].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[4].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[4].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[4].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[5].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[5].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[5].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[5].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[5].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[5].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[6].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[6].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[6].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[6].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[6].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[6].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[7].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[7].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[7].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[7].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[7].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[7].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[8].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[8].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[8].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[8].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[8].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[8].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[9].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[9].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[9].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[9].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[9].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[9].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[10].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[10].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[10].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[10].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[10].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[10].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[11].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[11].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[11].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[11].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[11].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[11].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[12].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[12].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[12].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[12].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[12].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[12].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[13].urLs))).then(t=>t&&void 0!=t.tag?(this.arrayList[13].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[13].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})})):(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[13].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[13].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[13].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),Object(a["a"])(e[14].urLs))).then(t=>{if(t&&void 0!=t.tag)return this.arrayList[14].arrayLength=t.tag,void t.uploadImageList.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[14].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})});if(this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{0==this.arrayList[14].fileList.filter(e=>e.id==t.id).length&&t.filetype==this.arrayList[14].type&&(t.delete=!0)}),t.forEach(t=>{t&&this.info.attachlist.push({filetype:this.arrayList[14].type,filepath:t.FilePath,filename:t.OriginalFileName,create_date:t.create_date?Object(n["g"])(t.create_date):""})}),this.info.attachlist.forEach(t=>{t.create_date=t.create_date?Object(n["g"])(t.create_date):""}),this.info.roomlist&&this.info.roomlist.forEach(t=>{for(let e=0;e<t.roomlists.length;e++)t.roomlists[e].indexs=e+1}),this.info.conferencelist&&this.info.conferencelist.forEach(t=>{for(let e=0;e<t.conferencelists.length;e++)t.conferencelists[e].indexs=e+1}),this.info.foodlist&&this.info.foodlist.forEach(t=>{for(let e=0;e<t.foodlists.length;e++)t.foodlists[e].indexs=e+1}),this.info.otherfoodlist&&this.info.otherfoodlist.forEach(t=>{for(let e=0;e<t.foodlists.length;e++)t.foodlists[e].indexs=e+1}),this.info.transportationlist&&this.info.transportationlist.forEach(t=>{for(let e=0;e<t.tranlists.length;e++)t.tranlists[e].indexs=e+1}),this.info.carlist&&this.info.carlist.forEach(t=>{for(let e=0;e<t.carlists.length;e++)t.carlists[e].indexs=e+1}),this.info.otherlist)for(let e=0;e<this.info.otherlist.length;e++)this.info.otherlist[e].indexs=e+1;return this.$api.DMCOnlineSubmit(this.info,"POST")}).then(e=>{if(e){if(1==t){var i="结算确认单";this.excelExport("/Template/GetTemplate",{eventid:this.info.event_info.id,type:6,param:this.$route.params.id},i)}else if(2==t){i="DMC结算单";this.excelExport("/Template/GetTemplate",{eventid:this.info.event_info.id,type:4,param:this.$route.params.id},i)}this.$message({message:"保存成功！",type:"success"}),this.$router.push({name:"orderInfo",params:{id:this.info.orderform_id}})}else this.$message({message:"保存失败！",type:"error"})})},changeOtherSel(t,e,i){let s=this.othercostProjects.filter(t=>t.code==i);t.settlement_itemname=s[0].name,t.isnotservice=s[0].isnotservice,this.othercostProjects.forEach((e,i)=>{t.settlement_itemid==e.code&&(t.servicetypename=e.name,t.detail=e.detail.filter(t=>"0"!==t.detail_type),t.two_level_code="",t.isnotservice=e.isnotservice)}),this.info.eventinfoother.forEach((i,s)=>{t.settlement_itemid==i.othercode&&(this.info.otherlist[e].settlementservice_taxrate=i.servicerate,this.info.otherlist[e].isnotservice=i.iscalservice,console.log(this.info.otherlist[e].isnotservice,i.iscalservice))})},initInfo(){this.info.roomlist.forEach((t,e)=>{t.roomlists.forEach(t=>{t.quoted_price_room_id&&null==this.info.id&&(t.settlement_unitprice=Object(n["o"])(t.unitprice),"0"==this.info.is_Inside_outside&&(t.settlement_count=t.provide_count,t.settlement_inside_roomcount=0,t.settlement_outside_roomcount=t.provide_count),"1"==this.info.is_Inside_outside&&(t.settlement_count=t.provide_count,t.settlement_inside_roomcount=t.inside_roomcount,t.settlement_outside_roomcount=t.outside_roomcount))})}),this.info.conferencelist.forEach((t,e)=>{t.conferencelists.forEach(t=>{t.quoted_price_conference_id&&null==this.info.id&&(t.settlement_price=Object(n["o"])(t.price),t.settlement_count=Object(n["m"])(t.count))})}),this.info.foodlist.forEach((t,e)=>{t.foodlists.forEach(t=>{t.quoted_price_food_id&&null==this.info.id&&(t.settlement_unitprice=Object(n["o"])(t.price),t.settlement_count=Object(n["m"])(t.personcount))})}),this.info.otherfoodlist.forEach((t,e)=>{t.foodlists.forEach(t=>{t.quoted_price_food_id&&null==this.info.id&&(t.settlement_unitprice=Object(n["o"])(t.price),t.settlement_count=Object(n["m"])(t.personcount))})}),this.info.transportationlist.forEach((t,e)=>{t.tranlists.forEach(t=>{t.quoted_price_transportation_id&&null==this.info.id&&(t.settlement_unitprice=Object(n["o"])(t.unitprice),t.settlement_count=Object(n["m"])(t.passengercount))})}),this.info.carlist.forEach((t,e)=>{t.carlists.forEach(t=>{t.quoted_price_car_id&&null==this.info.id&&(t.settlement_unitprice=Object(n["o"])(t.price),t.settlement_count=Object(n["m"])(t.carcount))})}),this.info.otherlist.forEach((t,e)=>{t.quoted_price_other_id&&null==this.info.id&&(t.settlement_unitprice=Object(n["o"])(t.price),t.settlement_count=Object(n["m"])(t.offerservicedaycount)*Object(n["m"])(t.offerparticipatecount))}),null==this.info.id&&(this.info.settlement_advance_amount=this.info.quoted_travelagency_payment_money,this.info.settlement_advance_proportion=this.info.quoted_travelagency_payment_proportion,this.info.settlement_taxrate=this.info.taxrate,this.info.settlement_advance_amount||(this.info.settlement_advance_amount=0),this.info.settlement_advance_proportion||(this.info.settlement_advance_proportion=0)),"0020-1"==this.info.orderstatus&&(this.showPriceInfo=!1)}},mounted(){this.initCostProject(),this.$api.DMCOnlineInfo({orderformid:this.$route.params.id},"POST").then(t=>{this.info=t,console.log(t),0!=this.info.event_info_configure.service_fee_ratio&&null!=this.info.sheet_fzc_service||(this.info.sheet_fzc_service=this.info.fzc_service),this.initInfo(),this.info.attachlist&&this.info.attachlist.length>0&&this.info.attachlist.forEach(t=>{this.arrayList.forEach((e,i)=>{t.filetype==e.type&&this.arrayList[i].fileList.push({id:t.id,uid:"",name:t.filename,url:this.info.fileuploaddomin+t.filepath,update_time:t.update_time,create_date:t.create_date})})}),this.arrayList[0].remark=this.info.settlement_settlementsheetexplain,this.arrayList[1].remark=this.info.settlement_confirmmail,this.arrayList[2].remark=this.info.settlement_po,this.arrayList[3].remark=this.info.settlement_invoice,this.arrayList[4].remark=this.info.settlement_voucher,this.arrayList[5].remark=this.info.settlement_contract,this.arrayList[6].remark=this.info.settlement_waterbill,this.arrayList[7].remark=this.info.settlement_outsidefoodinvoiceexplain,this.arrayList[8].remark=this.info.settlement_registinvoiceexplain,this.arrayList[9].remark=this.info.settlement_carinvoiceexplain,this.arrayList[10].remark=this.info.settlement_productsvoiceexplain,this.arrayList[11].remark=this.info.settlement_insureinvoiceexplain,this.arrayList[12].remark=this.info.settlement_signexplain,this.arrayList[13].remark=this.info.settlement_photoexplain,this.arrayList[14].remark=this.info.settlement_other,this.arrayList[0].dissent=this.info.dissent_settlementsheetexplain,this.arrayList[1].dissent=this.info.dissent_confirmmail,this.arrayList[2].dissent=this.info.dissent_po,this.arrayList[3].dissent=this.info.dissent_invoice,this.arrayList[4].dissent=this.info.dissent_voucher,this.arrayList[5].dissent=this.info.dissent_contract,this.arrayList[6].dissent=this.info.dissent_waterbill,this.arrayList[7].dissent=this.info.dissent_outsidefoodinvoiceexplain,this.arrayList[8].dissent=this.info.dissent_registinvoiceexplain,this.arrayList[9].dissent=this.info.dissent_carinvoiceexplain,this.arrayList[10].dissent=this.info.dissent_productsvoiceexplain,this.arrayList[11].dissent=this.info.dissent_insureinvoiceexplain,this.arrayList[12].dissent=this.info.dissent_signexplain,this.arrayList[13].dissent=this.info.dissent_photoexplain,this.arrayList[14].dissent=this.info.dissent_other,this.initFileRename()})}}),d=_,h=(i("dc8d"),i("0b56")),m=Object(h["a"])(d,s,o,!1,null,"87ad216c",null);e["default"]=m.exports},b93d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAATxJREFUaEPtWV0OgjAM7iTeQhO9jhzCB2+BD+KD3MIHD4HXkURuYWRGA0YJg86WzSXllbXr97OOFAWBPyrw+kEA+FZQFAhGgdthlU6UWgPAwmHRRaX1abo9p6Y9URaqi985LPxrq0rrvQkECsA9i68AMPMFAADKKMnnXftjAegmuI8NToBt1aMk76zVGoApEWfxTa57Fr+JEwANK6KAhdfEQjaHyUQshkVK7OhdSADU8nhro6KAKAAAGBt8rrFo9a+lJn9j9mXrQgKgQzanClAuI0osm4UoRVBiBcBQx8H4WBTwzeJfKzBETt97jP1GP8QCwPfHnCjArUCok7mL46l023lFlOTLn2ejwU+nn8hrEBvHU+qy0vpI/j9A6SRjx6IusrGLoOQXABT2OGJFAQ4WKTlEAQp7HLHBK/AA4k5IQOfQdIYAAAAASUVORK5CYII="},d991:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAWRJREFUaEPtmT1Ow0AQhd+sgcPAAZISKn6cS3ACJCQKVqJCWiQKpNyAQ2B+KijjA8BhAO+gpTJ2iDYMS9ZiUlozz/Pe51SPMPAfDfx+qIFVE5xL4NUdjNZAUwZGqz4wvJ+A+h18tGFv6+49PQPs9jc9zHMOh3dvMPBbZO9e2s97Brwr7xnY9Q3trJ/dPOVg5O18sm0KfiTgwdhqb6GBxpUcBgpbZfUH/+6u3pFqINE3pwQSBRstqwSio0o0qAQSBRstqwSio0o0qAQSBRstqwSio0o0qASai8klmE8SBfxVlnBdnFaH7YdiAoM38CfJL3iJmIAaECagBIQBiteVgDhCoYASEAYoXlcC4giFAkpAGKB4XQmIIxQK/B8C3pWzUO5lWjHVxlbjNsxeQxMaygI0ExJPst6Ax92mcm4PFppKhrkKZV+SS5YUDeUewR93G8ogk1WRt6Svz3E18JPUfnNn8AQ+AEV+WkBcQgngAAAAAElFTkSuQmCC"},dc8d:function(t,e,i){"use strict";i("2428")}}]);