(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e40313e6"],{"2b36":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("div",{staticClass:"approval-box"},[i("div",{staticClass:"path"},[i("ul",[i("el-button",{attrs:{type:"text"},on:{click:function(t){return e.$router.replace({path:"/"})}}},[e._v("首页")]),i("li",{staticStyle:{color:"#7c7f82"}},[e._v(">")]),i("li",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(t){return e.$router.replace({path:"/approveSetting"})}}},[e._v("审批流配置")]),i("li",{staticStyle:{color:"#7c7f82"}},[e._v(">")]),i("li",{staticStyle:{color:"#7c7f82"}},[e._v(e._s(1==this.$route.query.typeM?"编辑":"添加")+"审批步骤")])],1)]),i("div",{staticClass:"approval-title"},[e._v(" "+e._s(1==this.$route.query.typeM?"编辑":"添加")+"审批步骤 ")]),i("div",{staticClass:"approval-body"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"122px"}},[i("el-form-item",{attrs:{label:"审批步骤名称",prop:"name"}},[i("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),i("el-form-item",{attrs:{label:"备注/描述"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),i("el-form-item",{attrs:{label:"审批条件"}},["1"!=e.isDefalt?i("div",{staticStyle:{display:"flex","margin-bottom":"20px"}},[i("div",{staticStyle:{width:"180px","margin-right":"10px"}},[e._v("会议类型")]),i("div",e._l(e.meetingTypes,(function(t){return i("div",{key:t.company_id,staticStyle:{display:"flex"}},[i("p",{staticStyle:{"min-width":"180px"}},[e._v(e._s(t.company_name)+": ")]),i("el-checkbox-group",{model:{value:t.meetingTypeSelect,callback:function(i){e.$set(t,"meetingTypeSelect",i)},expression:"mt.meetingTypeSelect"}},e._l(t.meeting_type,(function(e){return i("el-checkbox",{key:e.meeting_type_id,attrs:{label:e.meeting_type_name}})})),1)],1)})),0)]):e._e(),i("div",{staticStyle:{display:"flex"}},[i("div",{staticStyle:{width:"180px","margin-right":"10px"}},[e._v("服务类型")]),i("div",[i("el-checkbox-group",{model:{value:e.serviceTypeSelect,callback:function(t){e.serviceTypeSelect=t},expression:"serviceTypeSelect"}},e._l(e.serviceTypes,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.name}})})),1)],1)]),i("div",{staticStyle:{display:"flex"}},[i("div",{staticStyle:{width:"180px","margin-right":"10px"}},[e._v("会议城市")]),i("div",[i("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.citySelect,callback:function(t){e.citySelect=t},expression:"citySelect"}},e._l(e.citys,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])]),i("el-form-item",{attrs:{label:"审批人"}},[i("div",{staticStyle:{"margin-left":"100px"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("内部审批")])],1),i("div",[i("el-radio",{staticStyle:{"margin-left":"120px"},attrs:{name:"person",label:"0"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}},[e._v("相关人员")])],1),i("div",{staticStyle:{"margin-left":"140px"}},[i("el-checkbox",{attrs:{label:"会议创建人","true-label":"0032-1"},model:{value:e.meetingCreator,callback:function(t){e.meetingCreator=t},expression:"meetingCreator"}}),i("el-checkbox",{attrs:{label:"会议负责人","true-label":"0032-2"},model:{value:e.meetingOower,callback:function(t){e.meetingOower=t},expression:"meetingOower"}}),i("el-checkbox",{attrs:{label:"会议指定采购","true-label":"0032-3"},model:{value:e.meetingUp,callback:function(t){e.meetingUp=t},expression:"meetingUp"}}),i("el-checkbox",{attrs:{label:"会议指定合规人员","true-label":"0032-4"},model:{value:e.meetingPurchase,callback:function(t){e.meetingPurchase=t},expression:"meetingPurchase"}}),i("el-checkbox",{attrs:{label:"会议助理","true-label":"0032-5"},model:{value:e.meetingPersonnel,callback:function(t){e.meetingPersonnel=t},expression:"meetingPersonnel"}})],1),i("div",{staticStyle:{"margin-left":"120px"}},[i("el-radio",{attrs:{label:"1",name:"person"},model:{value:e.radio1,callback:function(t){e.radio1=t},expression:"radio1"}},[e._v("指定人员")])],1),i("div",{staticStyle:{display:"flex"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:this.namesta,expression:"this.namesta"}],staticClass:"mail_designated_user_list",staticStyle:{"margin-left":"100px"}},[i("span",{attrs:{"data-uid":"9511"}},e._l(this.namesta,(function(t,a){return i("el-tag",{key:a,staticStyle:{"margin-right":"10px"},attrs:{closable:""},on:{close:function(i){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),1)]),i("span",{directives:[{name:"show",rawName:"v-show",value:0==this.namesta.length,expression:"this.namesta.length == 0"}],staticClass:"mail_designated_user_list"},[i("span",{attrs:{"data-uid":"9511"}},[e._v(" 暂无人员 ")])]),i("el-row",[i("el-button",{staticStyle:{padding:"7px 6px","font-size":"7px","margin-left":"50px"},attrs:{type:"primary"},on:{click:e.addList}},[e._v("添加")])],1)],1),i("div",{staticStyle:{"margin-left":"100px"}},[i("el-radio",{attrs:{disabled:""},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" 第三方审批 "),i("span",[e._v("该审批暂不支持第三方审批")])])],1)]),i("el-form-item",{attrs:{label:"审批通知"}},[i("div",{staticStyle:{"margin-left":"100px"}},[i("el-checkbox",{attrs:{label:"给审批人发送短信"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),i("div",{staticStyle:{"margin-left":"100px"}},[i("el-checkbox",{attrs:{label:"给审批人发送邮件"},model:{value:e.mail,callback:function(t){e.mail=t},expression:"mail"}})],1),i("div",{staticStyle:{"margin-left":"100px"}},[i("el-checkbox",{attrs:{label:"给指定人员发送邮件"},model:{value:e.appointMailBit,callback:function(t){e.appointMailBit=t},expression:"appointMailBit"}})],1),i("div",{staticStyle:{display:"flex"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:this.namestae,expression:"this.namestae"}],staticClass:"mail_designated_user_list",staticStyle:{"margin-left":"100px"}},[i("span",{attrs:{"data-uid":"9511"}},e._l(this.namestae,(function(t,a){return i("el-tag",{key:a,staticStyle:{"margin-right":"10px"},attrs:{closable:""},on:{close:function(i){return e.handleClose_two(t)}}},[e._v(" "+e._s(t)+" ")])})),1)]),i("span",{directives:[{name:"show",rawName:"v-show",value:0==this.namestae.length,expression:"this.namestae.length == 0"}],staticClass:"mail_designated_user_list",staticStyle:{"margin-left":"100px"}},[i("span",{attrs:{"data-uid":"9511"}},[e._v(" 暂无人员 ")])]),i("el-row",[i("el-button",{staticStyle:{padding:"7px 6px","font-size":"7px","margin-left":"50px"},attrs:{type:"primary"},on:{click:e.addListTwo}},[e._v("添加")])],1)],1)]),i("el-form-item",{attrs:{label:"供应商催审"}},[i("div",{staticStyle:{"margin-left":"100px"}},[i("el-checkbox",{attrs:{label:"允许供应商催审",name:"type"},model:{value:e.allowExpediting,callback:function(t){e.allowExpediting=t},expression:"allowExpediting"}})],1)]),i("el-form-item",{attrs:{label:"审批超时处理",prop:"type"}},[i("div",{staticStyle:{"margin-left":"100px"}},[i("span",[e._v("超过")]),i("el-input",{staticStyle:{width:"61%","margin-left":"-100px"},attrs:{placeholder:"超过多少小时不审核"},model:{value:e.overtime,callback:function(t){e.overtime=t},expression:"overtime"}}),i("span",{staticClass:"input-right-span"},[e._v("小时不审核，则")])],1),i("div",{staticStyle:{"margin-left":"120px"}},[i("el-checkbox",{attrs:{label:"自动审批通过"},model:{value:e.automaticApproval,callback:function(t){e.automaticApproval=t},expression:"automaticApproval"}})],1),i("div",{staticStyle:{"margin-left":"120px"}},[i("el-checkbox",{attrs:{label:"再次通知审批人（仅一次）"},model:{value:e.onceAgain,callback:function(t){e.onceAgain=t},expression:"onceAgain"}})],1),i("div",{staticStyle:{"margin-left":"120px"}},[i("el-checkbox",{attrs:{label:"通知相关人员"},model:{value:e.noticePersonnel,callback:function(t){e.noticePersonnel=t},expression:"noticePersonnel"}})],1),i("div",{staticStyle:{"margin-left":"140px"}},[i("el-checkbox",{attrs:{label:"会议创建人","true-label":"0033-1"},model:{value:e.meetingCreatored,callback:function(t){e.meetingCreatored=t},expression:"meetingCreatored"}}),i("el-checkbox",{attrs:{label:"会议负责人","true-label":"0033-2"},model:{value:e.meetingOowered,callback:function(t){e.meetingOowered=t},expression:"meetingOowered"}}),i("el-checkbox",{attrs:{label:"会议指定采购","true-label":"0033-3"},model:{value:e.meetingUped,callback:function(t){e.meetingUped=t},expression:"meetingUped"}}),i("el-checkbox",{attrs:{label:"会议指定合规人员","true-label":"0033-4"},model:{value:e.meetingPurchaseed,callback:function(t){e.meetingPurchaseed=t},expression:"meetingPurchaseed"}}),i("el-checkbox",{attrs:{label:"会议助理","true-label":"0033-5"},model:{value:e.meetingPersonneled,callback:function(t){e.meetingPersonneled=t},expression:"meetingPersonneled"}})],1),i("div",{staticStyle:{"margin-left":"120px"}},[i("el-checkbox",{attrs:{label:"指定人员"},model:{value:e.designee,callback:function(t){e.designee=t},expression:"designee"}})],1),i("div",{staticStyle:{display:"flex"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:this.namestaed,expression:"this.namestaed"}],staticClass:"mail_designated_user_list",staticStyle:{"margin-left":"100px"}},[i("span",{attrs:{"data-uid":"9511"}},e._l(this.namestaed,(function(t,a){return i("el-tag",{key:a,staticStyle:{"margin-right":"10px"},attrs:{closable:""},on:{close:function(i){return e.handleClose_three(t)}}},[e._v(" "+e._s(t)+" ")])})),1)]),i("span",{directives:[{name:"show",rawName:"v-show",value:0==this.namestaed.length,expression:"this.namestaed.length == 0"}],staticClass:"mail_designated_user_list",staticStyle:{"margin-left":"100px"}},[i("span",{attrs:{"data-uid":"9511"}},[e._v(" 暂无人员 ")])]),i("el-row",[i("el-button",{staticStyle:{padding:"7px 6px","font-size":"7px","margin-left":"50px"},attrs:{type:"primary"},on:{click:e.addListThree}},[e._v("添加")])],1)],1)]),i("el-dialog",{attrs:{title:"查找指定人员",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.getUserValue,callback:function(t){e.getUserValue=t},expression:"getUserValue"}},e._l(e.getUserList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.fullname,value:e.username}})})),1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.addcitys}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"查找指定人员",visible:e.dialogVisibleThree,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleThree=t}}},[i("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.getUserValueThree,callback:function(t){e.getUserValueThree=t},expression:"getUserValueThree"}},e._l(e.getUserList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.fullname,value:e.username}})})),1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisibleThree=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.pushlisted}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"查找指定人员",visible:e.dialogVisibleTwo,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleTwo=t}}},[i("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.getUserValueTwo,callback:function(t){e.getUserValueTwo=t},expression:"getUserValueTwo"}},e._l(e.getUserList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.fullname,value:e.username}})})),1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisibleTwo=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.dislist}},[e._v("确 定")])],1)],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")]),i("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1),i("el-button",{attrs:{type:"text"},on:{click:function(t){e.complianceMeal=!0}}}),i("el-dialog",{attrs:{title:"添加/编辑条件",visible:e.complianceMeal,width:"50%",center:""},on:{"update:visible":function(t){e.complianceMeal=t}}},[e._l(e.emptyArr,(function(t,a){return i("div",{key:a},[i("span",[e._v(e._s(0===a?"if":"and"))]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.department,expression:"department"}],staticClass:"approval-select condition-var",staticStyle:{width:"150px"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.department=t.target.multiple?i:i[0]},e.change]}},[i("option",{attrs:{value:"会议部门"}},[e._v("会议部门")]),i("option",{attrs:{value:"会议类型"}},[e._v("会议类型")]),i("option",{attrs:{value:"旅行社陪同人员"}},[e._v("旅行社陪同人员")]),i("option",{attrs:{value:"会议总预算"}},[e._v("会议总预算")]),i("option",{attrs:{value:"会议开始日期"}},[e._v("会议开始日期")]),i("option",{attrs:{value:"结算金额"}},[e._v("结算金额")])]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.Right,expression:"Right"}],staticClass:"approval-select condition-operator",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.Right=t.target.multiple?i:i[0]},e.change]}},[i("option",{attrs:{value:"是"}},[e._v("是")]),i("option",{attrs:{value:"不是"}},[e._v("不是")])]),i("select",{directives:[{name:"show",rawName:"v-show",value:e.size,expression:"size"},{name:"model",rawName:"v-model",value:e.sizeindex,expression:"sizeindex"}],staticClass:"approval-select condition-operator",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sizeindex=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"min"}},[e._v("小于")]),i("option",{attrs:{value:"max"}},[e._v("大于等于")])]),i("input",{directives:[{name:"show",rawName:"v-show",value:e.operator,expression:"operator"}],staticStyle:{height:"33px",border:"1px solid #dedfe6"},attrs:{type:"text",name:"",id:"",placeholder:"请输入内容"}}),i("a",{staticClass:"approval-a multi",on:{click:e.elect}},[e._v("选择")]),i("a",{staticClass:"approval-empty del",on:{click:function(t){return e.del(a)}}},[e._v("删除")])])})),i("span",{staticClass:"addevent",on:{click:e.addCondition}},[e._v("添加条件")]),i("div",{staticClass:"thread"}),i("div",{staticClass:"text"},[i("p",{staticStyle:{"margin-top":"10px"}},[e._v("条件预览")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.condition,expression:"condition"}],staticClass:"frame",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:e.condition},on:{input:function(t){t.target.composing||(e.condition=t.target.value)}}})]),i("span"),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.complianceMeal=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],2),i("el-dialog",{attrs:{title:"查找指定人员",visible:e.mataddialogVisible,width:"40%"},on:{"update:visible":function(t){e.mataddialogVisible=t}}},[i("div",{staticClass:"comlist"},[i("el-checkbox",{attrs:{"true-label":"HZ_外部会-多项服务"},model:{value:e.check,callback:function(t){e.check=t},expression:"check"}},[e._v("HZ_外部会-多项服务")]),i("el-checkbox",{attrs:{"true-label":"LY_外部会-单项服务"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("LY_外部会-单项服务")])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.mataddialogVisible=!1,e.complianceMeal=!0}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.visible}},[e._v("确 定")])],1)])],1)])},l=[],s=i("ade3"),n=(i("ac1f"),i("1276"),i("b0c0"),i("d3b7"),i("159b"),i("a434"),i("d81d"),i("99af"),i("25f0"),i("4de4"),i("e9c4"),i("a15b"),{data:function(){var e;return e={id:"",type:"",meetingTypes:[],serviceTypeSelect:[],serviceTypes:[],citys:[],citySelect:[],mataddialogVisible:!1,dialogVisible:!1,size:!1,sizeindex:"min",operator:!1,complianceMeal:!1,overtime:"",radio:"1",radio1:"0",radio3:1,notice_relevant_personnel_bit:0,ruleForm:{name:"",type:[],desc:"",checkType:[]},rules:{name:[{required:!0,message:"请输入审批步骤名称",trigger:"blur"}]},value:"",approval:{},isDefalt:"",personArr:[],message:1,mail:1,allowExpediting:1,appointMailBit:1,automaticApproval:1,onceAgain:1,noticePersonnel:1,designee:1,department:"会议部门",condition:"",Right:"是",emptyArr:[{name:0,value:1}],imei:"",imeiMaskShow:!1,cameraShow:!1,brand:null},Object(s["a"])(e,"type",null),Object(s["a"])(e,"name",null),Object(s["a"])(e,"ram",null),Object(s["a"])(e,"color",null),Object(s["a"])(e,"error",null),Object(s["a"])(e,"submitFlag",!0),Object(s["a"])(e,"approvalAreaConditions",""),Object(s["a"])(e,"area",!1),Object(s["a"])(e,"check",""),Object(s["a"])(e,"checked",""),Object(s["a"])(e,"getUserList",[]),Object(s["a"])(e,"getUserValue",""),Object(s["a"])(e,"meetingCreator",""),Object(s["a"])(e,"meetingOower",""),Object(s["a"])(e,"meetingUp",""),Object(s["a"])(e,"meetingPurchase",""),Object(s["a"])(e,"meetingPersonnel",""),Object(s["a"])(e,"meetingSettlement",""),Object(s["a"])(e,"meetingCreatored",""),Object(s["a"])(e,"meetingOowered",""),Object(s["a"])(e,"meetingUped",""),Object(s["a"])(e,"meetingPurchaseed",""),Object(s["a"])(e,"meetingPersonneled",""),Object(s["a"])(e,"dialogVisibleTwo",!1),Object(s["a"])(e,"dialogVisibleThree",!1),Object(s["a"])(e,"getUserValueTwo",""),Object(s["a"])(e,"getUserValueThree",""),Object(s["a"])(e,"namestaed",[]),Object(s["a"])(e,"namestae",[]),Object(s["a"])(e,"namesta",[]),e},mounted:function(){var e=this;if(this.id=this.$route.query.id,this.type=this.$route.query.type,this.isDefalt=this.$route.query.isDefalt,this.getUser(),this.$route.query.approval){this.approval=JSON.parse(this.$route.query.approval),this.citySelect=this.approval.city_code?this.approval.city_code.split(","):[];var t=this.approval.relevant_personnel.split(","),i=this.approval.notice_relevant_personnel.split(",");this.ruleForm.name=this.approval.approve_name,this.ruleForm.desc=this.approval.remarks,this.radio1=this.approval.relevant_personnel_bit+"",this.message=!this.approval.short_message,this.mail=!this.approval.mail,this.overtime=this.approval.overtime,this.allowExpediting=!this.approval.service_urge,this.appointMailBit=!this.approval.appoint_mail_bit,this.automaticApproval=!this.approval.adopt,this.onceAgain=!this.approval.notify_approver_again,this.noticePersonnel=!this.approval.notice_relevant_personnel_bit,this.designee=!this.approval.notice_designated_personnel_bit,this.approval.designated_personnel&&(this.namesta=this.approval.designated_personnel.split(","),console.log(this.namesta)),this.approval.appoint_mail&&(this.namestae=this.approval.appoint_mail.split(","),console.log(this.namestae)),this.approval.notice_designated_personnel&&(this.namestaed=this.approval.notice_designated_personnel.split(","),console.log(this.namestaed)),t.forEach((function(t){"0032-1"==t?e.meetingCreator=t:"0032-2"==t?e.meetingOower=t:"0032-3"==t?e.meetingUp=t:"0032-4"==t?e.meetingPurchase=t:"0032-5"==t&&(e.meetingPersonnel=t)})),i.forEach((function(t){"0033-1"==t?e.meetingCreatored=t:"0033-2"==t?e.meetingOowered=t:"0033-3"==t?e.meetingUped=t:"0033-4"==t?e.meetingPurchaseed=t:"0033-5"==t&&(e.meetingPersonneled=t)}))}this.getProvinceCity(),this.approvaMeetingType(),this.getServiceType()},methods:{handleClose:function(e){this.namesta.splice(this.namesta.indexOf(e),1)},handleClose_two:function(e){this.namestae.splice(this.namestae.indexOf(e),1)},handleClose_three:function(e){this.namestaed.splice(this.namestaed.indexOf(e),1)},getProvinceCity:function(){var e=this;this.$api.ProvinceCity({},"POST").then((function(t){e.citys=t.map((function(e){return e.label=e.name,e.value=e.code,e}))}))},approvaMeetingType:function(){var e=this;this.$api.ApprovaMeetingType({id:this.id},"POST").then((function(t){e.meetingTypes=t.map((function(t){if(t.meetingTypeSelect=[],e.approval.meeting_type)for(var i=function(i){var a=e.approval.meeting_type[i];a.company_id==t.company_id&&(t.meetingTypeSelect=[],t.meeting_type.forEach((function(e){a.meeting_type_list.forEach((function(i){e.meeting_type_id==i.meeting_type_id&&t.meetingTypeSelect.push(e.meeting_type_name)}))})))},a=0;a<e.approval.meeting_type.length;a++)i(a);return t}))}))},getServiceType:function(){var e=this;this.$api.getServiceType({},"POST").then((function(t){e.serviceTypes=t;var i=[];if(e.approval.service_type)for(var a=0;a<e.approval.service_type.length;a++)for(var l=e.approval.service_type[a],s=0;s<e.serviceTypes.length;s++)e.serviceTypes[s].id==l.service_type_id&&i.push(e.serviceTypes[s].name);e.serviceTypeSelect=i}))},addListThree:function(){this.dialogVisibleThree=!0},addListTwo:function(){this.dialogVisibleTwo=!0},visible:function(){this.mataddialogVisible=!1,this.complianceMeal=!0,this.change()},getUser:function(){var e=this;this.$api.GetUser({},"POST").then((function(t){e.getUserList=t}))},cancel:function(){"1"==this.type&&this.$router.push({name:"settlementSheet",query:{id:this.id,type:this.type}}),"2"==this.type&&this.$router.push({name:"outbid",query:{id:this.id,type:this.type}})},dislist:function(){this.dialogVisibleTwo=!1,this.namestae.push(this.getUserValueTwo)},change:function(){this.condition="if".concat("  ",this.department,"  ").concat(this.Right," ").concat(this.check," ").concat(this.checked)},addcitys:function(){this.dialogVisible=!1,this.namesta.push(this.getUserValue)},findMeetingId:function(e,t){for(var i=0;i<e.length;i++)if(t==e[i].meeting_type_name)return e[i].meeting_type_id},submitForm:function(){for(var e=this,t=[],i=0;i<this.serviceTypeSelect.length;i++)for(var a=0;a<this.serviceTypes.length;a++)this.serviceTypes[a].name==this.serviceTypeSelect[i]&&t.push({id:"",service_type_id:this.serviceTypes[a].id});for(var l=[],s=0;s<this.meetingTypes.length;s++){var n=this.meetingTypes[s],o=this.meetingTypes[s].meetingTypeSelect,r=n.meeting_type,c=[];if(o&&o.length)for(var p=0;p<o.length;p++){var d=this.findMeetingId(r,o[p]);d&&c.push({id:"",meeting_type_id:d})}l.push({company_id:n.company_id,meeting_type_list:c})}if(""!==this.ruleForm.name){var m="";this.namesta&&(m=this.namesta.toString(),console.log(m));var u=[m,this.meetingCreator,this.meetingOower,this.meetingUp,this.meetingPurchase,this.meetingPersonnel,this.meetingSettlement],h=[this.meetingCreatored,this.meetingOowered,this.meetingUped,this.meetingPurchaseed,this.meetingPersonneled];u=u.filter((function(e){return null!==e&&void 0!==e?e:""})),h=h.filter((function(e){return null!==e&&void 0!==e?e:""})),u.every((function(e){return""==e}))&&""==this.getUserValue?this.$message("请选择相关人员或者请填写指定人员"):this.$api.save({Parameter:JSON.stringify({id:this.approval.id||"",approval_id:this.id,city_code:this.citySelect.join(","),service_type:t,meeting_type:l,approve_name:this.ruleForm.name,remarks:this.ruleForm.desc,relevant_personnel_bit:0==this.radio1?0:1,relevant_personnel:u.join(","),designated_personnel_bit:1==this.radio1?0:1,designated_personnel:m,multi_level_approval_bit:"1",multi_level_approval:"1",short_message:!0===this.message?0:1,mail:!0===this.mail?0:1,appoint_mail_bit:!0===this.appointMailBit?0:1,appoint_mail:this.namestae.join(","),overtime:this.overtime,service_urge:!0===this.allowExpediting?0:1,adopt:!0===this.automaticApproval?0:1,notify_approver_again:!0===this.onceAgain?0:1,notice_relevant_personnel_bit:!0===this.noticePersonnel?0:1,notice_relevant_personnel:h.join(","),notice_designated_personnel_bit:!0===this.designee?0:1,notice_designated_personnel:this.namestaed.join(","),type:this.$route.query.type})},"POST").then((function(t){!0===t&&1==e.$route.query.type&&e.$router.push({name:"settlementSheet",query:{id:e.id,type:e.type}}),2==e.$route.query.type&&e.$router.push({name:"outbid",query:{id:e.id,type:e.type}})}))}else this.$message("请输入审批步骤名称")},pushlisted:function(){this.dialogVisibleThree=!1,this.namestaed.push(this.getUserValueThree)},resetForm:function(e){this.$refs[e].resetFields()},addList:function(){this.dialogVisible=!0},elect:function(){this.complianceMeal=!1,this.mataddialogVisible=!0},addCondition:function(){this.emptyArr.push({name:2,value:1})},del:function(e){this.emptyArr.splice(e,1)},submit:function(){this.complianceMeal=!1,this.approvalAreaConditions=this.condition,this.approvalAreaConditions&&(this.area=!0)}}}),o=n,r=(i("985c"),i("2877")),c=Object(r["a"])(o,a,l,!1,null,null,null);t["default"]=c.exports},"33a2":function(e,t,i){},"985c":function(e,t,i){"use strict";i("33a2")},a434:function(e,t,i){"use strict";var a=i("23e7"),l=i("da84"),s=i("23cb"),n=i("5926"),o=i("07fa"),r=i("7b0b"),c=i("65f0"),p=i("8418"),d=i("1dde"),m=d("splice"),u=l.TypeError,h=Math.max,v=Math.min,g=9007199254740991,f="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m},{splice:function(e,t){var i,a,l,d,m,b,y=r(this),_=o(y),x=s(e,_),k=arguments.length;if(0===k?i=a=0:1===k?(i=0,a=_-x):(i=k-2,a=v(h(n(t),0),_-x)),_+i-a>g)throw u(f);for(l=c(y,a),d=0;d<a;d++)m=x+d,m in y&&p(l,d,y[m]);if(l.length=a,i<a){for(d=x;d<_-a;d++)m=d+a,b=d+i,m in y?y[b]=y[m]:delete y[b];for(d=_;d>_-a+i;d--)delete y[d-1]}else if(i>a)for(d=_-a;d>x;d--)m=d+a-1,b=d+i-1,m in y?y[b]=y[m]:delete y[b];for(d=0;d<i;d++)y[d+x]=arguments[d+2];return y.length=_-a+i,l}})},d81d:function(e,t,i){"use strict";var a=i("23e7"),l=i("b727").map,s=i("1dde"),n=s("map");a({target:"Array",proto:!0,forced:!n},{map:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);