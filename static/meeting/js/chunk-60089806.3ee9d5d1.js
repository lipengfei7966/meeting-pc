(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60089806"],{"04d1":function(e,t,i){var a=i("342f"),s=a.match(/firefox\/(\d+)/i);e.exports=!!s&&+s[1]},"0b8c":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.info?a("div",{staticClass:"ServiceProviderProcurement"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("联系方式")]),e._v(" Contact Information ")]),a("el-row",{attrs:{align:"middle"}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[e._v("公司：")]),a("p",{staticClass:"value"},[e._v(e._s(e.compositeName))])])]),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content grid-content-border bg-purple"},[a("p",{staticClass:"title"},[e._v("联系人：")]),a("p",{staticClass:"value"},[e._v(e._s(e.purchase_contracts))])])]),a("el-col",{attrs:{offset:1,span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[e._v("手机：")]),a("p",{staticClass:"value"},[e._v(e._s(e.purchase_phone))])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[e._v("邮箱：")]),a("p",{staticClass:"value"},[e._v(e._s(e.purchase_email))])])]),a("el-col",{attrs:{span:1,push:2}},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.editContent()}}},[e._v("编辑")]),a("el-dialog",{attrs:{title:"修改当前询价单联系方式(不更新用户信息)",visible:e.isOpen,width:"600px"},on:{"update:visible":function(t){e.isOpen=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"对外显示公司名",prop:"companyName"}},[a("el-checkbox-group",{on:{change:e.change},model:{value:e.ruleForm.companyName,callback:function(t){e.$set(e.ruleForm,"companyName",t)},expression:"ruleForm.companyName"}},[a("el-checkbox",{attrs:{label:e.purchase_department}}),a("el-checkbox",{attrs:{label:e.company_name}})],1)],1),a("el-form-item",{attrs:{label:"联系人",prop:"purchase_contracts"}},[a("el-input",{model:{value:e.ruleForm.purchase_contracts,callback:function(t){e.$set(e.ruleForm,"purchase_contracts",t)},expression:"ruleForm.purchase_contracts"}})],1),a("el-form-item",{attrs:{label:"手机",prop:"purchase_phone"}},[a("el-input",{model:{value:e.ruleForm.purchase_phone,callback:function(t){e.$set(e.ruleForm,"purchase_phone",t)},expression:"ruleForm.purchase_phone"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"purchase_email"}},[a("el-input",{model:{value:e.ruleForm.purchase_email,callback:function(t){e.$set(e.ruleForm,"purchase_email",t)},expression:"ruleForm.purchase_email"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isOpen=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editSubmit()}}},[e._v("修 改")])],1)],1)],1)],1),a("el-row",[a("el-col",[a("span",[e._v("发送酒店/供应商报价、结算邮件是否抄送询价人：")]),a("el-radio-group",{model:{value:e.info.isCC,callback:function(t){e.$set(e.info,"isCC",t)},expression:"info.isCC"}},[a("el-radio",{attrs:{label:!0}},[e._v("抄送询价人")]),a("el-radio",{attrs:{label:!1}},[e._v("不抄送询价人")])],1)],1)],1)],1),2==this.type||3==this.type?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("系统将会发询价单给以下会议服务商")]),e._v(" The RFP will be sent to following properties ")]),a("div",{staticClass:"context hotelSelected"},[a("div",{staticClass:"list"},e._l(e.info.selectserviceprovider,(function(t,i){return a("div",{key:t.id,staticClass:"item"},[t.supplier_type&&0==t.supplier_type?a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%"}},[a("p",{staticStyle:{color:"#409EFF"}},[e._v(e._s(t.company_name))]),a("p",{staticStyle:{"font-size":"12px",color:"#666"}},[e._v("车队供应商")])]),a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%"}},[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer",display:"inline-block","margin-top":"10px"},on:{click:function(a){return e.handeladd(t,i)}}},[e._v("添加供应商销售")]),a("span",{staticStyle:{color:"#409EFF",cursor:"pointer",display:"inline-block","margin-top":"10px"},on:{click:function(a){return e.handelLook(t,i)}}},[e._v("需求参考价")]),a("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer",float:"right"},on:{click:function(i){return e.removeserviceprovider(t)}}})]),a("div",{staticClass:"car-list"},[e._v("供应商默认接单人："),a("span",[e._v(e._s(t.name?t.name:"未选择"))]),a("span",{staticStyle:{color:"#409EFF",cursor:"pointer","margin-left":"20px"},on:{click:function(a){return e.handelEdit(t,i)}}},[e._v("修改")])])]):e._e(),null==t.supplier_type?a("div",{staticStyle:{height:"88px"}},[a("div",{staticStyle:{"margin-bottom":"10px",display:"flex","justify-content":"right","align-items":"center",width:"100%"}},[a("p",{staticStyle:{"font-size":"12px",color:"#666"}},[e._v("DMC供应商")])]),a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%"}},[a("p",{staticStyle:{color:"#409EFF"}},[e._v(e._s(t.company_name))]),a("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer",float:"right"},on:{click:function(i){return e.removeserviceprovider(t)}}})])]):e._e()])})),0),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.addaddService}},[e._v("添加服务商")])],1)]):e._e(),1==this.type?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("系统将会发询价单给以下酒店（场地）销售主管")]),e._v(" The RFP will be sent to following properties ")]),a("div",{staticClass:"context hotelSelected"},[a("div",{staticClass:"list"},e._l(e.info.selecthotel,(function(t,i){return a("div",{key:t.id,staticClass:"item item-hotel"},[a("div",{staticClass:"name"},[e._v(e._s(t.hotelname))]),null!=t.receptionist.id?a("div",{staticClass:"role role-update"},[a("span",{staticClass:"block-span"},[e._v(" 酒店默认接单人: "+e._s(t.receptionist.contacts)+" "),a("span",{staticClass:"update-span",on:{click:function(a){e.update_market=!0,e.update_GSO=!1,e.shade_market_order=!0,e.openRadioData(t.receptionistList,t.hotelid,i)}}},[e._v(" 修改> ")])])]):e._e(),null!=t.receptionist.id?a("div",{staticClass:"role role-update"},[a("span",{staticClass:"block-span"},[e._v("酒店抄送（GSO）: "+e._s(t.contactsGSO)+" "),a("span",{staticClass:"update-span",on:{click:function(a){e.update_market=!0,e.shade_market_order=!0,e.update_GSO=!0,e.openRadioData(t.receptionistList_,t.hotelid,i)}}},[e._v(" 修改> ")])])]):a("div",{staticClass:"role role-update"},[a("span",{staticClass:"update-span",on:{click:function(a){e.update_market=!0,e.shade_market_order=!0,e.update_GSO=!1,e.openRadioData(t.receptionistList,t.hotelid,i)}}},[e._v(" 添加酒店接单人 ")])]),e.info.selecthotel.length-1?a("el-tag",{class:null!=t.receptionist.id?"gso-del":"el-tag-hotel-del",attrs:{closable:""},on:{close:function(i){return e.removehotel(t)}}}):e._e()],1)})),0),a("div",{staticClass:"hoteBtn"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.addHotel}},[e._v("添加采购酒店")])],1)]),e.shade_market_order?a("div",{staticClass:"shade"}):e._e(),e.shade_hint?a("div",{staticClass:"shade-top"}):e._e(),e.update_market||e.update_order?a("div",{staticClass:"market"},[a("div",{staticClass:"market-child"},[a("div",{staticClass:"market-child-div"},[e.update_GSO?a("span",[e._v(" 酒店抄送（GSO） ")]):a("span",[e._v(" 酒店接单人 ")])]),a("div",{staticClass:"market-child-second"},[e.update_GSO?a("span",[e._v(" 选择酒店抄送（GSO）后，此人将会来处理该订单 ")]):a("span",[e._v(" 选择酒店接单人后，此人将会来处理该订单 ")])])]),a("div",{staticClass:"market-table"},[e.update_GSO?a("div",[a("div",{staticClass:"header"},[e.update_market?a("div",{staticClass:"header-f"},[e._v(" 共 "),a("span",{staticClass:"header-f-span"},[e._v(e._s(e.tableGsoData.length))]),e._v(" 位酒店抄送（GSO） ")]):a("div",{staticClass:"header-f"},[e._v(" 共 "),a("span",{staticClass:"header-f-span"},[e._v(e._s(e.orderData.length))]),e._v(" 位酒店抄送（GSO）可供选择 ")]),e.update_market?a("div",{staticClass:"header-s",on:{click:function(t){e.insert_contact=!0,e.update_market=!1}}},[e._v(" 新增联系人 ")]):e._e()]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.update_market?e.tableGsoData:e.orderData,height:"170","show-header":!1},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"",width:"50",type:"selection"}}),a("el-table-column",{attrs:{prop:"name",width:"120"}}),a("el-table-column",{attrs:{prop:"phone",width:"130"}}),a("el-table-column",{attrs:{prop:"email",width:"180"}}),a("el-table-column",{attrs:{prop:"modifier",width:"180"}}),e.update_market?a("el-table-column",{attrs:{width:"250"}}):e._e()],1)],1):a("div",[a("div",{staticClass:"header"},[e.update_market?a("div",{staticClass:"header-f"},[e._v(" 共 "),a("span",{staticClass:"header-f-span"},[e._v(e._s(e.tableData.length))]),e._v(" 位酒店接单人 ")]):a("div",{staticClass:"header-f"},[e._v(" 共 "),a("span",{staticClass:"header-f-span"},[e._v(e._s(e.orderData.length))]),e._v(" 位酒店接单人可供选择 ")]),e.update_market?a("div",{staticClass:"header-s",on:{click:function(t){e.insert_contact=!0,e.update_market=!1}}},[e._v(" 新增联系人 ")]):e._e()]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.update_market?e.tableData:e.orderData,height:"170","show-header":!1}},[a("el-table-column",{attrs:{label:"",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.update_market?a("el-radio",{attrs:{label:e.info.selecthotel[e.hotelindex].receptionist.id},nativeOn:{click:function(i){return i.preventDefault(),e.onRadioChange(t.$index+1,t.row)}},model:{value:t.row.id,callback:function(i){e.$set(t.row,"id",i)},expression:"scope.row.id"}},[e._v(" "+e._s(e.hidden)+" ")]):e._e()]}}],null,!1,1112791130)}),a("el-table-column",{attrs:{prop:"contacts",width:"120"}}),a("el-table-column",{attrs:{prop:"telephone",width:"130"}}),a("el-table-column",{attrs:{prop:"email",width:"180"}}),a("el-table-column",{attrs:{prop:"remarks",width:"180"}}),e.update_market?a("el-table-column",{attrs:{width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return 0==e.update_GSO?[a("div",[a("span",{staticClass:"table-update",on:{click:function(i){e.update_contact=!0,e.update_market=!1,e.update(t.$index,t.row)}}},[e._v("修改")]),a("span",{staticClass:"table-cen"},[e._v("|")]),a("span",{staticClass:"table-delete",on:{click:function(i){e.delete_contact=!0,e.shade_hint=!0,e.delete_table(t.$index,t.row.id)}}},[e._v("删除")]),t.row.isdefault?a("span",{staticClass:"table-default"},[e._v("默认联系人")]):a("span",{staticClass:"table-default set-default",on:{click:function(i){e.set_default=!0,e.shade_hint=!0,e.setDefault(t.$index+1,t.row)}}},[e._v(" 设为默认联系人 ")])])]:void 0}}],null,!0)}):e._e()],1)],1),a("div",{staticClass:"foot"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.update_market=!1,e.shade_market_order=!1,e.update_order=!1}}},[e._v("确定")])],1)])]):e._e(),e.update_contact||e.insert_contact?a("div",{staticClass:"contact"},[a("div",{staticClass:"contact-header"},[e.update_GSO?a("span",[e._v(" "+e._s(e.insert_contact?"新增酒店抄送（GSO）":"编辑酒店抄送（GSO）")+" ")]):a("span",[e._v(" "+e._s(e.insert_contact?"新增酒店接单人":"编辑酒店接单人")+" ")])]),a("div",{staticClass:"contact-form"},[a("el-form",{attrs:{model:e.form,"label-position":"right","label-width":"90px"}},[e.update_GSO?a("el-form-item",{attrs:{label:"GSO姓名:",prop:"name"}},[a("el-input",{model:{value:e.form.contactsGSO,callback:function(t){e.$set(e.form,"contactsGSO",t)},expression:"form.contactsGSO"}})],1):a("el-form-item",{attrs:{label:"RSO姓名:",prop:"name"}},[a("el-input",{model:{value:e.form.contacts,callback:function(t){e.$set(e.form,"contacts",t)},expression:"form.contacts"}})],1),a("el-form-item",{attrs:{label:"手机号:",prop:"phone"}},[a("el-input",{model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),a("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{label:"备注:",prop:"remarks"}},[a("el-input",{model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),a("el-form-item",{attrs:{"label-width":"0px"}},[a("el-button",{staticClass:"form-btn",attrs:{type:"info"},on:{click:function(t){e.update_contact=!1,e.insert_contact=!1,e.update_market=!0,e.form={name:"",phone:"",email:"",remarks:""}}}},[e._v(" 取消 ")]),a("el-button",{staticClass:"form-btn",attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("确定")])],1)],1)],1)]):e._e(),e.hint||e.delete_contact||e.set_default?a("div",{staticClass:"hint-div"},[a("div",{staticClass:"hint-header"},[e._v("提示")]),a("div",{staticClass:"hint-msg"},[a("div",{staticClass:"msg"},[e._v(e._s(e.msg))]),e.delete_contact||e.set_default?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.shade_hint=!1,e.hint=!1,e.delete_contact=!1,e.set_default=!1}}},[e._v(" 取消 ")]):e._e(),e.delete_contact?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.shade_hint=!1,e.hint=!1,e.delete_contact=!1,e.delete_contact_hint()}}},[e._v("确定")]):e._e(),e.set_default?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.shade_hint=!1,e.hint=!1,e.delete_contact=!1,e.set_default=!1,e.setDefaultSure()}}},[e._v(" 确定 ")]):e._e(),e.set_default||e.delete_contact?e._e():a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.shade_hint=!1,e.hint=!1,e.delete_contact=!1}}},[e._v("确定")])],1)]):e._e()]):e._e(),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix clearfix-unfold",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("会议基本信息")]),e._v(" Event Profiles "),e.isUnfold?a("img",{attrs:{src:i("d991"),width:"20px",height:"20px",alt:""},on:{click:function(t){e.isUnfold=!e.isUnfold}}}):a("img",{attrs:{src:i("b93d"),width:"20px",height:"20px",alt:""},on:{click:function(t){e.isUnfold=!e.isUnfold}}}),a("span",{staticClass:"unfold-span",on:{click:function(t){e.isUnfold=!e.isUnfold}}},[e._v(e._s(e.isUnfold?"收起":"展开"))])]),e.isUnfold?a("div",{staticClass:"context info"},[a("div",{staticClass:"item"},[a("label",[e._v("会议名称Event Name：")]),e._v(" "+e._s(e.info.event_name)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("建团类型：")]),e._v(" "+e._s(e.info.tourist_group_type)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("活动类型Event Type：")]),e._v(" "+e._s(e.info.activity_type_name)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("Cvent号：")]),e._v(" "+e._s(e.info.cvent_no)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("客户Consumer：")]),e._v(" "+e._s(e.info.company_name)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("团电脑号Team No.：")]),e._v(" "+e._s(e.info.tourist_group_no)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("服务类型Service Type：")]),e._v(" "+e._s(e.info.service_type_name)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("会议城市City：")]),e._v(" "+e._s(e.info.event_cityname)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("餐标限制Food Limit：")]),e._v(" "+e._s(e.info.food_limit)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("参会人数Attendee NO.：")]),e._v(" "+e._s(e.info.attendee_no)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("会议开始日期Start Date：")]),e._v(" "+e._s(e._f("date_day")(e.info.event_startdate))+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("会议结束日期End Date：")]),e._v(" "+e._s(e._f("date_day")(e.info.event_enddate))+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("PR ：")]),e._v(" "+e._s(e.info.pr)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("会议总预算Total Budget：")]),e._v(" "+e._s(e.info.total_budget)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("会议IDEvent ID：")]),e._v(" "+e._s(e.info.event_num)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("会议创建人Submitor：")]),e._v(" "+e._s(e.info.createuser_contracts)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("客户联系人Event Owner：")]),e._v(" "+e._s(e.info.customer_contacts)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("客户所属部门Owner's Department：")]),e._v(" "+e._s(e.info.customer_department)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("客户联系电话Owner's Phone NO.：")]),e._v(" "+e._s(e.info.customer_phone)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("客户邮箱Owner's E-mail：")]),e._v(" "+e._s(e.info.customer_email)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("发票类型Invoice Type：")]),e._v(" "+e._s(e.info.invoice_type)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("是否办理免税：")]),e._v(" "+e._s(e.info.is_duty_free)+" ")]),a("div",{staticClass:"item"},[a("label",[e._v("创建时间Create Date：")]),e._v(" "+e._s(e.info.create_date)+" ")]),a("div",{staticClass:"item",staticStyle:{display:"flex"}},[a("label",[e._v("附件：")]),a("div",e._l(e.info.document_attachments_file_name_list,(function(t,i){return a("p",{key:i},[a("span",{staticStyle:{cursor:"pointer",color:"#4ea9f0",margin:"0 10px"},on:{click:function(t){return e.downloadFile(i)}}},[e._v(" "+e._s(t)+" ")])])})),0),e._v(" "+e._s(e.info.customer_data)+" ")])]):e._e()]),e.documentVisible(e.info.requirements_room,1)?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("客房需求")]),e._v(" Guest Rooms ")]),a("div",{staticClass:"context rooms"},[a("div",{staticClass:"category_tools"},[e._v(" 入住起始日期 Check-in Date："+e._s(e._f("date_day")(e.info.requirements_room.startdate))+" "+e._s(1==e.info.requirements_room.broadband_required?"需要有宽带":"不需要宽带")+" "+e._s(1==e.info.requirements_room.breakfast_required?"需要含早餐":"不需要早餐")+" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFlag,expression:"!isFlag"}],staticClass:"category_tools_buttons"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.room_selectallordeselectall(!0)}}},[e._v("全选采购")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.room_selectallordeselectall(!1)}}},[e._v("全选不采购")])],1)]),a("table",[a("thead",[a("tr",{staticClass:"color_2"},[a("th",{attrs:{width:"110"}},[e._v("日期")]),a("th",[e._v("双床房")]),a("th",[e._v("大床房")]),a("th",[e._v("行政房/套房")]),a("th",[e._v("总计")]),a("th",[e._v("其它要求")]),a("th",{attrs:{width:"150"}},[e._v("是否采购")])])]),e._l(e.info.requirements_room.list,(function(t){return a("tbody",{key:t.id},[a("tr",[a("td",[e._v(e._s(e._f("date_day")(t.check_in_date)))]),a("td",[e._v(e._s(t.twin_bed_count))]),a("td",[e._v(e._s(t.king_bed_count))]),a("td",[e._v(e._s(t.superior_room_count))]),a("td",[e._v(e._s(t.total))]),a("td",[e._v(e._s(t.other_requirements))]),a("td",[a("el-radio-group",{staticClass:"radiogroup",attrs:{disabled:e.isFlag},model:{value:t._checked,callback:function(i){e.$set(t,"_checked",i)},expression:"item._checked"}},[a("el-radio",{attrs:{label:!0}},[e._v("采购")]),a("el-radio",{attrs:{label:!1}},[e._v("不采购")])],1)],1)])])}))],2)])]):e._e(),e.documentVisible(e.info.requirements_conference,2)?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix category_tools",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("会场需求")]),e._v(" Conference Rooms "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFlag,expression:"!isFlag"}],staticClass:"category_tools_buttons"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.conference_selectallordeselectall(!0)}}},[e._v("全选采购")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.conference_selectallordeselectall(!1)}}},[e._v("全选不采购")])],1)]),a("div",{staticClass:"context Conference"},e._l(e.info.requirements_conference,(function(t){return a("table",{key:t.id},[a("thead",[a("tr",{staticClass:"color_2"},[a("th",{staticStyle:{"text-align":"left"},attrs:{width:"230"}},[e._v(" "+e._s(e._f("date_day")(t.date))+" ")]),a("th"),a("th",{attrs:{width:"150"}},[e._v("是否采购")])])]),e._l(t.list,(function(t){return a("tbody",{key:t.id},[a("tr",[a("td",[e._v(" "+e._s(t.item)+" "),a("br"),e._v(" "+e._s(t.related_information)+" ")]),a("td",{staticStyle:{"text-align":"left","line-height":"40px"}},[a("p",[e._v(" Setting Times: "+e._s(e._f("date_day")(t.conference_date))+" "+e._s(t.starttime)+" - "+e._s(e._f("date_day")(t.conference_date))+" "+e._s(t.endtime)+" "),1==t.type?a("span",{staticStyle:{color:"#000000","font-size":"14px"}},[e._v(e._s(t.attendees)+"人，"+e._s(t.roomsetuptypename)+"，会场面积范围:"+e._s(t.min_area)+"~"+e._s(t.max_area)+" sqm")]):e._e()]),t.describe?a("p",[e._v("Setting Note : "+e._s(t.describe))]):e._e(),1==t.type?a("p",[e._v("Setting Note : "+e._s(t.equipment))]):e._e()]),a("td",[a("el-radio-group",{staticClass:"radiogroup",attrs:{disabled:e.isFlag},model:{value:t._checked,callback:function(i){e.$set(t,"_checked",i)},expression:"item._checked"}},[a("el-radio",{attrs:{label:!0}},[e._v("采购")]),a("el-radio",{attrs:{label:!1}},[e._v("不采购")])],1)],1)])])}))],2)})),0)]):e._e(),e.documentVisible(e.info.requirements_food,3)?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix category_tools",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("餐饮需求")]),e._v(" Food & Beverage "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFlag,expression:"!isFlag"}],staticClass:"category_tools_buttons"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.hotel_food_selectallordeselectall(!0)}}},[e._v("全选采购")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.hotel_food_selectallordeselectall(!1)}}},[e._v("全选不采购")])],1)]),a("div",{staticClass:"context foods"},[a("table",[a("thead",[a("tr",{staticClass:"color_2"},[a("th",{attrs:{width:"110"}},[e._v("日期")]),a("th",[e._v("Moring Break")]),a("th",[e._v("Lunch")]),a("th",[e._v("Afternoon Break")]),a("th",[e._v("Dinner")]),a("th",[e._v("Comments")]),a("th",{attrs:{width:"150"}},[e._v("是否采购")])])]),e._l(e.info.requirements_food,(function(t){return a("tbody",{key:t.id},[a("tr",[a("td",[e._v(e._s(e._f("date_day")(t.food_date)))]),a("td",[e._v(" "+e._s(t.moring_break_count)+"人 "),a("el-checkbox",{attrs:{name:"moring_break"},model:{value:t.moring_break_checked,callback:function(i){e.$set(t,"moring_break_checked",i)},expression:"item.moring_break_checked"}})],1),a("td",[t.lunch_use_type?a("div",[e._v(" "+e._s(t.lunch_use_type)+"， ")]):e._e(),e._v(" "+e._s(t.lunch_count)+"人 "),a("el-checkbox",{attrs:{name:"lunch"},model:{value:t.lunch_checked,callback:function(i){e.$set(t,"lunch_checked",i)},expression:"item.lunch_checked"}}),1==t.lunch_address_type?a("span",{staticClass:"outsidethehotel"},[e._v("酒店外")]):e._e()],1),a("td",[e._v(" "+e._s(t.afternoon_break_count)+"人 "),a("el-checkbox",{attrs:{name:"afternoon_break"},model:{value:t.afternoon_break_checked,callback:function(i){e.$set(t,"afternoon_break_checked",i)},expression:"item.afternoon_break_checked"}})],1),a("td",[t.dinner_use_type?a("div",[e._v(" "+e._s(t.dinner_use_type)+"， ")]):e._e(),e._v(" "+e._s(t.dinner_count)+"人 "),a("el-checkbox",{attrs:{name:"dinner"},model:{value:t.dinner_checked,callback:function(i){e.$set(t,"dinner_checked",i)},expression:"item.dinner_checked"}}),1==t.dinner_address_type?a("span",{staticClass:"outsidethehotel"},[e._v("酒店外")]):e._e()],1),a("td",[a("span",[e._v(e._s(t.comments))])]),a("td",[a("el-radio-group",{staticClass:"radiogroup",attrs:{disabled:e.isFlag},on:{change:function(i){return e.food_checked_Change(t)}},model:{value:t._checked,callback:function(i){e.$set(t,"_checked",i)},expression:"item._checked"}},[a("el-radio",{attrs:{label:!0}},[e._v("采购")]),a("el-radio",{attrs:{label:!1}},[e._v("不采购")])],1)],1)])])}))],2)])]):e._e(),e.documentVisible(e.info.requirements_outside_food,8)?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix category_tools",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("酒店外餐饮需求")]),e._v(" Food & Beverage "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFlag,expression:"!isFlag"}],staticClass:"category_tools_buttons"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.hotel_food_selectallordeselectall(!0)}}},[e._v("全选采购")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.hotel_food_selectallordeselectall(!1)}}},[e._v("全选不采购")])],1)]),a("div",{staticClass:"context foods"},[a("table",[a("thead",[a("tr",{staticClass:"color_2"},[a("th",{attrs:{width:"110"}},[e._v("日期")]),a("th",[e._v("用餐时间")]),a("th",[e._v("用餐类型")]),a("th",[e._v("用餐人数")]),a("th",[e._v("需求备注")]),a("th",{attrs:{width:"150"}},[e._v("是否采购")])])]),e._l(e.info.requirements_outside_food,(function(t){return a("tbody",{key:t.id},[a("tr",[a("td",[e._v(e._s(e._f("date_day")(t.food_date)))]),a("td",[t.moring_break_count?a("span",[e._v(" 早餐 ")]):e._e(),t.lunch_count?a("span",[e._v(" 午餐 ")]):e._e(),t.afternoon_break_count?a("span",[e._v(" 下午茶 ")]):e._e(),t.dinner_count?a("span",[e._v(" 晚餐 ")]):e._e()]),a("td",[t.moring_break_count?a("div",[e._v(" "+e._s(t.lunch_use_type)+" ")]):e._e(),t.lunch_count?a("div",[e._v(e._s(t.lunch_use_type))]):e._e(),t.afternoon_break_count?a("div",[e._v(" "+e._s(t.dinner_use_type)+" ")]):e._e(),t.dinner_count?a("div",[e._v(e._s(t.dinner_use_type))]):e._e()]),a("td",[t.moring_break_count?a("div",[e._v(" "+e._s(t.moring_break_count)+" 人 ")]):e._e(),t.lunch_count?a("div",[e._v(e._s(t.lunch_count)+" 人")]):e._e(),t.afternoon_break_count?a("div",[e._v(" "+e._s(t.afternoon_break_count)+" 人 ")]):e._e(),t.dinner_count?a("div",[e._v(e._s(t.dinner_count)+" 人")]):e._e()]),a("td",[a("span",[e._v(e._s(t.comments))])]),a("td",[a("el-radio-group",{staticClass:"radiogroup",attrs:{disabled:e.isFlag},on:{change:function(i){return e.food_checked_Change(t)}},model:{value:t._checked,callback:function(i){e.$set(t,"_checked",i)},expression:"item._checked"}},[a("el-radio",{attrs:{label:!0}},[e._v("采购")]),a("el-radio",{attrs:{label:!1}},[e._v("不采购")])],1)],1)])])}))],2)])]):e._e(),e.documentVisible(e.info.requirements_transportation,4)?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix category_tools",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("大交通")]),e._v(" Intercity Transportation "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFlag,expression:"!isFlag"}],staticClass:"category_tools_buttons"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.transportation_selectallordeselectall(!0)}}},[e._v("全选采购")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.transportation_selectallordeselectall(!1)}}},[e._v("全选不采购")])],1)]),a("div",{staticClass:"context chengjijiaotong"},[a("table",[a("thead",[a("tr",{staticClass:"color_2"},[a("th",{attrs:{width:"110"}},[e._v("日期")]),a("th",[e._v("始发地")]),a("th",[e._v("目的地")]),a("th",[e._v("交通工具")]),a("th",[e._v("搭乘人数")]),a("th",[e._v("抵达时间")]),a("th",[e._v("座位等级")]),a("th",[e._v("票价/折扣")]),a("th",[e._v("备注")]),a("th",{attrs:{width:"150"}},[e._v("是否采购")])])]),e._l(e.info.requirements_transportation,(function(t){return a("tbody",{key:t.id},[a("tr",[a("td",[e._v(e._s(e._f("date_day")(t.transportation_date)))]),a("td",[e._v(e._s(t.origin_city))]),a("td",[e._v(e._s(t.destination_city))]),a("td",[e._v(e._s(t.trans_type))]),a("td",[e._v(e._s(t.passenger_count))]),a("td",[e._v(e._s(t.arrive_time))]),a("td",[e._v(e._s(t.seat_classes))]),a("td",[e._v(e._s(t.special_price))]),a("td",[e._v(e._s(t.requirement))]),a("td",[a("el-radio-group",{staticClass:"radiogroup",attrs:{disabled:e.isFlag},model:{value:t._checked,callback:function(i){e.$set(t,"_checked",i)},expression:"item._checked"}},[a("el-radio",{attrs:{label:!0}},[e._v("采购")]),a("el-radio",{attrs:{label:!1}},[e._v("不采购")])],1)],1)])])}))],2)])]):e._e(),e.documentVisible(e.info.requirements_car,5)?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix category_tools",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("地面交通")]),e._v(" City Car "),a("div",{staticClass:"category_tools_buttons"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.car_selectallordeselectall(!0)}}},[e._v("全选采购")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.car_selectallordeselectall(!1)}}},[e._v("全选不采购")])],1)]),a("div",{staticClass:"context chengjijiaotong"},[a("table",[a("thead",[a("tr",{staticClass:"color_2"},[a("th",{attrs:{width:"110"}},[e._v("日期")]),a("th",[e._v("用车目的")]),a("th",[e._v("用车类型")]),a("th",[e._v("用车数量")]),a("th",[e._v("搭乘人数")]),a("th",[e._v("用车说明")]),a("th",{attrs:{width:"150"}},[e._v("是否采购")])])]),e._l(e.info.requirements_car,(function(t){return a("tbody",{key:t.id},[a("tr",[a("td",[e._v(e._s(e._f("date_day")(t.car_date)))]),a("td",[e._v(e._s(t.purposename))]),a("td",[e._v(e._s(t.vehicle_typename))]),a("td",[e._v(e._s(t.car_count))]),a("td",[e._v(e._s(t.vehicle_count))]),a("td",[e._v(e._s(t.explain))]),a("td",[a("el-radio-group",{staticClass:"radiogroup",model:{value:t._checked,callback:function(i){e.$set(t,"_checked",i)},expression:"item._checked"}},[a("el-radio",{attrs:{label:!0}},[e._v("采购")]),a("el-radio",{attrs:{label:!1}},[e._v("不采购")])],1)],1)])])}))],2)])]):e._e(),e.documentVisible(e.info.requirements_other,6)?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix category_tools",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("其它服务")]),e._v(" Other service "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFlag,expression:"!isFlag"}],staticClass:"category_tools_buttons"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.other_selectallordeselectall(!0)}}},[e._v("全选采购")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.other_selectallordeselectall(!1)}}},[e._v("全选不采购")])],1)]),a("div",{staticClass:"context chengjijiaotong"},[a("table",[a("thead",[a("tr",{staticClass:"color_2"},[a("th",[e._v("类型名称")]),a("th",[e._v("参与人数")]),a("th",[e._v("服务天数")]),a("th",[e._v("描述")]),a("th",{attrs:{width:"150"}},[e._v("是否采购")])])]),e._l(e.info.requirements_other,(function(t){return a("tbody",{key:t.id},[a("tr",[a("td",[e._v(e._s(t.order_name))]),a("td",[e._v(e._s(t.participate_count))]),a("td",[e._v(e._s(t.service_day_count))]),a("td",[e._v(e._s(t.describe))]),a("td",[a("el-radio-group",{staticClass:"radiogroup",attrs:{disabled:e.isFlag},model:{value:t._checked,callback:function(i){e.$set(t,"_checked",i)},expression:"item._checked"}},[a("el-radio",{attrs:{label:!0}},[e._v("采购")]),a("el-radio",{attrs:{label:!1}},[e._v("不采购")])],1)],1)])])}))],2)])]):e._e(),e.documentVisible(null,7)?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("旅行社代付")]),e._v(" Paying Agent ")]),a("div",{staticClass:"context chengjijiaotong"},[a("table",[a("thead",[a("tr",{staticClass:"color_2"},[a("th",[e._v("旅行社代付")]),a("th",{attrs:{width:"150"}},[e._v("是否采购")])])]),a("tbody",[a("tr",[a("td",[e._v("本会中酒店部分订单需要旅行社代付")]),a("td",[a("el-radio-group",{staticClass:"radiogroup",attrs:{disabled:e.isFlag},model:{value:e.info.travelagency_payment,callback:function(t){e.$set(e.info,"travelagency_payment",t)},expression:"info.travelagency_payment"}},[a("el-radio",{attrs:{label:!0}},[e._v("采购")]),a("el-radio",{attrs:{label:!1}},[e._v("不采购")])],1)],1)])])])])]):e._e(),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("询价单补充信息")]),e._v(" RFP Additional Information ")]),a("div",{staticClass:"context form"},[a("div",{staticClass:"item"},[a("label",[e._v("附件Attachments")]),a("div",{staticClass:"block"},[a("el-upload",{ref:"upload",attrs:{action:"","on-change":e.handleChangeAttach,"on-remove":e.handleRemoveAttach,"auto-upload":!1,"file-list":this.fileList,multiple:!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("从电脑选择文件")])],1)],1)]),a("div",{staticClass:"item"},[a("label",[e._v("会议日期是否接受调整")]),a("div",{staticClass:"block"},[a("el-checkbox",{model:{value:e.info.isadjustdate,callback:function(t){e.$set(e.info,"isadjustdate",t)},expression:"info.isadjustdate"}},[e._v("日期可以调整My Event Dates Are Flexible")])],1)])])]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("报价方式及截止时间")]),e._v(" Quotation Mode and Deadline ")]),a("div",{staticClass:"context form"},[a("div",{staticClass:"item"},[a("label",[e._v("报价截止日期Deadline")]),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择报价截止日期","picker-options":e.pickerOptions},model:{value:e.info.end_time,callback:function(t){e.$set(e.info,"end_time",t)},expression:"info.end_time"}})],1)])])]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("其它需求信息或者注意事项")]),e._v(" Additional Comments ")]),a("div",{staticClass:"context form"},[a("el-input",{attrs:{type:"textarea"},model:{value:e.info.other,callback:function(t){e.$set(e.info,"other",t)},expression:"info.other"}})],1)]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"context btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("提交询价单")])],1)]),a("el-dialog",{attrs:{title:"修改默认接单人",visible:e.dialogVisible,width:"800px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{"text-align":"center"}},[a("p",{staticStyle:{"font-size":"18px",display:"inline-block","margin-bottom":"10px"}},[e._v("供应商默认接单人")]),a("p",{staticStyle:{color:"#a7a6a6"}},[e._v("选择供应商默认接单人后，此人将会来处理该订单")]),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.carList,"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{property:"name",label:"姓名"}}),a("el-table-column",{attrs:{property:"phone",label:"电话"}}),a("el-table-column",{attrs:{property:"email",label:"账号"}})],1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.userSubmit}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"新增服务商接单人",visible:e.dialogVisible_add,width:"600px","before-close":e.handleClose_add},on:{"update:visible":function(t){e.dialogVisible_add=t}}},[a("div",[a("el-form",{ref:"ruleForm_",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm_,rules:e.rules_,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.ruleForm_.name,callback:function(t){e.$set(e.ruleForm_,"name",t)},expression:"ruleForm_.name"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{model:{value:e.ruleForm_.phone,callback:function(t){e.$set(e.ruleForm_,"phone",t)},expression:"ruleForm_.phone"}})],1),a("el-form-item",{attrs:{label:"email",prop:"email"}},[a("el-input",{model:{value:e.ruleForm_.email,callback:function(t){e.$set(e.ruleForm_,"email",t)},expression:"ruleForm_.email"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.close_addUser("ruleForm_")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.userAdd("ruleForm_")}}},[e._v("确 定")])],1)]),a("el-dialog",{staticClass:"reference_price",attrs:{title:"采购指导价",visible:e.referencePriceVisible,top:"25vh"},on:{"update:visible":function(t){e.referencePriceVisible=t}}},[a("p",{staticClass:"fleet_name"},[e._v(e._s(e.ReferencePriceData.fleetName))]),a("el-table",{attrs:{data:e.ReferencePriceList,border:""}},e._l(e.referencePriceCols,(function(e,t){return a("el-table-column",{key:t,attrs:{property:e.prop,label:e.label,align:e.align}})})),1),a("div",{staticClass:"dialog_table_foot"},[a("span",[e._v("总价："),a("b",[e._v("¥"+e._s(e.allTotalPrice))])])]),a("div",{staticClass:"service_description"},[a("span",[e._v("服务说明：")]),a("span",{staticStyle:{color:"red"}},[e._v(e._s(e.ReferencePriceData.serviceDescription))])])],1)],1):e._e()},s=[],o=(i("d3b7"),i("159b"),i("a9e3"),i("b680"),i("4e82"),i("e9c4"),i("a434"),i("ac1f"),i("00b4"),i("c740"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861"),i("4de4"),i("b0c0"),i("25f0"),i("1276"),i("0e5c")),n={data:function(){return{referencePriceVisible:!1,referencePriceCols:[{label:"用车日期",prop:"date",align:"center"},{label:"用车城市",prop:"serviceCityName",align:"center"},{label:"用车城市",prop:"usingVehiclePurpose",align:"center"},{label:"用车类型",prop:"serviceVehicleType",align:"center"},{label:"车型名称",prop:"usingVehicleTypeBrand",align:"center"},{label:"其他需求",prop:"otherRequirement",align:"center"},{label:"用车数量",prop:"quantity",align:"center"},{label:"单价",prop:"price",align:"center"},{label:"总价",prop:"totalPrice",align:"center"}],ReferencePriceData:{fleetName:"北京XXXX车队",serviceDescription:"服务说明"},ReferencePriceList:[],cid:"",ruleForm_:{name:"",phone:"",email:"",is_add:"1"},rules_:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入电话",trigger:"blur"}],email:[{required:!0,message:"请输入email",trigger:"blur"}]},carList:[],type:null,info:null,pickerOptions:{disabledDate:this.disabledDate},fileList:[],update_market:!1,shade_market_order:!1,update_contact:!1,delete_contact:!1,insert_contact:!1,update_order:!1,set_default:!1,hint:!1,shade_hint:!1,tableData:[],orderData:[],form:{contacts:"",contactsGSO:"张三",telephone:"",email:"",remarks:""},msg:"",index:null,radio:"",radioOrder:"",hidden:"",val:"",row:null,radioName:null,orderName:null,hotelid:"",radioIndex:0,id:0,score:1,hotelindex:0,isOpen:!1,rules:{purchase_contracts:[{required:!0,message:"请输入联系人",trigger:"blur"}],purchase_phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],purchase_email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],companyName:[{type:"array",required:!0,message:"请选择一个公司名称",trigger:"change"}]},ruleForm:{purchase_contracts:"",purchase_phone:"",purchase_email:"",companyName:[]},compositeName:"",compositeName2:"",purchase_department:"",company_name:"",purchase_contracts:"",purchase_phone:"",purchase_email:"",isUnfold:!1,update_GSO:!1,gainGso:[],tableGsoData:[],selectGsoData:[],GsoName:"",dialogVisible:!1,dialogVisible_add:!1,currentRow:null,index_:null,isFlag:!1}},computed:{allTotalPrice:function(){var e=0;return this.ReferencePriceList.forEach((function(t){e+=Number(t.totalPrice)})),e.toFixed(2)},room_selectallordeselectall:function(){return function(e){this.info.requirements_room.list.forEach((function(t){t._checked=e}))}},conference_selectallordeselectall:function(){return function(e){this.info.requirements_conference.forEach((function(t){t.list.forEach((function(t){t._checked=e}))}))}},hotel_food_selectallordeselectall:function(){return function(e){this.info.requirements_food.forEach((function(t){t._checked=e}))}},transportation_selectallordeselectall:function(){return function(e){this.info.requirements_transportation.forEach((function(t){t._checked=e}))}},car_selectallordeselectall:function(){return function(e){this.info.requirements_car.forEach((function(t){t._checked=e}))}},other_selectallordeselectall:function(){return function(e){this.info.requirements_other.forEach((function(t){t._checked=e}))}},selectserviceproviderclosable:function(){return this.info.selectserviceprovider.length>1},intentionhotelclosable:function(){return!0},selecthotelclosable:function(){return this.info.selecthotel.length>1},documentVisible:function(){return function(e,t){var i=!1;return 1==this.type&&t>3||(1!=t&&e&&e.length>0||e&&e.list&&e.list.length>0)&&(i=!0),i}},IsCheck:function(){for(var e=0;e<this.info.requirements_room.list.length;e++)if(this.info.requirements_room.list[e]._checked)return!0;for(var t=0;t<this.info.requirements_conference.length;t++)for(var i=0;i<this.info.requirements_conference[t].list.length;i++)if(this.info.requirements_conference[t].list[i]._checked)return!0;for(var a=0;a<this.info.requirements_food.length;a++){if(this.info.requirements_food[a].lunch_checked)return!0;if(this.info.requirements_food[a].afternoon_break_checked)return!0;if(this.info.requirements_food[a].dinner_checked)return!0}for(var s=0;s<this.info.requirements_outside_food.length;s++){if(this.info.requirements_outside_food[s].lunch_checked)return!0;if(this.info.requirements_outside_food[s].afternoon_break_checked)return!0;if(this.info.requirements_outside_food[s].dinner_checked)return!0}for(var o=0;o<this.info.requirements_transportation.length;o++)if(this.info.requirements_transportation[o]._checked)return!0;for(var n=0;n<this.info.requirements_car.length;n++)if(this.info.requirements_car[n]._checked)return!0;for(var r=0;r<this.info.requirements_other.length;r++)if(this.info.requirements_other[r]._checked)return!0;return!1}},methods:{handleClose:function(e){e()},handleClose_add:function(e){e()},sortByOrderName:function(e){return e.sort((function(e){return e.order_name}))},openRadioData:function(e,t,i){console.log(e,t,i),this.radioIndex=i,1==this.update_GSO?e&&(this.tableGsoData=e):0==this.update_GSO&&(this.tableData=e),this.hotelid=t,this.hotelindex=i},openOrderData:function(e,t){console.log(e.sendemail),this.orderData=[{contacts:e.hotelecontacts,email:e.hotelemail,telephone:e.hoteletelephone,sendemail:e.sendemail}],this.hotelindex=t,this.info.selecthotel[this.hotelindex].sendemail=!this.info.selecthotel[this.hotelindex].sendemail},onRadioChange:function(e,t){var i=this;console.log(this.update_GSO,t),this.info.selecthotel.forEach((function(e,a){i.radioIndex==a&&(null!=e.receptionist.id&&e.receptionist.id==t.id?(e.receptionist.id=null,i.update_GSO?e.receptionist.contactsGSO=null:e.receptionist.contacts=null,e.receptionist.email=null,e.receptionist.telephone=null,e.receptionist.hotel_id=null,e.receptionist.isdefault=null):(e.receptionist.id=t.id,i.update_GSO?e.receptionist.contactsGSO=t.contactsGSO:e.receptionist.contacts=t.contacts,e.receptionist.email=t.email,e.receptionist.telephone=t.telephone,e.receptionist.hotel_id=t.hotel_id,e.receptionist.isdefault=t.isdefault))}))},setDefault:function(e,t){this.val=e,this.row=t,this.msg="确定要将该RSO设为默认联系人？"},setDefaultSure:function(){var e=this;this.$api.receptionistSave({id:this.row.id,hotel_id:this.row.hotel_id,isdefault:1},"POST").then((function(t){t?(e.$message({message:"修改默认联系人成功",type:"success"}),e.onRadioChange(e.val,e.row),e.init()):e.$message.error("修改默认联系人失败，请重新修改默认联系人")}))},update:function(e,t){this.form=JSON.parse(JSON.stringify(t)),this.index=JSON.parse(JSON.stringify(e))},delete_table:function(e,t){this.index=JSON.parse(JSON.stringify(e)),this.msg="确定要删除该RSO?",this.id=JSON.parse(JSON.stringify(t))},delete_contact_hint:function(){var e=this;this.shade_hint=!1,this.$api.receptionistDelete({id:this.id},"POST").then((function(t){t?(e.$message({message:"删除成功",type:"success"}),e.tableData.splice(e.index,1)):e.$message.error("删除失败，请重新删除")}))},submit:function(){var e=this;console.log(this.update_GSO);var t=this.form,i=/^1(3\d|4[5-9]|5[0-35-9]|6[567]|7[0-8]|8\d|9[0-35-9])\d{8}$/,a=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/;if(t.contacts&&t.telephone&&t.email){if(!i.test(t.telephone))return this.msg="请输入正确的手机号",this.hint=!0,void(this.shade_hint=!0);if(!a.test(t.email))return this.msg="邮箱格式不正确",this.hint=!0,void(this.shade_hint=!0)}else{if(!this.update_GSO)return this.msg="姓名、手机、邮箱缺一不可！",this.hint=!0,void(this.shade_hint=!0);if(!t.contactsGSO)return this.msg="姓名、手机、邮箱缺一不可！",this.hint=!0,void(this.shade_hint=!0)}this.update_contact?this.$api.receptionistSave({id:t.id,contacts:t.contacts,telephone:t.telephone,email:t.email,remarks:t.remarks},"POST").then((function(t){t?(e.$message({message:"修改成功",type:"success"}),e.init()):e.$message.error("修改失败，请重新修改")})):this.$api.receptionistSave({contacts:t.contacts,telephone:t.telephone,email:t.email,remarks:t.remarks,hotel_id:this.hotelid,isdefault:0},"POST").then((function(t){t?(e.$message({message:"添加成功",type:"success"}),e.init()):e.$message.error("添加失败，请重新添加")})),this.update_contact=!1,this.insert_contact=!1,this.update_market=!0,this.form={contacts:"",telephone:"",email:"",remarks:""}},handleChangeAttach:function(e,t){this.fileList=t},handleRemoveAttach:function(e,t){this.fileList=t},removeserviceprovider:function(e){var t=this.info.selectserviceprovider.findIndex((function(t){return t.id==e.id}));t>-1&&(this.info.selectserviceprovider.splice(t,1),this.$api.selectserviceprovider({serviceprovider:this.info.selectserviceprovider},"POST").then((function(e){})))},removeintentionhotel:function(e){console.log(e);var t=this.info.intentionhotel.findIndex((function(t){return t.hotelid==e.hotelid}));t>-1&&(this.info.intentionhotel.splice(t,1),this.$api.selectintentionhotel({hotel:this.info.intentionhotel},"POST").then((function(e){})))},removehotel:function(e){console.log(e);var t=this.info.selecthotel.findIndex((function(t){return t.hotelid==e.hotelid}));t>-1&&(this.info.selecthotel.splice(t,1),this.$api.selecthotel({hotel:this.info.selecthotel},"POST").then((function(e){})))},hotel:function(e){console.log(e);var t=this.$router.resolve({name:"hotelInfo",params:{id:e.hotelid}});window.open(t.href,"_blank")},food_checked_Change:function(e){console.log(e),e.moring_break_checked=e._checked,e.lunch_checked=e._checked,e.afternoon_break_checked=e._checked,e.dinner_checked=e._checked},disabledDate:function(e){var t=Date.now();return e.getTime()<t||e.getTime()>new Date(this.info.event_startdate)},addIntentionHotel:function(){this.$router.push({name:"addintentionhotel",params:{id:this.$route.params.id,city:this.info.event_city,type:"addintentionhotel"}})},downloadFile:function(e){var t=this,i=document.createElement("a");fetch(this.info.document_attachments_file_path_list[e]).then((function(e){return e.blob()})).then((function(a){i.href=URL.createObjectURL(a),console.log(i.href),i.download=t.info.document_attachments_file_name_list[e],document.body.appendChild(i),i.click()}))},addHotel:function(){this.$router.push({name:"addhotelbycity",params:{id:this.$route.params.id,city:this.info.event_city,type:"addhotel"}})},addaddService:function(){this.$router.push({name:"addServiceProviderbycity",params:{id:this.$route.params.id,city:this.info.event_city,type:this.$route.params.type}})},save:function(){var e=this;if(console.log(this.info),null!=this.info.selectserviceprovider&&0!=this.info.selectserviceprovider.length||null!=this.info.selecthotel&&0!=this.info.selecthotel.length)if(this.IsCheck)if(null!=this.info.end_time){var t=/^1(3\d|4[5-9]|5[0-35-9]|6[567]|7[0-8]|8\d|9[0-35-9])\d{8}$/,i=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/;if(this.compositeName&&this.purchase_contracts&&this.purchase_phone&&this.purchase_email)if(t.test(this.purchase_phone))if(i.test(this.purchase_email)){this.info.purchase_company=this.compositeName,this.info.purchase_contracts=this.purchase_contracts,this.info.purchase_phone=this.purchase_phone,this.info.purchase_email=this.purchase_email;var a=[],s=this.fileList.filter((function(e){return""!=e.uid}));this.fileList.length>0&&s.forEach((function(e){a.push({key:e.uid,file:e.raw})})),Object(o["a"])(a).then((function(t){return e.info.inquiry_sheet_attach&&e.info.inquiry_sheet_attach.length>0&&e.info.inquiry_sheet_attach.forEach((function(t){0==e.fileList.filter((function(e){return e.id==t.id})).length&&(t.delete=!0)})),t.forEach((function(t){e.info.inquiry_sheet_attach.push({filetype:1,filepath:t.FilePath,filename:t.OriginalFileName})})),e.$api.inquirySend(e.info,"POST")})).then((function(t){t?e.$router.push({name:"SendSuccess",params:{id:e.$route.params.id}}):(e.$api.synchronization(t.inquirID,"POST").then((function(t){t?e.$message({message:"推送场地资源成功！",type:"success"}):e.$message({message:"推送场地资源失败！",type:"fail"})})),e.$message({message:"推送场地资源失败！",type:"fail"}))}))}else this.$message.error("邮箱格式不正确！");else this.$message.error("请输入正确的手机号！");else this.$message.error("公司名、姓名、手机、邮箱缺一不可！")}else this.$message({message:"请选择截止时间",type:"warning"});else this.$message({message:"请至少选择一个需求项目",type:"warning"});else this.$message({message:"请选择服务商或酒店",type:"error"})},init:function(){var e=this;this.info.selecthotel.forEach((function(t,i){e.$api.receptionistList({id:t.hotelid},"POST").then((function(i){t["receptionistList"]=i,e.update_market&&((e.update_GSO=!1)?e.openRadioData(e.info.selecthotel[e.radioIndex].receptionistList,e.info.selecthotel[e.radioIndex].hotelid,e.radioIndex):(e.update_GSO=!0)&&e.openRadioData(e.info.selecthotel[e.radioIndex].receptionistList_,e.info.selecthotel[e.radioIndex].hotelid,e.radioIndex)),1==e.score&&e.setDft(),e.score=2})),e.$api.GetGSOUser({resourcesId:"202206120001089"},"POST").then((function(e){t["receptionistList_"]=e.gsos,t["contactsGSO"]=""}))}))},setDft:function(){var e=this;this.info.selecthotel.forEach((function(t,i){t.receptionistList.forEach((function(t,i){1==t.isdefault&&(e.radio=i+1)})),t.sendemail&&(e.radioOrder=1)}))},change:function(e){console.log(e);var t="",i="",a="";t=e[0]?e[0]+"":"",i=e[1]?e[1]+"":"",a=t&&i?",":"",this.compositeName2=t+a+i},editSubmit:function(){var e=/^1(3\d|4[5-9]|5[0-35-9]|6[567]|7[0-8]|8\d|9[0-35-9])\d{8}$/,t=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/;this.compositeName2&&this.ruleForm.purchase_contracts&&this.ruleForm.purchase_phone&&this.ruleForm.purchase_email?e.test(this.ruleForm.purchase_phone)?t.test(this.ruleForm.purchase_email)?(this.compositeName=this.compositeName2,this.purchase_contracts=this.ruleForm.purchase_contracts,this.purchase_phone=this.ruleForm.purchase_phone,this.purchase_email=this.ruleForm.purchase_email,this.isOpen=!1):this.$message.error("邮箱格式不正确！"):this.$message.error("请输入正确的手机号！"):this.$message.error("公司名、姓名、手机、邮箱缺一不可！")},editContent:function(){this.isOpen=!0},handleSelectionChange:function(e){var t=this;console.log(e,this.radioIndex,this.info.selecthotel);var i=[];this.info.selecthotel[this.radioIndex].contactsGSO="",e.forEach((function(e,a){var s={name:"",email:"",phone:"",type:"2",is_add:"0"};t.GsoName+=e.name,s.name=e.name,s.email=e.email,s.phone=e.phone,s.type="2",s.is_add="0",i.push(s),t.info.selecthotel[t.radioIndex].contactsGSO+=e.name+" ",i[0].type="1",t.selectGsoData=i})),console.log(i),this.info.selecthotel[this.radioIndex].hote_contact=this.selectGsoData,console.log(this.info.selecthotel)},init_:function(){},handelEdit:function(e,t){this.dialogVisible=!0,this.carList=e.personnelList,this.index_=t},handeladd:function(e,t){this.dialogVisible_add=!0,this.carList=e.personnelList,this.index_=t},handelLook:function(e,t){var i=this;console.log(e,t),this.$api.referencePrice({eventId:this.cid.toString(),fleetId:e.id},"POST").then((function(e){console.log(e),e?(i.ReferencePriceData=e[0],i.ReferencePriceList=e.filter((function(e,t){return 0!=t&&(e.date=e.date.split(" ")[0]),0!=t})),i.referencePriceVisible=!0):(i.ReferencePriceData={},i.ReferencePriceList=[])}))},handleCurrentChange:function(e){this.currentRow=e,console.log(e)},userSubmit:function(){if(this.currentRow){var e=this.index_-0;this.info.selectserviceprovider[e].name=this.currentRow.name,this.info.selectserviceprovider[e].email=this.currentRow.email,this.info.selectserviceprovider[e].phone=this.currentRow.phone,this.info.selectserviceprovider[e].is_add=this.currentRow.is_add,this.dialogVisible=!1,console.log(this.carList,this.index_)}},userAdd:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var i=t.index_-0;t.info.selectserviceprovider[i].personnelList.push(t.ruleForm_),t.dialogVisible=!1,console.log(t.ruleForm_),t.$message({message:"添加成功",type:"success"}),t.dialogVisible_add=!1}))},close_addUser:function(e){this.dialogVisible_add=!1}},mounted:function(){var e=this;this.cid=this.$route.params.id,this.type=this.$route.params.type,this.type||(this.type=2),this.$api.requirementsinfo({id:this.$route.params.id,includinghotel:this.type,isFleet:this.$route.params.isFleet},"POST").then((function(t){e.info=t,e.info.selectserviceprovider.forEach((function(t){t.supplier_type&&0==t.supplier_type&&(e.isFlag=!0,console.log(t),e.$api.getFleetPersonneInfo({fleetId:t.id},"POST").then((function(i){t.personnelList=i,e.$nextTick((function(){t.name=t.personnelList[0].name,t.phone=t.personnelList[0].phone,t.email=t.personnelList[0].email,t.is_add=0})),console.log(i)})))})),console.log(e.info.selectserviceprovider),e.compositeName=e.info.purchase_department,e.company_name=e.info.company_name,e.purchase_department=e.info.purchase_department,e.compositeName2=e.info.purchase_department,e.ruleForm={purchase_contracts:e.info.purchase_contracts,purchase_phone:e.info.purchase_phone,purchase_email:e.info.purchase_email,companyName:[e.purchase_department]},e.purchase_contracts=e.info.purchase_contracts,e.purchase_phone=e.info.purchase_phone,e.purchase_email=e.info.purchase_email,e.init(),e.init_()}))}},r=n,l=(i("54ea"),i("2877")),c=Object(l["a"])(r,a,s,!1,null,"0eea830c",null);t["default"]=c.exports},"0e5c":function(e,t,i){"use strict";i("d3b7");var a=i("5829"),s=i("2b0e");t["a"]=function(e){return new Promise((function(t,i){var o=[],n={},r=e.length;console.log(e.length,e);var l=function i(){return 0==e.length?t(o):String(e[0].file).IsPicture()?(e.shift(),i()):void a["a"].upload({file:e[0].file},"POST",{type:"form"}).then((function(a){console.log(a);var l=!0;if(void 0!=a&&""==a.FilePath&&""==a.OriginalFileName&&(console.log("重复了"),a=void 0,l=!1),void 0==a&&l){s["default"].prototype.$alert("网络不稳定, 文件上传失败, 请重新上传","提示",{confirmButtonText:"确定",callback:function(e){s["default"].prototype.$message({message:"上传失败的文件已标记",type:"warning"})}});var c=r-e.length;return t({tag:c,uploadImageList:o})}n=a,o.push(n),e.shift(),i()}))};l()}))}},"4e82":function(e,t,i){"use strict";var a=i("23e7"),s=i("e330"),o=i("59ed"),n=i("7b0b"),r=i("07fa"),l=i("577e"),c=i("d039"),d=i("addb"),_=i("a640"),u=i("04d1"),h=i("d998"),p=i("2d00"),f=i("512ce"),m=[],v=s(m.sort),b=s(m.push),g=c((function(){m.sort(void 0)})),k=c((function(){m.sort(null)})),y=_("sort"),C=!c((function(){if(p)return p<70;if(!(u&&u>3)){if(h)return!0;if(f)return f<603;var e,t,i,a,s="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(a=0;a<47;a++)m.push({k:t+a,v:i})}for(m.sort((function(e,t){return t.v-e.v})),a=0;a<m.length;a++)t=m[a].k.charAt(0),s.charAt(s.length-1)!==t&&(s+=t);return"DGBEFHACIJK"!==s}})),x=g||!k||!y||!C,S=function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:l(t)>l(i)?1:-1}};a({target:"Array",proto:!0,forced:x},{sort:function(e){void 0!==e&&o(e);var t=n(this);if(C)return void 0===e?v(t):v(t,e);var i,a,s=[],l=r(t);for(a=0;a<l;a++)a in t&&b(s,t[a]);d(s,S(e)),i=s.length,a=0;while(a<i)t[a]=s[a++];while(a<l)delete t[a++];return t}})},"512ce":function(e,t,i){var a=i("342f"),s=a.match(/AppleWebKit\/(\d+)\./);e.exports=!!s&&+s[1]},"538e":function(e,t,i){},"54ea":function(e,t,i){"use strict";i("538e")},a434:function(e,t,i){"use strict";var a=i("23e7"),s=i("da84"),o=i("23cb"),n=i("5926"),r=i("07fa"),l=i("7b0b"),c=i("65f0"),d=i("8418"),_=i("1dde"),u=_("splice"),h=s.TypeError,p=Math.max,f=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var i,a,s,_,u,b,g=l(this),k=r(g),y=o(e,k),C=arguments.length;if(0===C?i=a=0:1===C?(i=0,a=k-y):(i=C-2,a=f(p(n(t),0),k-y)),k+i-a>m)throw h(v);for(s=c(g,a),_=0;_<a;_++)u=y+_,u in g&&d(s,_,g[u]);if(s.length=a,i<a){for(_=y;_<k-a;_++)u=_+a,b=_+i,u in g?g[b]=g[u]:delete g[b];for(_=k;_>k-a+i;_--)delete g[_-1]}else if(i>a)for(_=k-a;_>y;_--)u=_+a-1,b=_+i-1,u in g?g[b]=g[u]:delete g[b];for(_=0;_<i;_++)g[_+y]=arguments[_+2];return g.length=k-a+i,s}})},b93d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAATxJREFUaEPtWV0OgjAM7iTeQhO9jhzCB2+BD+KD3MIHD4HXkURuYWRGA0YJg86WzSXllbXr97OOFAWBPyrw+kEA+FZQFAhGgdthlU6UWgPAwmHRRaX1abo9p6Y9URaqi985LPxrq0rrvQkECsA9i68AMPMFAADKKMnnXftjAegmuI8NToBt1aMk76zVGoApEWfxTa57Fr+JEwANK6KAhdfEQjaHyUQshkVK7OhdSADU8nhro6KAKAAAGBt8rrFo9a+lJn9j9mXrQgKgQzanClAuI0osm4UoRVBiBcBQx8H4WBTwzeJfKzBETt97jP1GP8QCwPfHnCjArUCok7mL46l023lFlOTLn2ejwU+nn8hrEBvHU+qy0vpI/j9A6SRjx6IusrGLoOQXABT2OGJFAQ4WKTlEAQp7HLHBK/AA4k5IQOfQdIYAAAAASUVORK5CYII="},c740:function(e,t,i){"use strict";var a=i("23e7"),s=i("b727").findIndex,o=i("44d2"),n="findIndex",r=!0;n in[]&&Array(1)[n]((function(){r=!1})),a({target:"Array",proto:!0,forced:r},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),o(n)},d991:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAWRJREFUaEPtmT1Ow0AQhd+sgcPAAZISKn6cS3ACJCQKVqJCWiQKpNyAQ2B+KijjA8BhAO+gpTJ2iDYMS9ZiUlozz/Pe51SPMPAfDfx+qIFVE5xL4NUdjNZAUwZGqz4wvJ+A+h18tGFv6+49PQPs9jc9zHMOh3dvMPBbZO9e2s97Brwr7xnY9Q3trJ/dPOVg5O18sm0KfiTgwdhqb6GBxpUcBgpbZfUH/+6u3pFqINE3pwQSBRstqwSio0o0qAQSBRstqwSio0o0qAQSBRstqwSio0o0qASai8klmE8SBfxVlnBdnFaH7YdiAoM38CfJL3iJmIAaECagBIQBiteVgDhCoYASEAYoXlcC4giFAkpAGKB4XQmIIxQK/B8C3pWzUO5lWjHVxlbjNsxeQxMaygI0ExJPst6Ax92mcm4PFppKhrkKZV+SS5YUDeUewR93G8ogk1WRt6Svz3E18JPUfnNn8AQ+AEV+WkBcQgngAAAAAElFTkSuQmCC"},d998:function(e,t,i){var a=i("342f");e.exports=/MSIE|Trident/.test(a)}}]);