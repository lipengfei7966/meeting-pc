(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01df2772"],{"0b03":function(t,e,a){"use strict";a("4d90")},"1f69":function(t,e,a){"use strict";a("725a")},"30f5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"approve-page"},[e("div",{staticClass:"approve-page-body"},[e("div",{staticClass:"centerBox"},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{staticClass:"el-breadcrumb-item",attrs:{to:{path:"/"}}},[t._v(" 首页 ")]),e("el-breadcrumb-item",{staticClass:"el-bread-item"},[t._v("其他配置")])],1),e("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{name:"first",label:"部门-会议类型设置"}},[e("approval")],1),e("el-tab-pane",{attrs:{name:"second",label:"报价结算规则配置"}},[e("quotationSettlement")],1),e("el-tab-pane",{attrs:{name:"third",label:"DMC-用户绑定配置"}},[e("DMCuserbind")],1),e("el-tab-pane",{attrs:{name:"fourth",label:"消息通知配置"}},[e("message")],1),e("el-tab-pane",{attrs:{name:"fifth",label:"会议附加信息配置"}},[e("otherMessage")],1),e("el-tab-pane",{attrs:{name:"sixth",label:"数据权限配置"}},[e("permissionConfig")],1),e("el-tab-pane",{attrs:{name:"sevth",label:"客户端权限配置"}},[e("clientPermission")],1)],1)],1)])])},i=[],l=a("52f1"),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.toPage()}}},[t._v("新增报价结算规则")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{prop:"company_name",label:"客户",width:"180"}}),e("el-table-column",{attrs:{prop:"eventtype",label:"会议类型",width:"180"}}),e("el-table-column",{attrs:{prop:"province_code",label:"会议城市"}}),e("el-table-column",{attrs:{prop:"servicerule",label:"服务费计算方式"}}),e("el-table-column",{attrs:{prop:"isrestore",label:"专票还原税前"}}),e("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.toPage(a.row)}}},[t._v("编辑")]),a.row.is_default?e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.deleteRule(a.row.id)}}},[t._v("删除")]):t._e(),e("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("span",[t._v("删除规则后不可恢复，请确认是否删除")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitDeleteRule()}}},[t._v("确 定")])],1)])]}}])})],1),e("el-pagination",{attrs:{"hide-on-single-page":"",background:"","current-page":t.pager,layout:"prev, pager, next",total:t.total},on:{"update:currentPage":function(e){t.pager=e},"update:current-page":function(e){t.pager=e}}})],1)},n=[],o=a("cf45"),c={data(){return{tableData:[],pager:1,total:0,dialogVisible:!1,id:""}},mounted(){this.getRuleList()},watch:{pager(t,e){this.getRuleList()}},methods:{guid:o["k"],getRuleList(){this.$api.getRuleList({pageIndex:this.pager,pageSize:10},"POST").then(t=>{this.tableData=t.EvetModels,this.pager=t.pageInfo.pageIndex,this.total=t.pageInfo.totalCount})},toPage(t){t?this.$router.push({name:"quotationSettlementEditor",params:{type:t.is_default,id:t.id,company_name:t.company_name,addOrEdit:0}}):this.$router.push({name:"quotationSettlementEditor",params:{type:1,id:this.guid(),company_name:"increase",addOrEdit:1}})},submitDeleteRule(){this.$api.ruleDelete({RuleID:this.id},"POST").then(t=>{t?this.$message({message:"删除成功",type:"success"}):this.$message.error("删除失败"),this.dialogVisible=!1,this.getRuleList()})},deleteRule(t){this.id=t,this.dialogVisible=!0}}},u=c,d=(a("1f69"),a("0b56")),p=Object(d["a"])(u,r,n,!1,null,"4fc5a059",null),m=p.exports,h=function(){var t=this,e=t._self._c;return e("div",[e("el-form",{attrs:{model:t.searchFormData,"label-width":"120px"}},[e("el-row",[e("el-col",{attrs:{span:6}},[e("el-form-item",{attrs:{label:"DMC供应商名称"}},[e("el-input",{staticClass:"demand_170",attrs:{size:"small",clearable:"",placeholder:"请输入名称模糊查询"},model:{value:t.searchFormData.name,callback:function(e){t.$set(t.searchFormData,"name",e)},expression:"searchFormData.name"}})],1)],1),e("el-col",{attrs:{span:8}},[e("el-form-item",{attrs:{label:"绑定用户"}},[e("div",{staticStyle:{display:"flex"}},[e("el-select",{staticStyle:{width:"100px"},attrs:{size:"small"},on:{change:t.isnullChange},model:{value:t.searchFormData.isnull,callback:function(e){t.$set(t.searchFormData,"isnull",e)},expression:"searchFormData.isnull"}},[e("el-option",{attrs:{label:"全部",value:-1}}),e("el-option",{attrs:{label:"不为空",value:0}}),e("el-option",{attrs:{label:"为空",value:1}})],1),e("el-input",{directives:[{name:"show",rawName:"v-show",value:-1==t.searchFormData.isnull||0==t.searchFormData.isnull,expression:"searchFormData.isnull==-1 || searchFormData.isnull==0"}],staticClass:"demand_170",attrs:{size:"small",clearable:"",placeholder:"请输入账号模糊查询"},model:{value:t.searchFormData.username,callback:function(e){t.$set(t.searchFormData,"username",e)},expression:"searchFormData.username"}})],1)])],1),e("el-col",{attrs:{span:6,align:"right"}},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getDataList(1)}}},[t._v("搜 索")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getDataList(2)}}},[t._v("重 置")])],1)],1)],1),e("el-table",{staticStyle:{height:"380px"},attrs:{border:"",data:t.userbidData}},[e("el-table-column",{attrs:{label:"DMC供应商名称 ",prop:"company_name",align:"center",width:"350px","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"地址",prop:"company_address",align:"center",width:"330","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"绑定用户账号",prop:"username",align:"center",formatter:"","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"操作",prop:"",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.updateBind(a.row)}}},[t._v("更新绑定用户")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pageInfo.totalCount},on:{"current-change":t.handleCurrentChange}})],1),e("el-dialog",{attrs:{title:"更新绑定用户",visible:t.dialogVisible,top:"30vh",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticStyle:{"line-height":"40px"}},[e("p",{staticClass:"flex_row"},[e("span",{staticStyle:{width:"150px"}},[t._v("DMC供应商名称：")]),e("span",[t._v(" "+t._s(t.updateInfo.company_name)+" ")])]),e("p",{staticClass:"flex_row"},[e("span",{staticStyle:{width:"150px"}},[t._v("地址：")]),e("span",[t._v(" "+t._s(t.updateInfo.company_address))])]),e("p",{staticClass:"flex_row"},[e("span",{staticStyle:{width:"150px"}},[t._v("绑定用户账号：")]),e("el-select",{attrs:{size:"mini",filterable:"",multiple:"",placeholder:"请选择"},model:{value:t.updateInfo.username,callback:function(e){t.$set(t.updateInfo,"username",e)},expression:"updateInfo.username"}},t._l(t.userOptionsList,(function(t){return e("el-option",{key:t.username,attrs:{label:t.fullname,value:t.username}})})),1)],1),e("p",{staticStyle:{color:"#999","line-height":"20px",margin:"20px 0"}},[t._v("注释：更新绑定用户后，当前供应商的历史询、报价、订单、结算单信息只有新绑定用户可见")])]),e("div",{staticStyle:{"text-align":"center"}},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveUpdateInfo}},[t._v("保 存")]),e("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")])],1)])],1)},b=[],g={data:function(){return{searchFormData:{pageIndex:1,pageSize:10,name:"",isnull:-1,username:""},isEmpty:1,userbidData:[{id:"",name:"昆明中国国际旅行社有限公司",address:"云南省昆明市环城南路1118号",username:"service001"},{id:"",name:"中国国旅（武汉）国际旅行社有限公司",address:"湖北省武汉市硚口区古田四路江城壹号文化创意园10号楼",username:"service002"},{id:"",name:"中国国旅（辽宁）国际旅行社有限公司",address:"沈阳市和平区南京北街65号华银大厦13层",username:"service003"},{id:"",name:"中国国旅（宁波）国际旅行社有限公司",address:"宁波市海曙区开明街396号平安大厦12楼",username:"service004"},{id:"",name:"中国国旅（青岛）国际旅行社有限公司",address:"青岛市市北区连云港路33号B座5层517-520室",username:"service005"}],userOptionsList:[],updateInfo:{id:"",name:"",address:"",username:""},pageInfo:{totalCount:0},dialogVisible:!1}},mounted(){this.getDataList(),this.GetUser()},methods:{handleCurrentChange(t){this.searchFormData.pageIndex=t,console.log("当前页: "+t),this.getDataList()},getDataList(t){2==t&&(this.searchFormData.name="",this.searchFormData.isnull=-1,this.searchFormData.username=""),this.$api.GetServiceProviderUser(this.searchFormData,"POST").then(t=>{this.userbidData=t.EvetModels,this.pageInfo=t.pageInfo})},GetUser(){this.$api.GetUser({},"POST").then(t=>{this.userOptionsList=t})},isnullChange(t){1==t&&(this.searchFormData.username="")},updateBind(t){this.dialogVisible=!0,this.updateInfo={...t},this.updateInfo.username=this.updateInfo.username.split(",")},saveUpdateInfo(){let t={ID:this.updateInfo.id,UserName:this.updateInfo.username.join()};this.$api.ServiceProviderEditUser(t,"POST").then(t=>{t?(this.$message.success("修改成功"),this.dialogVisible=!1,this.getDataList()):this.$message.error("已经有其他服务商使用该用户")})},userFormatter(t){let e="",a=t.username.split(",");return this.userOptionsList.forEach(t=>{a.forEach(a=>{a==t.username&&(e.length>0?e+="，"+t.fullname:e=t.fullname)})}),e}}},f=g,v=(a("0b03"),Object(d["a"])(f,h,b,!1,null,null,null)),y=v.exports,_=function(){var t=this,e=t._self._c;return e("div",[t._v(" 消息通知配置 ")])},C=[],k={},x=Object(d["a"])(k,_,C,!1,null,null,null),w=x.exports,D=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"permission_header"},[e("el-button",{staticClass:"add_button",attrs:{type:"primary"},on:{click:t.addPermission}},[t._v("新增用户组")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableInfo.EvetModels}},[e("el-table-column",{attrs:{align:"left",prop:"group_user_name",label:"用户组名称",width:"160"}}),e("el-table-column",{attrs:{align:"center",label:"组内用户",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:function(e){return t.member(a.$index,a.row)}}},[t._v(t._s(a.row.counts))])]}}])}),e("el-table-column",{attrs:{align:"center",prop:"group_user_type",label:"类型",width:"180"}}),e("el-table-column",{attrs:{align:"center",prop:"group_user_remarks",label:"备注",width:"180"}}),e("el-table-column",{attrs:{align:"right",label:"操作",width:"420"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.edit(a.$index,a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.member(a.$index,a.row)}}},[t._v("组员管理")]),1!=a.row.grouptype?e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.customer(a.$index,a.row)}}},[t._v("客户权限")]):t._e(),1!=a.row.grouptype?e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.report(a.$index,a.row)}}},[t._v("报表权限")]):t._e(),e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.del(a.$index,a.row)}}},[t._v("删除")])]}}])})],1),t.tableInfo.EvetModels.length?e("el-pagination",{staticStyle:{"margin-top":"30px",width:"100%","text-align":"center"},attrs:{"current-page":t.pageIndex,"page-size":t.pageSize,background:"",layout:"total, prev, pager, next",total:t.tableInfo.pageInfo.totalCount},on:{"current-change":t.currentChange}}):t._e()],1)},S=[],I={components:{},data:function(){return{pageIndex:1,pageSize:10,tableInfo:{EvetModels:[],pageInfo:{totalCount:0}}}},mounted(){this.getList()},methods:{getList(){this.$api.GetUserGroupList({pageIndex:this.pageIndex,pageSize:this.pageSize},"POST").then(t=>{this.tableInfo=t})},addPermission(){this.$router.push({name:"addeditUsergroup",query:{}})},edit(t,e){this.$router.push({name:"addeditUsergroup",query:{id:e.id}})},member(t,e){this.$router.push({name:"membermanage",query:{id:e.id}})},customer(t,e){this.$router.push({name:"customermanage",query:{id:e.id}})},report(t,e){this.$router.push({name:"reportmanage",query:{id:e.id}})},del(t,e){this.$confirm("请确认是否执行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$api.DeleteUserGroupDate({usergroup_id:e.id},"POST").then(t=>{this.$message.success("删除成功"),this.pageIndex=1,this.pageSize=10,this.getList()}).catch(()=>{})})},currentChange(t){this.pageIndex=t,this.getList()}}},$=I,L=(a("b4dc"),Object(d["a"])($,D,S,!1,null,null,null)),E=L.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.toPage()}}},[t._v("新增附加信息规则配置")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"}}},[e("el-table-column",{attrs:{prop:"cusname",label:"客户",width:"380"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.isdefault?"ALL":e.row.cusname)+" ")]}}])}),e("el-table-column",{attrs:{prop:"fieldcount",label:"自定义字段",width:"180"}}),e("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.toPage(a.row)}}},[t._v("编辑")]),e("div",{staticStyle:{display:"inline-block","margin-left":"10px",width:"56px"}},[e("el-button",{directives:[{name:"show",rawName:"v-show",value:!a.row.isdefault,expression:"!scope.row.isdefault"}],attrs:{size:"small"},on:{click:function(e){return t.deleteRule(a.row.id)}}},[t._v("删除")])],1),e("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("span",[t._v("删除规则后不可恢复，请确认是否删除")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitDeleteRule()}}},[t._v("确 定")])],1)])]}}])})],1),e("el-pagination",{attrs:{"hide-on-single-page":"",background:"","current-page":t.pager,layout:"prev, pager, next",total:t.total},on:{"update:currentPage":function(e){t.pager=e},"update:current-page":function(e){t.pager=e}}})],1)},O=[],z={data(){return{tableData:[],pager:1,total:0,dialogVisible:!1,id:""}},mounted(){this.getSelfformList()},watch:{pager(t,e){this.getSelfformList()}},methods:{guid:o["k"],getSelfformList(){this.$api.getSelfformList({},"POST").then(t=>{this.tableData=t.list})},toPage(t){t?this.$router.push({path:"/otherMessageSeetingEditor",query:{isdefault:t.isdefault,id:t.id,addOrEdit:0}}):this.$router.push({path:"/otherMessageSeetingEditor",query:{isdefault:0,id:this.guid(),addOrEdit:1}})},submitDeleteRule(){this.$api.DeleteSelfForm({id:this.id},"POST").then(t=>{t?this.$message({message:"删除成功",type:"success"}):this.$message.error("删除失败"),this.dialogVisible=!1,this.getSelfformList()})},deleteRule(t){this.id=t,this.dialogVisible=!0}}},V=z,F=(a("6091"),Object(d["a"])(V,P,O,!1,null,"5fa00d20",null)),R=F.exports,T=function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"title"},[t._v("客户端权限配置")]),e("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.getDepartment},model:{value:t.listValue,callback:function(e){t.listValue=e},expression:"listValue"}},t._l(t.companyData,(function(t){return e("el-option",{key:t.value,attrs:{label:t.shortname,value:t.id}})})),1),e("table",{staticClass:"approval-table approval-table-single",attrs:{cellpadding:"1",cellspacing:"1",border:"1"}},[e("tbody",[t._m(0),t._l(t.customerList,(function(a,s){return e("tr",{key:a.id,staticClass:"approval-table-tr"},[e("th",{staticClass:"table-department-item"},[e("label",{staticClass:"table-department-item-ch",staticStyle:{cursor:"pointer",display:"block"},attrs:{id:a.id}},[t._v(" "+t._s(a.shortname)+" ")])]),e("th",{staticClass:"table-department-item"},[e("label",{staticClass:"table-department-item-ch",staticStyle:{cursor:"pointer",display:"block"}},[e("input",{staticClass:"table-header-checkbox-normal select-all-department",attrs:{type:"checkbox","data-department-id":"921"},domProps:{checked:t.customerData.fir[s].isChecked},on:{click:function(e){return t.selectRow(s,e,"客户在线会议提报")}}})])]),e("th",{staticClass:"table-department-item"},[e("label",{staticClass:"table-department-item-ch",staticStyle:{cursor:"pointer",display:"block"}},[e("input",{staticClass:"table-header-checkbox-normal select-all-department",attrs:{type:"checkbox","data-department-id":"921",disabled:""},domProps:{checked:t.customerData.sec[s].isChecked},on:{click:function(e){return t.selectRow(s,e,"客户在线需求细化")}}})])]),e("th",{staticClass:"table-department-item"},[e("label",{staticClass:"table-department-item-ch",staticStyle:{cursor:"pointer",display:"block"}},[e("input",{staticClass:"table-header-checkbox-normal select-all-department",attrs:{type:"checkbox","data-department-id":"921"},domProps:{checked:t.customerData.thr[s].isChecked},on:{click:function(e){return t.selectRow(s,e,"客户在线确认报价")}}})])]),e("th",{staticClass:"table-department-item"},[e("label",{staticClass:"table-department-item-ch",staticStyle:{cursor:"pointer",display:"block"}},[e("input",{staticClass:"table-header-checkbox-normal select-all-department",attrs:{type:"checkbox","data-department-id":"921"},domProps:{checked:t.customerData.fou[s].isChecked},on:{click:function(e){return t.selectRow(s,e,"客户在线确认结算")}}})])])])}))],2)]),e("el-button",{staticClass:"submit_button",attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")])],1)},j=[function(){var t=this,e=t._self._c;return e("tr",{staticClass:"approval-table-tr",staticStyle:{height:"72px"}},[e("th",{staticClass:"table-department-item",staticStyle:{height:"33px !important"}},[e("label",{staticClass:"table-department-item-ch"},[t._v("部门")])]),e("th",{staticClass:"table-department-item",staticStyle:{height:"33px !important"}},[e("label",{staticClass:"table-department-item-ch"},[t._v("客户在线会议提报")])]),e("th",{staticClass:"table-department-item",staticStyle:{height:"33px !important"}},[e("label",{staticClass:"table-department-item-ch"},[t._v("客户在线需求细化")])]),e("th",{staticClass:"table-department-item",staticStyle:{height:"33px !important"}},[e("label",{staticClass:"table-department-item-ch"},[t._v("客户在线确认报价")])]),e("th",{staticClass:"table-department-item",staticStyle:{height:"33px !important"}},[e("label",{staticClass:"table-department-item-ch"},[t._v("客户在线确认结算")])])])}],M={data(){return{customerList:[],companyData:[],listValue:"",customerData:{fir:[],sec:[],thr:[],fou:[]},row:[],arr:[],obj:[],checkList:[]}},mounted(){this.getCustomerList()},methods:{getCustomerList(){this.$api.getCompany({},"POST").then(t=>{this.companyData=t})},getDepartment(){var t={CompanyID:this.listValue};this.customerData={fir:[],sec:[],thr:[],fou:[]},this.$api.getClient(t,"POST").then(t=>{console.log(t),this.customerList=t||[],this.customerList.forEach((t,e)=>{console.log(t,90);for(const a in this.customerData)this.row.push(t.shortname),this.customerData[a].push({isChecked:!1,id:t.shortname,idName:t.id})}),this.getCostomerList(),console.log(this.arr,13)})},getCostomerList(){var t={CompanyID:this.listValue};this.$api.clientCostomerList(t,"POST").then(t=>{console.log(t),0!=t.length?this.checkList=t:this.checkList=[],this.arr=[],this.checkList.forEach((t,e)=>{console.log(this.checkList,128),this.arr.push({departmentid:t.department_id,fundtiontype:t.fundtion_type.split(",")}),t.fundtion_type.split(",").forEach((e,a)=>{console.log(e,136),"0"==e?this.customerData["fir"].forEach(e=>{console.log(e.idName,t.department_id,142),e.idName==t.department_id&&(console.log(e,1344),e.isChecked=!0)}):"1"==e?(console.log(t,5),this.customerData["sec"].forEach(e=>{e.idName==t.department_id&&(e.isChecked=!0)})):"2"==e?this.customerData["thr"].forEach(e=>{e.idName==t.department_id&&(e.isChecked=!0)}):"3"==e&&this.customerData["fou"].forEach(e=>{e.idName==t.department_id&&(e.isChecked=!0)})})}),console.log(this.customerData,this.arr)})},selectRow(t,e,a){var s=0;s="客户在线会议提报"==a?0:"客户在线需求细化"==a?1:"客户在线确认报价"==a?2:3;var i=e.currentTarget.parentElement.parentElement.parentElement.firstElementChild.firstElementChild.id;e.currentTarget.parentElement.parentElement.parentElement.firstElementChild.firstElementChild.innerHTML;console.log(i,190);let l=this.arr.findIndex(t=>(console.log(t.departmentid,i),t.departmentid==i));if(this.obj=-1==l?[]:this.arr[l].fundtiontype,console.log(this.obj,l,988),e.target.checked)if(-1==l){this.obj=[];var r=this.obj.findIndex(t=>t==s);-1==r&&this.obj.push(s),this.arr.push({departmentid:i,fundtiontype:this.obj})}else{r=this.arr[l].fundtiontype.findIndex(t=>t==s);-1==r&&this.arr[l].fundtiontype.push(s)}else{console.log(this.obj);r=this.obj.findIndex(t=>t==s);this.arr[l].fundtiontype.splice(r,1)}this.arr.forEach((t,e)=>{0==t.fundtiontype.length&&this.arr.splice(e,1)}),console.log(this.arr,98)},submit(){var t=[];this.arr.forEach(e=>{t.push({departmentid:e.departmentid,fundtiontype:e.fundtiontype.join(",")})});var e={companyid:this.listValue,details:t};console.log(t),this.$api.addclientConfiguration(e,"POST").then(t=>{console.log(t),this.$alert("保存成功",{confirmButtonText:"确定",callback:t=>{this.getDepartment()}})})}}},N=M,U=(a("9019"),Object(d["a"])(N,T,j,!1,null,null,null)),q=U.exports,B={components:{approval:l["default"],DMCuserbind:y,message:w,quotationSettlement:m,otherMessage:R,permissionConfig:E,clientPermission:q},data:function(){return{activeName:"first"}},methods:{},mounted(){this.$route.params.activeName&&(this.activeName=this.$route.params.activeName)}},G=B,J=(a("a5e3"),Object(d["a"])(G,s,i,!1,null,null,null));e["default"]=J.exports},"4d90":function(t,e,a){},"587b":function(t,e,a){},6091:function(t,e,a){"use strict";a("587b")},"725a":function(t,e,a){},9019:function(t,e,a){"use strict";a("fdb9")},a5e3:function(t,e,a){"use strict";a("e8ee")},b4dc:function(t,e,a){"use strict";a("b9c7")},b9c7:function(t,e,a){},e8ee:function(t,e,a){},fdb9:function(t,e,a){}}]);