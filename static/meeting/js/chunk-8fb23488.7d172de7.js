(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8fb23488"],{1892:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content"},[t("div",{staticClass:"index"},[t("span",[e._v("首页->")]),t("span",{on:{click:function(t){return e.$router.push("/otherSettings")}}},[e._v("其他配置 ->")]),t("span",[e._v(e._s(e.addOrEdit?"新增/编辑报价结算规则":"编辑报价结算规则"))])]),t("div",{staticClass:"title"},[t("span",[e._v(e._s(e.addOrEdit?"新增/编辑报价结算规则":"编辑报价结算规则"))])]),t("el-form",{ref:"ruleInfo",staticClass:"form",attrs:{model:e.ruleInfo,"label-position":"left",rules:e.rules,"label-width":"250px"}},[1==e.type?t("el-form-item",{attrs:{label:"客户",prop:"customerid"}},[t("el-select",{attrs:{placeholder:"请选择客户",filterable:""},on:{change:e.customerChange},model:{value:e.ruleInfo.customerid,callback:function(t){e.$set(e.ruleInfo,"customerid",t)},expression:"ruleInfo.customerid"}},e._l(e.customers,(function(e,r){return t("el-option",{key:e.id,attrs:{label:e.shortname,value:e.id}})})),1)],1):t("el-form-item",{attrs:{label:"客户",prop:""}},[t("span",[e._v(e._s(e.company_name))])]),1==e.type?t("el-form-item",{attrs:{label:"会议类型",prop:"meeting"}},[t("el-checkbox-group",{model:{value:e.ruleInfo.meeting,callback:function(t){e.$set(e.ruleInfo,"meeting",t)},expression:"ruleInfo.meeting"}},e._l(e.meetingType,(function(e){return t("el-checkbox",{key:e.id,attrs:{label:e.name}})})),1)],1):e._e(),1==e.type?t("el-form-item",{attrs:{label:"服务类型",prop:"service_type"}},[t("el-checkbox-group",{model:{value:e.ruleInfo.service_type,callback:function(t){e.$set(e.ruleInfo,"service_type",t)},expression:"ruleInfo.service_type"}},e._l(e.serviceList,(function(e){return t("el-checkbox",{key:e.id,attrs:{label:e.name}})})),1)],1):e._e(),1==e.type?t("el-form-item",{attrs:{label:"会议城市",prop:"provinceList"}},[t("el-select",{attrs:{placeholder:"请选择城市",multiple:""},model:{value:e.ruleInfo.provinceList,callback:function(t){e.$set(e.ruleInfo,"provinceList",t)},expression:"ruleInfo.provinceList"}},e._l(e.city,(function(e){return t("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1):e._e(),t("el-form-item",{attrs:{label:"业务下载报价单模板",prop:"ruleTemplate_BusinessOffer_id"}},[t("el-select",{attrs:{placeholder:"请选择模板"},model:{value:e.ruleInfo.ruleTemplate_BusinessOffer_id,callback:function(t){e.$set(e.ruleInfo,"ruleTemplate_BusinessOffer_id",t)},expression:"ruleInfo.ruleTemplate_BusinessOffer_id"}},e._l(e.ruleTemplate_BusinessOffer,(function(e,r){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"业务下载结算单模板",prop:"ruleTemplate_BusinessSettlement_id"}},[t("el-select",{attrs:{placeholder:"请选择模板"},on:{change:e.eventData},model:{value:e.ruleInfo.ruleTemplate_BusinessSettlement_id,callback:function(t){e.$set(e.ruleInfo,"ruleTemplate_BusinessSettlement_id",t)},expression:"ruleInfo.ruleTemplate_BusinessSettlement_id"}},e._l(e.ruleTemplate_BusinessSettlement,(function(e,r){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"供应商下载报价单模板",prop:"ruleTemplate_VendorQuotation_id"}},[t("el-select",{attrs:{placeholder:"请选择模板"},model:{value:e.ruleInfo.ruleTemplate_VendorQuotation_id,callback:function(t){e.$set(e.ruleInfo,"ruleTemplate_VendorQuotation_id",t)},expression:"ruleInfo.ruleTemplate_VendorQuotation_id"}},e._l(e.ruleTemplate_VendorQuotation,(function(e,r){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"供应商下载结算单模板",prop:"ruleTemplate_SupplierSettlement_id"}},[t("el-select",{attrs:{placeholder:"请选择模板"},model:{value:e.ruleInfo.ruleTemplate_SupplierSettlement_id,callback:function(t){e.$set(e.ruleInfo,"ruleTemplate_SupplierSettlement_id",t)},expression:"ruleInfo.ruleTemplate_SupplierSettlement_id"}},e._l(e.ruleTemplate_SupplierSettlement,(function(e,r){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"供应商下载报价确认单",prop:"bjqrisdisplay"}},[t("el-radio-group",{on:{change:e.bjqrisdisplayChange},model:{value:e.ruleInfo.bjqrisdisplay,callback:function(t){e.$set(e.ruleInfo,"bjqrisdisplay",t)},expression:"ruleInfo.bjqrisdisplay"}},[t("el-radio",{attrs:{label:1}},[e._v("显示")]),t("el-radio",{attrs:{label:0}},[e._v("不显示")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.ruleInfo.bjqrisdisplay,expression:"ruleInfo.bjqrisdisplay"}]},[t("el-form-item",{attrs:{label:"报价单确认模板",prop:"ruleTemplate_SupplierOfferConfirm_id"}},[t("el-select",{attrs:{placeholder:"请选择模板"},model:{value:e.ruleInfo.ruleTemplate_SupplierOfferConfirm_id,callback:function(t){e.$set(e.ruleInfo,"ruleTemplate_SupplierOfferConfirm_id",t)},expression:"ruleInfo.ruleTemplate_SupplierOfferConfirm_id"}},e._l(e.ruleTemplate_SupplierOfferConfirm,(function(e,r){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),t("el-form-item",{attrs:{label:"供应商下载结算确认单",prop:"jsqrisdisplay"}},[t("el-radio-group",{on:{change:e.jsqrisdisplayChange},model:{value:e.ruleInfo.jsqrisdisplay,callback:function(t){e.$set(e.ruleInfo,"jsqrisdisplay",t)},expression:"ruleInfo.jsqrisdisplay"}},[t("el-radio",{attrs:{label:1}},[e._v("显示")]),t("el-radio",{attrs:{label:0}},[e._v("不显示")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.ruleInfo.jsqrisdisplay,expression:"ruleInfo.jsqrisdisplay"}]},[t("el-form-item",{attrs:{label:"结算单确认模板",prop:"ruleTemplate_SupplierSettlementConfirm_id"}},[t("el-select",{attrs:{placeholder:"请选择模板"},model:{value:e.ruleInfo.ruleTemplate_SupplierSettlementConfirm_id,callback:function(t){e.$set(e.ruleInfo,"ruleTemplate_SupplierSettlementConfirm_id",t)},expression:"ruleInfo.ruleTemplate_SupplierSettlementConfirm_id"}},e._l(e.ruleTemplate_SupplierSettlementConfirm,(function(e,r){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),t("el-form-item",{attrs:{label:"专票还原税前",prop:"vat_reduction_pre_tax"}},[t("el-radio-group",{model:{value:e.ruleInfo.vat_reduction_pre_tax,callback:function(t){e.$set(e.ruleInfo,"vat_reduction_pre_tax",t)},expression:"ruleInfo.vat_reduction_pre_tax"}},[t("el-radio",{attrs:{label:1}},[e._v("还原")]),t("el-radio",{attrs:{label:0}},[e._v("不还原")])],1)],1),0==e.ruleInfo.vatrule?t("el-form-item",{attrs:{label:"VAT规则",prop:"vatrule"}},[[t("el-radio-group",{attrs:{disabled:!0},model:{value:e.ruleInfo.vatrule,callback:function(t){e.$set(e.ruleInfo,"vatrule",t)},expression:"ruleInfo.vatrule"}},[t("el-radio",{attrs:{label:0}},[e._v("分项VAT")]),t("el-radio",{attrs:{label:1}},[e._v("统一VAT")])],1)]],2):t("el-form-item",{attrs:{label:"VAT规则",prop:"flat_tax_rate"}},[[t("el-radio-group",{attrs:{disabled:!0},model:{value:e.ruleInfo.vatrule,callback:function(t){e.$set(e.ruleInfo,"vatrule",t)},expression:"ruleInfo.vatrule"}},[t("el-radio",{attrs:{label:0}},[e._v("分项VAT")]),t("el-radio",{attrs:{label:1}},[e._v("统一VAT")])],1),[t("el-input",{staticStyle:{width:"10%","margin-left":"20px"},on:{input:function(t){e.ruleInfo.flat_tax_rate=e.formatNum(e.ruleInfo.flat_tax_rate)}},model:{value:e.ruleInfo.flat_tax_rate,callback:function(t){e.$set(e.ruleInfo,"flat_tax_rate",t)},expression:"ruleInfo.flat_tax_rate"}}),e._v(" % ")]]],2),t("el-form-item",{attrs:{label:"VAT比例是否可修改",prop:"vatcanedit"}},[t("el-radio-group",{model:{value:e.ruleInfo.vatcanedit,callback:function(t){e.$set(e.ruleInfo,"vatcanedit",t)},expression:"ruleInfo.vatcanedit"}},[t("el-radio",{attrs:{label:1}},[e._v("可修改")]),t("el-radio",{attrs:{label:0}},[e._v("不可修改")])],1)],1),t("el-form-item",{attrs:{label:"服务费计算方式",prop:"service_fee_calculation_method"}},[t("el-radio-group",{attrs:{disabled:!1},model:{value:e.ruleInfo.service_fee_calculation_method,callback:function(t){e.$set(e.ruleInfo,"service_fee_calculation_method",t)},expression:"ruleInfo.service_fee_calculation_method"}},[t("el-radio",{attrs:{label:0}},[e._v("分项计费")]),t("el-radio",{attrs:{label:1}},[e._v("阶梯计费")]),t("el-radio",{attrs:{label:2}},[e._v("跳档计费")])],1)],1),t("el-form-item",{attrs:{"label-width":"0"}},[1==e.ruleInfo.service_fee_calculation_method?t("div",e._l(e.ruleInfo.ladder,(function(r,i){return t("div",{staticClass:"ladderList"},[e._v(" 阶梯"+e._s(i+1)+" "),t("el-input",{staticStyle:{width:"100px"},attrs:{disabled:0==i},on:{input:function(t){r.ladder_min=e.formatNum(r.ladder_min)}},model:{value:r.ladder_min,callback:function(t){e.$set(r,"ladder_min",t)},expression:"item.ladder_min"}}),e._v(" ~ "),t("el-input",{staticStyle:{width:"100px"},on:{input:function(t){r.ladder_max=e.formatNum(r.ladder_max)}},model:{value:r.ladder_max,callback:function(t){e.$set(r,"ladder_max",t)},expression:"item.ladder_max"}}),e._v(" * "),t("el-input",{staticStyle:{width:"80px"},on:{input:function(t){r.ladder_taxrate=e.formatNum(r.ladder_taxrate)}},model:{value:r.ladder_taxrate,callback:function(t){e.$set(r,"ladder_taxrate",t)},expression:"item.ladder_taxrate"}}),e._v(" % "),t("el-button",{staticStyle:{"margin-left":"20px","text-decoration":"underline"},attrs:{type:"text"},on:{click:function(t){return e.addLadder()}}},[e._v("添加阶梯")]),0!=i?t("el-button",{staticStyle:{"margin-left":"20px","text-decoration":"underline"},attrs:{type:"text"},on:{click:function(t){return e.delLadder(i)}}},[e._v("删除阶梯")]):e._e()],1)})),0):e._e(),2==e.ruleInfo.service_fee_calculation_method?t("div",e._l(e.ruleInfo.grade,(function(r,i){return t("div",{key:i,staticClass:"ladderList"},[e._v(" 金额 >= "),t("el-input",{staticStyle:{width:"100px"},on:{input:function(t){r.grade_money=e.formatNum(r.grade_money)}},model:{value:r.grade_money,callback:function(t){e.$set(r,"grade_money",t)},expression:"item.grade_money"}}),e._v(" * "),t("el-input",{staticStyle:{width:"80px"},on:{input:function(t){r.grade_taxrate=e.formatNum(r.grade_taxrate)}},model:{value:r.grade_taxrate,callback:function(t){e.$set(r,"grade_taxrate",t)},expression:"item.grade_taxrate"}}),e._v(" % "),t("el-button",{staticStyle:{"margin-left":"20px","text-decoration":"underline"},attrs:{type:"text"},on:{click:function(t){return e.addTiaodang()}}},[e._v("添加档次")]),0!=i?t("el-button",{staticStyle:{"margin-left":"20px","text-decoration":"underline"},attrs:{type:"text"},on:{click:function(t){return e.delTiaodang(i)}}},[e._v("删除档次")]):e._e()],1)})),0):e._e(),t("el-table",{staticClass:"table",attrs:{data:e.tableData,border:"","span-method":e.arraySpanMethod}},[t("el-table-column",{attrs:{align:"center",prop:"project",label:"采购项目"}}),t("el-table-column",{attrs:{align:"center",prop:"type",label:"询价方式",width:"300"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-radio-group",{on:{change:e.change},model:{value:r.row.type,callback:function(t){e.$set(r.row,"type",t)},expression:"scope.row.type"}},[t("el-radio",{attrs:{label:0}},[e._v("线上询价")]),t("el-radio",{attrs:{label:1}},[e._v("手工填报")])],1)]}}])}),t("el-table-column",{attrs:{align:"center",prop:"taxRate",label:"VAT"},scopedSlots:e._u([{key:"default",fn:function(r){return e.ruleInfo.vatrule?void 0:[t("el-input",{staticStyle:{width:"30%"},on:{input:function(t){r.row.taxRate=e.formatNum(r.row.taxRate)}},model:{value:r.row.taxRate,callback:function(t){e.$set(r.row,"taxRate",t)},expression:"scope.row.taxRate"}}),e._v(" % ")]}}],null,!0)}),t("el-table-column",{attrs:{align:"center",prop:"isnotservice",label:"是否计入服务费"},scopedSlots:e._u([{key:"default",fn:function(r){return 6!=r.$index?[t("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:r.row.isnotservice,callback:function(t){e.$set(r.row,"isnotservice",t)},expression:"scope.row.isnotservice"}},[e._v("计入服务费")])]:void 0}}],null,!0)}),t("el-table-column",{attrs:{align:"center",prop:"serviceFee",label:"服务费比例"},scopedSlots:e._u([{key:"default",fn:function(r){return 6!=r.$index&&0==e.ruleInfo.service_fee_calculation_method?[t("el-input",{staticStyle:{width:"30%"},on:{input:function(t){r.row.serviceFee=e.formatNum(r.row.serviceFee)}},model:{value:r.row.serviceFee,callback:function(t){e.$set(r.row,"serviceFee",t)},expression:"scope.row.serviceFee"}}),e._v(" % ")]:void 0}}],null,!0)})],1)],1),t("el-form-item",{attrs:{label:"服务费比例是否可修改",prop:"servicecanedit"}},[t("el-radio-group",{attrs:{disabled:!0},model:{value:e.ruleInfo.servicecanedit,callback:function(t){e.$set(e.ruleInfo,"servicecanedit",t)},expression:"ruleInfo.servicecanedit"}},[t("el-radio",{attrs:{label:1}},[e._v("可修改")]),t("el-radio",{attrs:{label:0}},[e._v("不可修改")])],1)],1),t("el-form-item",{attrs:{label:"是否支持填写服务费总价比例",prop:"service_fee_ratio"}},[t("el-radio-group",{model:{value:e.ruleInfo.service_fee_ratio,callback:function(t){e.$set(e.ruleInfo,"service_fee_ratio",t)},expression:"ruleInfo.service_fee_ratio"}},[t("el-radio",{attrs:{label:1}},[e._v("支持")]),t("el-radio",{attrs:{label:0}},[e._v("不支持")])],1)],1),t("el-form-item",{attrs:{label:"是否有最低服务费费用",prop:"minimum_service_fee"}},[t("el-radio-group",{model:{value:e.ruleInfo.minimum_service_fee,callback:function(t){e.$set(e.ruleInfo,"minimum_service_fee",t)},expression:"ruleInfo.minimum_service_fee"}},[t("el-radio",{attrs:{label:0}},[e._v("无最低费用")]),t("el-radio",{attrs:{label:1}},[e._v("有最低费用")])],1),e.ruleInfo.minimum_service_fee?[e._v(" ￥ "),t("el-input",{staticStyle:{width:"10%","margin-left":"20px"},on:{input:function(t){e.ruleInfo.minimum_service_fee_money=e.positiveFloat(e.ruleInfo.minimum_service_fee_money)}},model:{value:e.ruleInfo.minimum_service_fee_money,callback:function(t){e.$set(e.ruleInfo,"minimum_service_fee_money",t)},expression:"ruleInfo.minimum_service_fee_money"}})]:e._e()],2),t("el-form-item",{attrs:{label:"非直采服务费是否计税",prop:"fzc_service_fee_money"}},[t("el-radio-group",{model:{value:e.ruleInfo.fzc_service_fee_money,callback:function(t){e.$set(e.ruleInfo,"fzc_service_fee_money",t)},expression:"ruleInfo.fzc_service_fee_money"}},[t("el-radio",{attrs:{label:1}},[e._v("计VAT税")]),t("el-radio",{attrs:{label:0}},[e._v("不计VAT税")])],1)],1),t("el-form-item",{attrs:{label:"直采服务费规则",prop:"zhicai_service"}},[t("el-radio-group",{model:{value:e.ruleInfo.zhicai_service,callback:function(t){e.$set(e.ruleInfo,"zhicai_service",t)},expression:"ruleInfo.zhicai_service"}},[t("el-radio",{attrs:{label:0}},[e._v("默认规则")]),t("el-radio",{attrs:{label:1}},[e._v("拜耳规则")])],1),t("div",[t("el-table",{directives:[{name:"show",rawName:"v-show",value:e.ruleInfo.zhicai_service,expression:"ruleInfo.zhicai_service"}],staticClass:"table",attrs:{data:e.ruleInfo.service_list,border:""}},[t("el-table-column",{attrs:{align:"center",prop:"grade_name",label:"等级名称"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-input",{model:{value:r.row.grade_name,callback:function(t){e.$set(r.row,"grade_name",t)},expression:"scope.row.grade_name"}})]}}])}),t("el-table-column",{attrs:{align:"center",prop:"grade_price",label:"固定单价",width:"300"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-input-number",{staticStyle:{width:"50%"},attrs:{controls:!1,precision:2},model:{value:r.row.grade_price,callback:function(t){e.$set(r.row,"grade_price",e._n(t))},expression:"scope.row.grade_price"}})]}}])}),t("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.addGrade(r.$index)}}},[e._v(" 添加 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=r.$index,expression:"scope.$index != 0"}],attrs:{type:"text"},on:{click:function(t){return e.delGrade(r.$index)}}},[e._v(" 删除 ")])]}}])})],1)],1)],1),t("el-form-item",{attrs:{label:"“开票通知文件” 字段",prop:"kp_notice_file"}},[t("el-radio-group",{on:{change:e.kpNoticeChange},model:{value:e.ruleInfo.kp_notice_file,callback:function(t){e.$set(e.ruleInfo,"kp_notice_file",t)},expression:"ruleInfo.kp_notice_file"}},[t("el-radio",{attrs:{label:0}},[e._v("不显示")]),t("el-radio",{attrs:{label:1}},[e._v("订单中显示")])],1),t("span",{staticStyle:{"margin-left":"20px"}},[e._v("注：选择“订单中显示”，结算单审核通过后系统邮件/短信通知供应商上传“开票通知文件”")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.ruleInfo.kp_notice_file,expression:"ruleInfo.kp_notice_file"}],staticStyle:{"margin-left":"30px"}},[t("el-radio",{attrs:{label:0,name:"person"},on:{change:e.personTypeChange},model:{value:e.ruleInfo.kp_relevant,callback:function(t){e.$set(e.ruleInfo,"kp_relevant",t)},expression:"ruleInfo.kp_relevant"}},[e._v("相关人员")]),t("div",{staticStyle:{"margin-left":"40px"}},[t("el-checkbox-group",{model:{value:e.ruleInfo.kp_relevant_user,callback:function(t){e.$set(e.ruleInfo,"kp_relevant_user",t)},expression:"ruleInfo.kp_relevant_user"}},e._l(e.relatedPersonList,(function(r){return t("el-checkbox",{key:r.id,attrs:{label:r.name,disabled:1==e.ruleInfo.kp_relevant}})})),1)],1),t("el-radio",{attrs:{label:1,name:"person"},on:{change:e.personTypeChange},model:{value:e.ruleInfo.kp_relevant,callback:function(t){e.$set(e.ruleInfo,"kp_relevant",t)},expression:"ruleInfo.kp_relevant"}},[e._v("指定人员")]),t("el-button",{staticStyle:{padding:"7px 6px","font-size":"7px","margin-left":"50px"},attrs:{type:"primary",disabled:0==e.ruleInfo.kp_relevant},on:{click:function(t){return e.addList(1)}}},[e._v("添加")]),t("p",[e._v(" "+e._s(this.kp_appoint_fullname)),t("i",{staticClass:"ico del"})])],1)],1),t("el-form-item",{attrs:{label:" “发票附件” 字段",prop:"invoice_file"}},[t("el-radio-group",{model:{value:e.ruleInfo.invoice_file,callback:function(t){e.$set(e.ruleInfo,"invoice_file",t)},expression:"ruleInfo.invoice_file"}},[t("el-radio",{attrs:{label:0}},[e._v("不显示")]),t("el-radio",{attrs:{label:1}},[e._v("订单中显示")])],1),t("span",{staticStyle:{"margin-left":"20px"}},[e._v(" 注：选择“订单中显示”，我方在结算单上传“发票附件”后系统邮件/短信通知供应商")])],1),t("el-form-item",{attrs:{label:" “Cevent 上传完成日期” 字段",prop:"cvent_date"}},[t("el-radio-group",{on:{change:e.cventDateChange},model:{value:e.ruleInfo.cvent_date,callback:function(t){e.$set(e.ruleInfo,"cvent_date",t)},expression:"ruleInfo.cvent_date"}},[t("el-radio",{attrs:{label:0}},[e._v("不显示")]),t("el-radio",{attrs:{label:1}},[e._v("订单中显示")])],1),t("span",{staticStyle:{"margin-left":"20px"}},[e._v(" 注：选择“订单中显示”，结算单审核通过后系统邮件/短信通知供应商上传“开票通知文件”")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.ruleInfo.cvent_date,expression:"ruleInfo.cvent_date"}],staticStyle:{"margin-left":"30px"}},[t("el-radio",{attrs:{label:0,name:"person"},on:{change:e.updatedDate_personTypeChange},model:{value:e.ruleInfo.cvent_relevant,callback:function(t){e.$set(e.ruleInfo,"cvent_relevant",t)},expression:"ruleInfo.cvent_relevant"}},[e._v("相关人员")]),t("div",{staticStyle:{"margin-left":"40px"}},[t("el-checkbox-group",{model:{value:e.ruleInfo.cvent_relevant_user,callback:function(t){e.$set(e.ruleInfo,"cvent_relevant_user",t)},expression:"ruleInfo.cvent_relevant_user"}},e._l(e.relatedPersonList,(function(r){return t("el-checkbox",{key:r.id,attrs:{label:r.name,disabled:1==e.ruleInfo.cvent_relevant}})})),1)],1),t("el-radio",{attrs:{label:1,name:"person"},on:{change:e.updatedDate_personTypeChange},model:{value:e.ruleInfo.cvent_relevant,callback:function(t){e.$set(e.ruleInfo,"cvent_relevant",t)},expression:"ruleInfo.cvent_relevant"}},[e._v("指定人员")]),t("el-button",{staticStyle:{padding:"7px 6px","font-size":"7px","margin-left":"50px"},attrs:{type:"primary",disabled:0==e.ruleInfo.cvent_relevant},on:{click:function(t){return e.addList(2)}}},[e._v("添加")]),t("p",[e._v(" "+e._s(this.cvent_appoint_fullname)),t("i",{staticClass:"ico del"})])],1)],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:4}},model:{value:e.ruleInfo.remark,callback:function(t){e.$set(e.ruleInfo,"remark",t)},expression:"ruleInfo.remark"}})],1),t("el-form-item",[t("el-button",{staticClass:"form-btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleInfo")}}},[e._v("保存")]),t("el-button",{staticClass:"form-btn",on:{click:function(t){return e.toPage()}}},[e._v("取消")])],1)],1),t("el-dialog",{attrs:{title:"查找指定人员",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.getUserValue,callback:function(t){e.getUserValue=t},expression:"getUserValue"}},e._l(e.getUserList,(function(e){return t("el-option",{key:e.username,attrs:{label:e.fullname,value:e.username}})})),1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addPerson}},[e._v("确 定")])],1)],1)],1)},l=[],a=r("cf45"),n={data(){return{tableData:[{project:"客房需求",type:0,taxRate:0,isnotservice:1,serviceFee:0},{project:"会场需求",type:0,taxRate:0,isnotservice:1,serviceFee:0},{project:"酒店内餐饮需求",type:0,taxRate:0,isnotservice:1,serviceFee:0},{project:"酒店外餐饮需求",type:0,taxRate:0,isnotservice:1,serviceFee:0},{project:"大交通",type:0,taxRate:0,isnotservice:1,serviceFee:0},{project:"地面交通",type:0,taxRate:0,isnotservice:1,serviceFee:0},{project:"其他服务",type:0,taxRate:0}],relatedPersonList:[{id:"0032-1",name:"会议创建人"},{id:"0032-2",name:"会议负责人"},{id:"0032-3",name:"会议指定采购"},{id:"0032-4",name:"会议指定合规人员"},{id:"0032-5",name:"会议助理"}],rules:{customerid:[{required:!0,message:"请选择客户",trigger:"change"}],ruleTemplate_BusinessOffer_id:[{required:!0,message:"请选择模板",trigger:"change"}],ruleTemplate_BusinessSettlement_id:[{required:!0,message:"请选择模板",trigger:"change"}],ruleTemplate_VendorQuotation_id:[{required:!0,message:"请选择模板",trigger:"change"}],ruleTemplate_SupplierSettlement_id:[{required:!0,message:"请选择模板",trigger:"change"}],flat_tax_rate:[{required:!0,message:"请输入税率",trigger:"blur"}],vat_reduction_pre_tax:[{required:!0,message:"请选择",trigger:"change"}],vatcanedit:[{required:!0,message:"请选择",trigger:"change"}],service_fee_calculation_method:[{required:!0,message:"请选择",trigger:"change"}],servicecanedit:[{required:!0,message:"请选择",trigger:"change"}],vatrule:[{required:!0,message:"请选择",trigger:"change"}]},ruleInfo:{car_inquiry_isnotservice:1,car_inquiry_service_taxrate:0,car_inquiry_taxrate:0,car_inquiry_type:0,conference_inquiry_isnotservice:1,conference_inquiry_service_taxrate:0,conference_inquiry_taxrate:0,conference_inquiry_type:0,customerid:null,eventtype:"",service_type:[],zhicai_service:0,kp_notice_file:0,kp_relevant:0,kp_relevant_user:[],kp_appoint_user:"",invoice_file:0,bjqrisdisplay:0,jsqrisdisplay:0,cvent_date:0,cvent_relevant:0,cvent_relevant_user:[],cvent_appoint_user:"",hotel_food_inquiry_isnotservice:1,hotel_food_inquiry_service_taxrate:0,hotel_food_inquiry_taxrate:0,hotel_food_inquiry_type:0,id:"",configid:"",ladder:[{id:"",ladder_min:0,ladder_max:"",ladder_taxrate:0}],grade:[{id:"",grade_money:"",grade_taxrate:0}],other:[{id:"",othercode:"",servicerate:0,iscalservice:1}],service_list:[{id:"",grade_name:"",grade_price:0}],other_inquiry_taxrate:"",other_inquiry_type:0,others_food_inquiry_isnotservice:1,others_food_inquiry_service_taxrate:0,others_food_inquiry_taxrate:0,others_food_inquiry_type:0,province_code:"",remark:"",room_inquiry_isnotservice:1,room_inquiry_service_taxrate:0,room_inquiry_taxrate:0,room_inquiry_type:0,service_fee_calculation_method:1,service_taxrate:0,servicecanedit:0,service_fee_ratio:0,minimum_service_fee:0,minimum_service_fee_money:0,fzc_service_fee_money:0,template:[{id:"",templateid:"",type:1}],transportation_inquiry_isnotservice:1,transportation_inquiry_service_taxrate:0,transportation_inquiry_taxrate:0,transportation_inquiry_type:0,vat_reduction_pre_tax:0,vatcanedit:0,vatrule:1,ruleTemplate_BusinessOffer_id:"",ruleTemplate_BusinessSettlement_id:"",ruleTemplate_VendorQuotation_id:"",ruleTemplate_SupplierSettlement_id:"",ruleTemplate_SupplierOfferConfirm_id:"",ruleTemplate_SupplierSettlementConfirm_id:"",flat_tax_rate:0,provinceList:[],meeting:[]},dialogVisible:!1,getUserValue:"",getUserList:[],kp_appoint_fullname:"",cvent_appoint_fullname:"",type:0,addtype:"",id:"",addOrEdit:0,company_name:"",meetingType:[],customers:[],city:[],serviceList:[],ruleTemplate:[],ruleTemplate_BusinessOffer:[],ruleTemplate_BusinessSettlement:[],ruleTemplate_VendorQuotation:[],ruleTemplate_SupplierSettlement:[],ruleTemplate_SupplierOfferConfirm:[],ruleTemplate_SupplierSettlementConfirm:[],BusinessOffer_id:"",BusinessSettlement_id:"",VendorQuotation_id:"",SupplierSettlement_id:"",SupplierOfferConfirm_id:"",SupplierSettlementConfirm_id:""}},mounted(){this.type=this.$route.params.type,this.id=this.$route.params.id,this.company_name=this.$route.params.company_name,this.addOrEdit=this.$route.params.addOrEdit,this.getRuleTemplate(),this.$nextTick(()=>{this.getRuleEdit(),1==this.addOrEdit&&this.getServiceType()})},computed:{},watch:{},methods:{formatNum:a["e"],positiveFloat:a["m"],arraySpanMethod({row:e,column:t,rowIndex:r,columnIndex:i}){return r>=7&&0==i?[1,3]:r>=7&&(1==i||2==i)?[1,0]:void 0},addLadder(){this.ruleInfo.ladder[this.ruleInfo.ladder.length-1].ladder_max?this.ruleInfo.ladder.push({id:"",ladder_min:"",ladder_max:"",ladder_taxrate:""}):this.$message.error("请将上一阶梯信息填写完整")},delLadder(e){this.ruleInfo.ladder.splice(e,1)},addTiaodang(){""!=this.ruleInfo.grade[this.ruleInfo.grade.length-1].grade_money?this.ruleInfo.grade.push({id:"",grade_money:"",grade_taxrate:""}):this.$message.error("请将上一档次信息填写完整")},delTiaodang(e){this.ruleInfo.grade.splice(e,1)},addGrade(e){let t={id:"",grade_name:"",grade_price:0};this.ruleInfo.service_list.splice(e+1,0,t)},delGrade(e){this.ruleInfo.service_list.splice(e,1)},bjqrisdisplayChange(e){0==e&&(this.ruleInfo.ruleTemplate_SupplierOfferConfirm_id="")},jsqrisdisplayChange(e){0==e&&(this.ruleInfo.ruleTemplate_SupplierSettlementConfirm_id="")},kpNoticeChange(e){0==e&&(this.ruleInfo.kp_relevant_user=[],this.kp_appoint_fullname="")},cventDateChange(e){0==e&&(this.ruleInfo.cvent_relevant_user=[],this.cvent_appoint_fullname="")},personTypeChange(e){1==e?this.ruleInfo.kp_relevant_user=[]:this.kp_appoint_fullname=""},updatedDate_personTypeChange(e){1==e?this.ruleInfo.cvent_relevant_user=[]:this.cvent_appoint_fullname=""},addList(e){this.dialogVisible=!0,this.addtype=e,this.getUserValue=""},addPerson(){this.dialogVisible=!1,this.getUserList.forEach(e=>{if(e.username==this.getUserValue)return 1==this.addtype?this.ruleInfo.kp_appoint_user.length>0?(this.ruleInfo.kp_appoint_user+=","+this.getUserValue,this.kp_appoint_fullname+=","+e.fullname):(this.ruleInfo.kp_appoint_user=this.getUserValue,this.kp_appoint_fullname=e.fullname):2==this.addtype&&(this.ruleInfo.cvent_appoint_user.length>0?(this.ruleInfo.cvent_appoint_user+=","+this.getUserValue,this.cvent_appoint_fullname+=","+e.fullname):(this.ruleInfo.cvent_appoint_user=this.getUserValue,this.cvent_appoint_fullname=e.fullname)),!1})},toPage(){this.$router.push({name:"otherSeetings",params:{activeName:"second"}})},getServiceType(){this.$api.getServiceType({},"post").then(e=>{this.serviceList=e,this.serviceList.forEach((e,t)=>{this.ruleInfo.service_type.forEach((t,r)=>{e.id==t&&(this.ruleInfo.service_type[r]=e.name,console.log(this.ruleInfo.service_type))})})})},getMeetingTypeShow(){this.$api.getMeetingTypeShow({CompanyID:this.ruleInfo.customerid},"POST").then(e=>{this.meetingType=null==e||void 0==e||1==e?[]:e,this.meetingType.forEach((e,t)=>{this.ruleInfo.meeting.forEach((t,r)=>{e.id==t&&(this.ruleInfo.meeting[r]=e.name)})})})},getProvinceCity(){},getRuleTemplate(){this.$api.getRuleTemplate({},"POST").then(e=>{this.ruleTemplate=null==e||void 0==e||1==e?[]:e,this.ruleTemplate_BusinessOffer=this.ruleTemplate.filter(e=>1==e.type),this.ruleTemplate_BusinessSettlement=this.ruleTemplate.filter(e=>2==e.type),this.ruleTemplate_VendorQuotation=this.ruleTemplate.filter(e=>3==e.type),this.ruleTemplate_SupplierSettlement=this.ruleTemplate.filter(e=>4==e.type),this.ruleTemplate_SupplierOfferConfirm=this.ruleTemplate.filter(e=>5==e.type),this.ruleTemplate_SupplierSettlementConfirm=this.ruleTemplate.filter(e=>6==e.type)})},getRuleOther(){},async getRuleEdit(){await this.$api.getCompany({},"POST").then(e=>{this.customers=null==e||void 0==e||1==e?[]:e}),await this.$api.getRuleOther({},"POST").then(e=>{null!=e&&void 0!=e&&1!=e||(e=[]),e.forEach((e,t)=>{this.tableData.push({project:e.name,isnotservice:1,code:e.code,serviceFee:0,id:""})})}),await this.$api.ProvinceCity({},"POST").then(e=>{this.city=null==e||void 0==e||1==e?[]:e}),await this.$api.GetUser({},"POST").then(e=>{this.getUserList=e}),await this.$api.RuleEdit({RuleID:this.id},"POST").then(e=>{if(1==this.addOrEdit);else if(this.ruleInfo=e,this.ruleInfo.zhicai_service=""===this.ruleInfo.zhicai_service?0:this.ruleInfo.zhicai_service,0==this.ruleInfo.service_list.length){let e={id:"",grade_name:"",grade_price:0};this.ruleInfo.service_list.push(e)}this.$nextTick(()=>{this.$set(this.ruleInfo,"provinceList",this.ruleInfo.province_code?this.ruleInfo.province_code.split(","):[]),this.$set(this.ruleInfo,"meeting",this.ruleInfo.eventtype?this.ruleInfo.eventtype.split(","):[]),this.$set(this.ruleInfo,"service_type","string"==typeof this.ruleInfo.service_type?this.ruleInfo.service_type.split(","):[]),this.$set(this.ruleInfo,"customerid",parseInt(this.ruleInfo.customerid)?parseInt(this.ruleInfo.customerid):null);let e=this.ruleInfo.kp_relevant_user.split(","),t=this.ruleInfo.kp_appoint_user.split(","),r=this.ruleInfo.cvent_relevant_user.split(","),i=this.ruleInfo.cvent_appoint_user.split(",");this.getUserList.forEach(e=>{t.forEach(t=>{e.username==t&&(this.kp_appoint_fullname.length>0?this.kp_appoint_fullname+=","+e.fullname:this.kp_appoint_fullname=e.fullname)}),i.forEach(t=>{e.username==t&&(this.cvent_appoint_fullname.length>0?this.cvent_appoint_fullname+=","+e.fullname:this.cvent_appoint_fullname=e.fullname)})}),this.ruleInfo.kp_relevant_user=[],this.ruleInfo.cvent_relevant_user=[],this.relatedPersonList.forEach((t,i)=>{e.forEach((e,r)=>{t.id==e&&this.ruleInfo.kp_relevant_user.push(t.name)}),r.forEach((e,r)=>{t.id==e&&this.ruleInfo.cvent_relevant_user.push(t.name)})});var l=this.ruleInfo.template.filter(e=>1==e.type),a=this.ruleInfo.template.filter(e=>2==e.type),n=this.ruleInfo.template.filter(e=>3==e.type),o=this.ruleInfo.template.filter(e=>4==e.type),s=this.ruleInfo.template.filter(e=>5==e.type),u=this.ruleInfo.template.filter(e=>6==e.type);this.$set(this.ruleInfo,"ruleTemplate_BusinessOffer_id",l[0]?l[0].templateid:null),this.$set(this.ruleInfo,"ruleTemplate_BusinessSettlement_id",a[0]?a[0].templateid:null),this.$set(this.ruleInfo,"ruleTemplate_VendorQuotation_id",n[0]?n[0].templateid:null),this.$set(this.ruleInfo,"ruleTemplate_SupplierSettlement_id",o[0]?o[0].templateid:null),this.$set(this.ruleInfo,"ruleTemplate_SupplierOfferConfirm_id",s[0]?s[0].templateid:null),this.$set(this.ruleInfo,"ruleTemplate_SupplierSettlementConfirm_id",u[0]?u[0].templateid:null),this.$set(this,"BusinessOffer_id",l[0]?l[0].id:null),this.$set(this,"BusinessSettlement_id",a[0]?a[0].id:null),this.$set(this,"VendorQuotation_id",n[0]?n[0].id:null),this.$set(this,"SupplierSettlement_id",o[0]?o[0].id:null),this.$set(this,"SupplierOfferConfirm_id",s[0]?s[0].id:null),this.$set(this,"SupplierSettlementConfirm_id",u[0]?u[0].id:null),this.$set(this.ruleInfo,"flat_tax_rate",this.ruleInfo.room_inquiry_taxrate),0!=this.ruleInfo.ladder.length&&this.ruleInfo.ladder||this.$set(this.ruleInfo,"ladder",[{id:"",ladder_min:0,ladder_max:"",ladder_taxrate:0}]),0!=this.ruleInfo.grade.length&&this.ruleInfo.grade||this.$set(this.ruleInfo,"grade",[{id:"",grade_money:"",grade_taxrate:0}]),1!=this.addOrEdit&&this.tableData.forEach((e,t)=>{if(0==t&&(e.type=this.ruleInfo.room_inquiry_type,e.taxRate=this.ruleInfo.room_inquiry_taxrate,e.isnotservice=this.ruleInfo.room_inquiry_isnotservice,e.serviceFee=this.ruleInfo.room_inquiry_service_taxrate),1==t&&(e.type=this.ruleInfo.conference_inquiry_type,e.taxRate=this.ruleInfo.conference_inquiry_taxrate,e.isnotservice=this.ruleInfo.conference_inquiry_isnotservice,e.serviceFee=this.ruleInfo.conference_inquiry_service_taxrate),2==t&&(e.type=this.ruleInfo.hotel_food_inquiry_type,e.taxRate=this.ruleInfo.hotel_food_inquiry_taxrate,e.isnotservice=this.ruleInfo.hotel_food_inquiry_isnotservice,e.serviceFee=this.ruleInfo.hotel_food_inquiry_service_taxrate),3==t&&(e.type=this.ruleInfo.others_food_inquiry_type,e.taxRate=this.ruleInfo.others_food_inquiry_taxrate,e.isnotservice=this.ruleInfo.others_food_inquiry_isnotservice,e.serviceFee=this.ruleInfo.others_food_inquiry_service_taxrate),4==t&&(e.type=this.ruleInfo.transportation_inquiry_type,e.taxRate=this.ruleInfo.transportation_inquiry_taxrate,e.isnotservice=this.ruleInfo.transportation_inquiry_isnotservice,e.serviceFee=this.ruleInfo.transportation_inquiry_service_taxrate),5==t&&(e.type=this.ruleInfo.car_inquiry_type,e.taxRate=this.ruleInfo.car_inquiry_taxrate,e.isnotservice=this.ruleInfo.car_inquiry_isnotservice,e.serviceFee=this.ruleInfo.car_inquiry_service_taxrate),6==t&&(e.type=this.ruleInfo.other_inquiry_type,e.taxRate=this.ruleInfo.other_inquiry_taxrate),t>6){var r=this.ruleInfo.other.filter(t=>e.code==t.othercode);e.isnotservice=r[0]?r[0].iscalservice:1,e.serviceFee=r[0]?r[0].servicerate:0,e.id=r[0]?r[0].id:""}}),this.getMeetingTypeShow(),this.getServiceType(),this.getRuleTemplate(),this.$forceUpdate()})})},submitForm(e){this.$refs[e].validate(e=>{let t=!0;return 1==this.ruleInfo.zhicai_service&&this.ruleInfo.service_list.forEach(e=>{if(""===e.grade_name||""===e.grade_price)return t=!1,!1}),t?e?void this.RuleSava():(this.$message.error("请填写表单必填项！"),!1):(this.$message.error("等级列表请填写完整"),!1)})},RuleSava(){if(!this.ruleInfo.customerid&&1==this.type)return this.$message.error("请填写表单必填项！"),!1;if(1==this.ruleInfo.service_fee_calculation_method)for(var e=0;e<this.ruleInfo.ladder.length;e++){if(""==this.ruleInfo.ladder[e].ladder_taxrate||null==this.ruleInfo.ladder[e].ladder_taxrate||""===this.ruleInfo.ladder[e].ladder_min||""===this.ruleInfo.ladder[e].ladder_max)return void this.$message.error(`阶梯${e+1} 有未填写数据`);if(parseFloat(this.ruleInfo.ladder[e].ladder_max)<=parseFloat(this.ruleInfo.ladder[e].ladder_min))return void this.$message.error(`阶梯${e+1} 最大值必须大于最小值`);if(e>0&&parseFloat(this.ruleInfo.ladder[e].ladder_min)<=parseFloat(this.ruleInfo.ladder[e-1].ladder_max))return void this.$message.error(`阶梯${e+1} 最小值必须大于上一阶梯最大值`)}if(2==this.ruleInfo.service_fee_calculation_method)for(e=0;e<this.ruleInfo.grade.length;e++){if(""==this.ruleInfo.grade[e].grade_taxrate||null==this.ruleInfo.grade[e].grade_taxrate||""===this.ruleInfo.grade[e].grade_money)return void this.$message.error(`档次${e+1} 有未填写数据`);if(e>0&&parseFloat(this.ruleInfo.grade[e].grade_money)<=parseFloat(this.ruleInfo.grade[e-1].grade_money))return void this.$message.error(`档次${e+1} 金额必须大于上一档次金额`)}this.ruleInfo.province_code=this.ruleInfo.provinceList.join(","),this.ruleInfo.template=[],this.ruleInfo.template.push({id:this.BusinessOffer_id,templateid:this.ruleInfo.ruleTemplate_BusinessOffer_id,type:1}),this.ruleInfo.template.push({id:this.BusinessSettlement_id,templateid:this.ruleInfo.ruleTemplate_BusinessSettlement_id,type:2}),this.ruleInfo.template.push({id:this.VendorQuotation_id,templateid:this.ruleInfo.ruleTemplate_VendorQuotation_id,type:3}),this.ruleInfo.template.push({id:this.SupplierSettlement_id,templateid:this.ruleInfo.ruleTemplate_SupplierSettlement_id,type:4}),this.ruleInfo.template.push({id:this.SupplierOfferConfirm_id,templateid:this.ruleInfo.ruleTemplate_SupplierOfferConfirm_id,type:5}),this.ruleInfo.template.push({id:this.SupplierSettlementConfirm_id,templateid:this.ruleInfo.ruleTemplate_SupplierSettlementConfirm_id,type:6}),this.tableData.forEach((e,t)=>{0==t&&(this.ruleInfo.room_inquiry_type=e.type,this.ruleInfo.room_inquiry_taxrate=e.taxRate,this.ruleInfo.room_inquiry_isnotservice=e.isnotservice,this.ruleInfo.room_inquiry_service_taxrate=e.serviceFee),1==t&&(this.ruleInfo.conference_inquiry_type=e.type,this.ruleInfo.conference_inquiry_taxrate=e.taxRate,this.ruleInfo.conference_inquiry_isnotservice=e.isnotservice,this.ruleInfo.conference_inquiry_service_taxrate=e.serviceFee),2==t&&(this.ruleInfo.hotel_food_inquiry_type=e.type,this.ruleInfo.hotel_food_inquiry_taxrate=e.taxRate,this.ruleInfo.hotel_food_inquiry_isnotservice=e.isnotservice,this.ruleInfo.hotel_food_inquiry_service_taxrate=e.serviceFee),3==t&&(this.ruleInfo.others_food_inquiry_type=e.type,this.ruleInfo.others_food_inquiry_taxrate=e.taxRate,this.ruleInfo.others_food_inquiry_isnotservice=e.isnotservice,this.ruleInfo.others_food_inquiry_service_taxrate=e.serviceFee),4==t&&(this.ruleInfo.transportation_inquiry_type=e.type,this.ruleInfo.transportation_inquiry_taxrate=e.taxRate,this.ruleInfo.transportation_inquiry_isnotservice=e.isnotservice,this.ruleInfo.transportation_inquiry_service_taxrate=e.serviceFee),5==t&&(this.ruleInfo.car_inquiry_type=e.type,this.ruleInfo.car_inquiry_taxrate=e.taxRate,this.ruleInfo.car_inquiry_isnotservice=e.isnotservice,this.ruleInfo.car_inquiry_service_taxrate=e.serviceFee),6==t&&(this.ruleInfo.other_inquiry_type=e.type,this.ruleInfo.other_inquiry_taxrate=e.taxRate),t>6&&(this.ruleInfo.other=[],this.tableData.forEach((e,t)=>{t>6&&this.ruleInfo.other.push({othercode:e.code,servicerate:e.serviceFee,iscalservice:e.isnotservice,id:e.id})}))}),1==this.ruleInfo.vatrule&&(this.ruleInfo.room_inquiry_taxrate=this.ruleInfo.flat_tax_rate,this.ruleInfo.conference_inquiry_taxrate=this.ruleInfo.flat_tax_rate,this.ruleInfo.hotel_food_inquiry_taxrate=this.ruleInfo.flat_tax_rate,this.ruleInfo.others_food_inquiry_taxrate=this.ruleInfo.flat_tax_rate,this.ruleInfo.transportation_inquiry_taxrate=this.ruleInfo.flat_tax_rate,this.ruleInfo.car_inquiry_taxrate=this.ruleInfo.flat_tax_rate,this.ruleInfo.other_inquiry_taxrate=this.ruleInfo.flat_tax_rate,this.ruleInfo.service_taxrate=this.ruleInfo.flat_tax_rate);var t=JSON.parse(JSON.stringify(this.ruleInfo));this.meetingType.forEach((e,r)=>{t.meeting.forEach((r,i)=>{e.name==r&&(t.meeting[i]=e.id)})}),this.serviceList.forEach((e,r)=>{t.service_type.forEach((r,i)=>{e.name==r&&(t.service_type[i]=e.id)})}),this.relatedPersonList.forEach((e,r)=>{t.kp_relevant_user.forEach((r,i)=>{e.name==r&&(t.kp_relevant_user[i]=e.id)}),t.cvent_relevant_user.forEach((r,i)=>{e.name==r&&(t.cvent_relevant_user[i]=e.id)})}),t.kp_relevant_user=t.kp_relevant_user.join(","),t.cvent_relevant_user=t.cvent_relevant_user.join(","),t.eventtype=t.meeting.join(","),t.service_type=t.service_type.join(","),delete t.provinceList,delete t.meeting,delete t.flat_tax_rate,delete t.ruleTemplate_BusinessOffer_id,delete t.ruleTemplate_BusinessSettlement_id,delete t.ruleTemplate_VendorQuotation_id,delete t.ruleTemplate_SupplierSettlement_id,delete t.ruleTemplate_SupplierOfferConfirm_id,delete t.ruleTemplate_SupplierSettlementConfirm_id,this.$api.RuleSava({Parameter:JSON.stringify(t)},"POST").then(e=>{console.log(e),this.$router.push({name:"otherSeetings",params:{activeName:"second"}})})},change(e){console.log(e)},eventData(e){console.log(e)},customerChange(e){this.getMeetingTypeShow()}}},o=n,s=(r("334d"),r("0b56")),u=Object(s["a"])(o,i,l,!1,null,"1498092d",null);t["default"]=u.exports},2445:function(e,t,r){},"334d":function(e,t,r){"use strict";r("2445")}}]);